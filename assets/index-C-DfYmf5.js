(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function Y_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Uf={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function ET(){if(Sy)return kl;Sy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return kl.Fragment=e,kl.jsx=i,kl.jsxs=i,kl}var by;function TT(){return by||(by=1,Uf.exports=ET()),Uf.exports}var Qt=TT(),Lf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function AT(){if(Ry)return bt;Ry=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.iterator;function C(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,K={};function j(V,W,lt){this.props=V,this.context=W,this.refs=K,this.updater=lt||x}j.prototype.isReactComponent={},j.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function X(){}X.prototype=j.prototype;function at(V,W,lt){this.props=V,this.context=W,this.refs=K,this.updater=lt||x}var tt=at.prototype=new X;tt.constructor=at,P(tt,j.prototype),tt.isPureReactComponent=!0;var it=Array.isArray,ot={H:null,A:null,T:null,S:null,V:null},_t=Object.prototype.hasOwnProperty;function O(V,W,lt,nt,mt,Ct){return lt=Ct.ref,{$$typeof:a,type:V,key:W,ref:lt!==void 0?lt:null,props:Ct}}function b(V,W){return O(V.type,W,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function N(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(lt){return W[lt]})}var M=/\/+/g;function L(V,W){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):W.toString(36)}function D(){}function Me(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ae(V,W,lt,nt,mt){var Ct=typeof V;(Ct==="undefined"||Ct==="boolean")&&(V=null);var Tt=!1;if(V===null)Tt=!0;else switch(Ct){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(V.$$typeof){case a:case e:Tt=!0;break;case T:return Tt=V._init,ae(Tt(V._payload),W,lt,nt,mt)}}if(Tt)return mt=mt(V),Tt=nt===""?"."+L(V,0):nt,it(mt)?(lt="",Tt!=null&&(lt=Tt.replace(M,"$&/")+"/"),ae(mt,W,lt,"",function(Pn){return Pn})):mt!=null&&(R(mt)&&(mt=b(mt,lt+(mt.key==null||V&&V.key===mt.key?"":(""+mt.key).replace(M,"$&/")+"/")+Tt)),W.push(mt)),1;Tt=0;var we=nt===""?".":nt+":";if(it(V))for(var Zt=0;Zt<V.length;Zt++)nt=V[Zt],Ct=we+L(nt,Zt),Tt+=ae(nt,W,lt,Ct,mt);else if(Zt=C(V),typeof Zt=="function")for(V=Zt.call(V),Zt=0;!(nt=V.next()).done;)nt=nt.value,Ct=we+L(nt,Zt++),Tt+=ae(nt,W,lt,Ct,mt);else if(Ct==="object"){if(typeof V.then=="function")return ae(Me(V),W,lt,nt,mt);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function Q(V,W,lt){if(V==null)return V;var nt=[],mt=0;return ae(V,nt,"","",function(Ct){return W.call(lt,Ct,mt++)}),nt}function st(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(lt){(V._status===0||V._status===-1)&&(V._status=1,V._result=lt)},function(lt){(V._status===0||V._status===-1)&&(V._status=2,V._result=lt)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var ft=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function zt(){}return bt.Children={map:Q,forEach:function(V,W,lt){Q(V,function(){W.apply(this,arguments)},lt)},count:function(V){var W=0;return Q(V,function(){W++}),W},toArray:function(V){return Q(V,function(W){return W})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},bt.Component=j,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=at,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot,bt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ot.H.useMemoCache(V)}},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cloneElement=function(V,W,lt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var nt=P({},V.props),mt=V.key,Ct=void 0;if(W!=null)for(Tt in W.ref!==void 0&&(Ct=void 0),W.key!==void 0&&(mt=""+W.key),W)!_t.call(W,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&W.ref===void 0||(nt[Tt]=W[Tt]);var Tt=arguments.length-2;if(Tt===1)nt.children=lt;else if(1<Tt){for(var we=Array(Tt),Zt=0;Zt<Tt;Zt++)we[Zt]=arguments[Zt+2];nt.children=we}return O(V.type,mt,void 0,void 0,Ct,nt)},bt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},bt.createElement=function(V,W,lt){var nt,mt={},Ct=null;if(W!=null)for(nt in W.key!==void 0&&(Ct=""+W.key),W)_t.call(W,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(mt[nt]=W[nt]);var Tt=arguments.length-2;if(Tt===1)mt.children=lt;else if(1<Tt){for(var we=Array(Tt),Zt=0;Zt<Tt;Zt++)we[Zt]=arguments[Zt+2];mt.children=we}if(V&&V.defaultProps)for(nt in Tt=V.defaultProps,Tt)mt[nt]===void 0&&(mt[nt]=Tt[nt]);return O(V,Ct,void 0,void 0,null,mt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:g,render:V}},bt.isValidElement=R,bt.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:st}},bt.memo=function(V,W){return{$$typeof:y,type:V,compare:W===void 0?null:W}},bt.startTransition=function(V){var W=ot.T,lt={};ot.T=lt;try{var nt=V(),mt=ot.S;mt!==null&&mt(lt,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(zt,ft)}catch(Ct){ft(Ct)}finally{ot.T=W}},bt.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()},bt.use=function(V){return ot.H.use(V)},bt.useActionState=function(V,W,lt){return ot.H.useActionState(V,W,lt)},bt.useCallback=function(V,W){return ot.H.useCallback(V,W)},bt.useContext=function(V){return ot.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,W){return ot.H.useDeferredValue(V,W)},bt.useEffect=function(V,W,lt){var nt=ot.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(V,W)},bt.useId=function(){return ot.H.useId()},bt.useImperativeHandle=function(V,W,lt){return ot.H.useImperativeHandle(V,W,lt)},bt.useInsertionEffect=function(V,W){return ot.H.useInsertionEffect(V,W)},bt.useLayoutEffect=function(V,W){return ot.H.useLayoutEffect(V,W)},bt.useMemo=function(V,W){return ot.H.useMemo(V,W)},bt.useOptimistic=function(V,W){return ot.H.useOptimistic(V,W)},bt.useReducer=function(V,W,lt){return ot.H.useReducer(V,W,lt)},bt.useRef=function(V){return ot.H.useRef(V)},bt.useState=function(V){return ot.H.useState(V)},bt.useSyncExternalStore=function(V,W,lt){return ot.H.useSyncExternalStore(V,W,lt)},bt.useTransition=function(){return ot.H.useTransition()},bt.version="19.1.0",bt}var wy;function Sd(){return wy||(wy=1,Lf.exports=AT()),Lf.exports}var Y=Sd();const ST=Y_(Y);var Pf={exports:{}},Bl={},zf={exports:{}},kf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function bT(){return Cy||(Cy=1,function(a){function e(Q,st){var ft=Q.length;Q.push(st);t:for(;0<ft;){var zt=ft-1>>>1,V=Q[zt];if(0<o(V,st))Q[zt]=st,Q[ft]=V,ft=zt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var st=Q[0],ft=Q.pop();if(ft!==st){Q[0]=ft;t:for(var zt=0,V=Q.length,W=V>>>1;zt<W;){var lt=2*(zt+1)-1,nt=Q[lt],mt=lt+1,Ct=Q[mt];if(0>o(nt,ft))mt<V&&0>o(Ct,nt)?(Q[zt]=Ct,Q[mt]=ft,zt=mt):(Q[zt]=nt,Q[lt]=ft,zt=lt);else if(mt<V&&0>o(Ct,ft))Q[zt]=Ct,Q[mt]=ft,zt=mt;else break t}}return st}function o(Q,st){var ft=Q.sortIndex-st.sortIndex;return ft!==0?ft:Q.id-st.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],y=[],T=1,S=null,C=3,x=!1,P=!1,K=!1,j=!1,X=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function it(Q){for(var st=i(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=Q)s(y),st.sortIndex=st.expirationTime,e(p,st);else break;st=i(y)}}function ot(Q){if(K=!1,it(Q),!P)if(i(p)!==null)P=!0,_t||(_t=!0,L());else{var st=i(y);st!==null&&ae(ot,st.startTime-Q)}}var _t=!1,O=-1,b=5,R=-1;function N(){return j?!0:!(a.unstable_now()-R<b)}function M(){if(j=!1,_t){var Q=a.unstable_now();R=Q;var st=!0;try{t:{P=!1,K&&(K=!1,at(O),O=-1),x=!0;var ft=C;try{e:{for(it(Q),S=i(p);S!==null&&!(S.expirationTime>Q&&N());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,C=S.priorityLevel;var V=zt(S.expirationTime<=Q);if(Q=a.unstable_now(),typeof V=="function"){S.callback=V,it(Q),st=!0;break e}S===i(p)&&s(p),it(Q)}else s(p);S=i(p)}if(S!==null)st=!0;else{var W=i(y);W!==null&&ae(ot,W.startTime-Q),st=!1}}break t}finally{S=null,C=ft,x=!1}st=void 0}}finally{st?L():_t=!1}}}var L;if(typeof tt=="function")L=function(){tt(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Me=D.port2;D.port1.onmessage=M,L=function(){Me.postMessage(null)}}else L=function(){X(M,0)};function ae(Q,st){O=X(function(){Q(a.unstable_now())},st)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Q){Q.callback=null},a.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_next=function(Q){switch(C){case 1:case 2:case 3:var st=3;break;default:st=C}var ft=C;C=st;try{return Q()}finally{C=ft}},a.unstable_requestPaint=function(){j=!0},a.unstable_runWithPriority=function(Q,st){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ft=C;C=Q;try{return st()}finally{C=ft}},a.unstable_scheduleCallback=function(Q,st,ft){var zt=a.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?zt+ft:zt):ft=zt,Q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ft+V,Q={id:T++,callback:st,priorityLevel:Q,startTime:ft,expirationTime:V,sortIndex:-1},ft>zt?(Q.sortIndex=ft,e(y,Q),i(p)===null&&Q===i(y)&&(K?(at(O),O=-1):K=!0,ae(ot,ft-zt))):(Q.sortIndex=V,e(p,Q),P||x||(P=!0,_t||(_t=!0,L()))),Q},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(Q){var st=C;return function(){var ft=C;C=st;try{return Q.apply(this,arguments)}finally{C=ft}}}}(kf)),kf}var Dy;function RT(){return Dy||(Dy=1,zf.exports=bT()),zf.exports}var Bf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function wT(){if(Vy)return Ge;Vy=1;var a=Sd();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(p,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(p,y,null,T)},Ge.flushSync=function(p){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=T,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:x}):T==="script"&&s.d.X(p,{crossOrigin:S,integrity:C,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var Iy;function CT(){if(Iy)return Bf.exports;Iy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Bf.exports=wT(),Bf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function DT(){if(Ny)return Bl;Ny=1;var a=RT(),e=Sd(),i=CT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===r){v=!0,r=c,l=f;break}if(E===l){v=!0,l=c,r=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===r){v=!0,r=f,l=c;break}if(E===l){v=!0,l=f,r=c;break}E=E.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),at=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case j:return"Profiler";case K:return"StrictMode";case ot:return"Suspense";case _t:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case tt:return(t.displayName||"Context")+".Provider";case at:return(t._context.displayName||"Context")+".Consumer";case it:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var ae=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},zt=[],V=-1;function W(t){return{current:t}}function lt(t){0>V||(t.current=zt[V],zt[V]=null,V--)}function nt(t,n){V++,zt[V]=t.current,t.current=n}var mt=W(null),Ct=W(null),Tt=W(null),we=W(null);function Zt(t,n){switch(nt(Tt,n),nt(Ct,t),nt(mt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Zp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Zp(n),t=Jp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}lt(mt),nt(mt,t)}function Pn(){lt(mt),lt(Ct),lt(Tt)}function zi(t){t.memoizedState!==null&&nt(we,t);var n=mt.current,r=Jp(n,t.type);n!==r&&(nt(Ct,t),nt(mt,r))}function si(t){Ct.current===t&&(lt(mt),lt(Ct)),we.current===t&&(lt(we),xl._currentValue=ft)}var Cr=Object.prototype.hasOwnProperty,Dr=a.unstable_scheduleCallback,Vr=a.unstable_cancelCallback,Ns=a.unstable_shouldYield,mo=a.unstable_requestPaint,gn=a.unstable_now,xc=a.unstable_getCurrentPriorityLevel,Os=a.unstable_ImmediatePriority,_a=a.unstable_UserBlockingPriority,Ir=a.unstable_NormalPriority,Uc=a.unstable_LowPriority,va=a.unstable_IdlePriority,Ms=a.log,go=a.unstable_setDisableYieldValue,se=null,Ht=null;function rn(t){if(typeof Ms=="function"&&go(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,t)}catch{}}var He=Math.clz32?Math.clz32:Nr,po=Math.log,Lc=Math.LN2;function Nr(t){return t>>>=0,t===0?32:31-(po(t)/Lc|0)|0}var Or=256,Mr=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ea(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(v&=E,v!==0?c=Dn(v):r||(r=E&~t,r!==0&&(c=Dn(r))))):(E=l&~f,E!==0?c=Dn(E):v!==0?c=Dn(v):r||(r=l&~t,r!==0&&(c=Dn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function xr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Us(){var t=Or;return Or<<=1,(Or&4194048)===0&&(Or=256),t}function Ls(){var t=Mr;return Mr<<=1,(Mr&62914560)===0&&(Mr=4194304),t}function li(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function oi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ps(t,n,r,l,c,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(r=v&~r;0<r;){var F=31-He(r),Z=1<<F;E[F]=0,w[F]=-1;var q=B[F];if(q!==null)for(B[F]=null,F=0;F<q.length;F++){var H=q[F];H!==null&&(H.lane&=-536870913)}r&=~Z}l!==0&&zn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function zn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-He(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function zs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-He(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ki(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ta(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bi(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:yy(t.type))}function yo(t,n){var r=st.p;try{return st.p=t,n()}finally{st.p=r}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,de="__reactProps$"+Wt,pn="__reactContainer$"+Wt,ks="__reactEvents$"+Wt,Pc="__reactListeners$"+Wt,qi="__reactHandles$"+Wt,_o="__reactResources$"+Wt,Ur="__reactMarker$"+Wt;function Hi(t){delete t[_e],delete t[de],delete t[ks],delete t[Pc],delete t[qi]}function ui(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[pn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ny(t);t!==null;){if(r=t[_e])return r;t=ny(t)}return n}t=r,r=t.parentNode}return null}function kn(t){if(t=t[_e]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ye(t){var n=t[_o];return n||(n=t[_o]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Ur]=!0}var Bs=new Set,Aa={};function Vn(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(Aa[t]=n,t=0;t<n.length;t++)Bs.add(n[t])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},Lr={};function To(t){return Cr.call(Lr,t)?!0:Cr.call(Eo,t)?!1:vo.test(t)?Lr[t]=!0:(Eo[t]=!0,!1)}function ji(t,n,r){if(To(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function qn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function xe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Pr,Ao;function hi(t){if(Pr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Pr=n&&n[1]||"",Ao=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pr+t+Ao}var Sa=!1;function ba(t,n){if(!t||Sa)return"";Sa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var q=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){q=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){q=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var w=v.split(`
`),B=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===B.length)for(l=w.length-1,c=B.length-1;1<=l&&0<=c&&w[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==B[c]){var F=`
`+w[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Sa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?hi(r):""}function qs(t){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return ba(t.type,!1);case 11:return ba(t.type.render,!1);case 1:return ba(t.type,!0);case 31:return hi("Activity");default:return""}}function Ra(t){try{var n="";do n+=qs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zc(t){var n=Hs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function wa(t){t._valueTracker||(t._valueTracker=zc(t))}function js(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Hs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function zr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kc=/[\n"\\]/g;function me(t){return t.replace(kc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,r,l,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Gi(t,v,Xe(n)):r!=null?Gi(t,v,Xe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function kr(t,n,r,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Gi(t,n,r){n==="number"&&zr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function fi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function Br(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||qr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Gs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&So(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&So(t,f,n[f])}function Qs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(t){return qc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var di=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,gi=null;function Fs(t){var n=kn(t);if(n&&(t=n.stateNode)){var r=t[de]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[de]||null;if(!c)throw Error(s(90));an(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&js(l)}break t;case"textarea":Ft(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&fi(t,!!r.multiple,n,!1)}}}var Hn=!1;function bo(t,n,r){if(Hn)return t(n,r);Hn=!0;try{var l=t(n);return l}finally{if(Hn=!1,(mi!==null||gi!==null)&&(yu(),mi&&(n=mi,t=gi,gi=mi=null,Fs(n),t)))for(n=0;n<t.length;n++)Fs(t[n])}}function Hr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[de]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(In)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{vn=!1}var jn=null,Qi=null,pi=null;function Ks(){if(pi)return pi;var t,n=Qi,r=n.length,l,c="value"in jn?jn.value:jn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===c[f-l];l++);return pi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qn(){return!0}function Ys(){return!1}function Ce(t){function n(r,l,c,f,v){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:Ys,this.isPropagationStopped=Ys,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=Ce(Bt),Gr=T({},Bt,{view:0,detail:0}),Ro=Ce(Gr),Va,Ia,Fn,Qr=T({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Va=t.screenX-Fn.screenX,Ia=t.screenY-Fn.screenY):Ia=Va=0,Fn=t),Va)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),En=Ce(Qr),wo=T({},Qr,{dataTransfer:0}),Hc=Ce(wo),Fr=T({},Gr,{relatedTarget:0}),Na=Ce(Fr),Xs=T({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=Ce(Xs),Co=T({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=Ce(Co),jc=T({},Bt,{data:0}),$s=Ce(jc),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Do={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Vo[t])?!!n[t]:!1}function Yr(){return Zs}var Io=T({},Gr,{key:function(t){if(t.key){var n=Kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Do[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xa=Ce(Io),No=T({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Js=Ce(No),yi=T({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),Oo=Ce(yi),Mo=T({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),xo=Ce(Mo),Uo=T({},Qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=Ce(Uo),$e=T({},Bt,{newState:0,oldState:0}),Lo=Ce($e),Po=[9,13,27,32],Kn=In&&"CompositionEvent"in window,u=null;In&&"documentMode"in document&&(u=document.documentMode);var m=In&&"TextEvent"in window&&!u,_=In&&(!Kn||u&&8<u&&11>=u),A=" ",z=!1;function G(t,n){switch(t){case"keyup":return Po.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function ve(t,n){switch(t){case"compositionend":return rt(n);case"keypress":return n.which!==32?null:(z=!0,A);case"textInput":return t=n.data,t===A&&z?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Kn&&G(t,n)?(t=Ks(),pi=Qi=jn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function _i(t,n,r,l){mi?gi?gi.push(l):gi=[l]:mi=l,n=Su(n,"onChange"),0<n.length&&(r=new Da("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Yn=null;function Ws(t){Fp(t,0)}function zo(t){var n=Bn(t);if(js(n))return t}function dm(t,n){if(t==="change")return n}var mm=!1;if(In){var Gc;if(In){var Qc="oninput"in document;if(!Qc){var gm=document.createElement("div");gm.setAttribute("oninput","return;"),Qc=typeof gm.oninput=="function"}Gc=Qc}else Gc=!1;mm=Gc&&(!document.documentMode||9<document.documentMode)}function pm(){Ue&&(Ue.detachEvent("onpropertychange",ym),Yn=Ue=null)}function ym(t){if(t.propertyName==="value"&&zo(Yn)){var n=[];_i(n,Yn,t,_n(t)),bo(Ws,n)}}function $E(t,n,r){t==="focusin"?(pm(),Ue=n,Yn=r,Ue.attachEvent("onpropertychange",ym)):t==="focusout"&&pm()}function ZE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zo(Yn)}function JE(t,n){if(t==="click")return zo(n)}function WE(t,n){if(t==="input"||t==="change")return zo(n)}function t0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:t0;function tl(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Cr.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function _m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vm(t,n){var r=_m(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=_m(r)}}function Em(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Em(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Tm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=zr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=zr(t.document)}return n}function Fc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var e0=In&&"documentMode"in document&&11>=document.documentMode,La=null,Kc=null,el=null,Yc=!1;function Am(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yc||La==null||La!==zr(l)||(l=La,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&tl(el,l)||(el=l,l=Su(Kc,"onSelect"),0<l.length&&(n=new Da("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=La)))}function Xr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Pa={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionrun:Xr("Transition","TransitionRun"),transitionstart:Xr("Transition","TransitionStart"),transitioncancel:Xr("Transition","TransitionCancel"),transitionend:Xr("Transition","TransitionEnd")},Xc={},Sm={};In&&(Sm=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function $r(t){if(Xc[t])return Xc[t];if(!Pa[t])return t;var n=Pa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Sm)return Xc[t]=n[r];return t}var bm=$r("animationend"),Rm=$r("animationiteration"),wm=$r("animationstart"),n0=$r("transitionrun"),i0=$r("transitionstart"),r0=$r("transitioncancel"),Cm=$r("transitionend"),Dm=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function Nn(t,n){Dm.set(t,n),Vn(n,[t])}var Vm=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=Vm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ra(n)},Vm.set(t,n),n)}return{value:t,source:n,stack:Ra(n)}}var An=[],za=0,Zc=0;function ko(){for(var t=za,n=Zc=za=0;n<t;){var r=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&Im(r,c,f)}}function Bo(t,n,r,l){An[za++]=t,An[za++]=n,An[za++]=r,An[za++]=l,Zc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jc(t,n,r,l){return Bo(t,n,r,l),qo(t)}function ka(t,n){return Bo(t,null,null,n),qo(t)}function Im(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-He(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function qo(t){if(50<wl)throw wl=0,af=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={};function a0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,r,l){return new a0(t,n,r,l)}function Wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,n){var r=t.alternate;return r===null?(r=ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Nm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ho(t,n,r,l,c,f){var v=0;if(l=t,typeof t=="function")Wc(t)&&(v=1);else if(typeof t=="string")v=lT(t,r,mt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=ln(31,r,n,c),t.elementType=R,t.lanes=f,t;case P:return Zr(r.children,c,f,n);case K:v=8,c|=24;break;case j:return t=ln(12,r,n,c|2),t.elementType=j,t.lanes=f,t;case ot:return t=ln(13,r,n,c),t.elementType=ot,t.lanes=f,t;case _t:return t=ln(19,r,n,c),t.elementType=_t,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case tt:v=10;break t;case at:v=9;break t;case it:v=11;break t;case O:v=14;break t;case b:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=ln(v,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Zr(t,n,r,l){return t=ln(7,t,l,n),t.lanes=r,t}function th(t,n,r){return t=ln(6,t,null,n),t.lanes=r,t}function eh(t,n,r){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qa=[],Ha=0,jo=null,Go=0,Sn=[],bn=0,Jr=null,Ei=1,Ti="";function Wr(t,n){qa[Ha++]=Go,qa[Ha++]=jo,jo=t,Go=n}function Om(t,n,r){Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=Jr,Jr=t;var l=Ei;t=Ti;var c=32-He(l)-1;l&=~(1<<c),r+=1;var f=32-He(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Ei=1<<32-He(n)+c|r<<c|l,Ti=f+t}else Ei=1<<f|r<<c|l,Ti=t}function nh(t){t.return!==null&&(Wr(t,1),Om(t,1,0))}function ih(t){for(;t===jo;)jo=qa[--Ha],qa[Ha]=null,Go=qa[--Ha],qa[Ha]=null;for(;t===Jr;)Jr=Sn[--bn],Sn[bn]=null,Ti=Sn[--bn],Sn[bn]=null,Ei=Sn[--bn],Sn[bn]=null}var Ze=null,le=null,kt=!1,ta=null,Xn=!1,rh=Error(s(519));function ea(t){var n=Error(s(418,""));throw rl(Tn(n,t)),rh}function Mm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[de]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<Dl.length;r++)It(Dl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),kr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),wa(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Br(n,l.value,l.defaultValue,l.children),wa(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||$p(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=bu),n=!0):n=!1,n||ea(t)}function xm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Ze=Ze.return}}function nl(t){if(t!==Ze)return!1;if(!kt)return xm(t),kt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Tf(t.type,t.memoizedProps)),r=!r),r&&le&&ea(t),xm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){le=Mn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,lr(t.type)?(t=Rf,Rf=null,le=t):le=n):le=Ze?Mn(t.stateNode.nextSibling):null;return!0}function il(){le=Ze=null,kt=!1}function Um(){var t=ta;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),ta=null),t}function rl(t){ta===null?ta=[t]:ta.push(t)}var ah=W(null),na=null,Ai=null;function Fi(t,n,r){nt(ah,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=ah.current,lt(ah)}function sh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function lh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),sh(f.return,r,t),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),sh(v,r,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function al(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=c.type;sn(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===we.current){if(v=c.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}c=c.return}t!==null&&lh(n,t,r,l),n.flags|=262144}function Qo(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return Lm(na,t)}function Fo(t,n){return na===null&&ia(t),Lm(t,n)}function Lm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(s(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var s0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},l0=a.unstable_scheduleCallback,o0=a.unstable_NormalPriority,Te={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new s0,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&l0(o0,function(){t.controller.abort()})}var ll=null,uh=0,ja=0,Ga=null;function u0(t,n){if(ll===null){var r=ll=[];uh=0,ja=ff(),Ga={status:"pending",value:void 0,then:function(l){r.push(l)}}}return uh++,n.then(Pm,Pm),n}function Pm(){if(--uh===0&&ll!==null){Ga!==null&&(Ga.status="fulfilled");var t=ll;ll=null,ja=0,Ga=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function c0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var zm=Q.S;Q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&u0(t,n),zm!==null&&zm(t,n)};var ra=W(null);function ch(){var t=ra.current;return t!==null?t:Jt.pooledCache}function Ko(t,n){n===null?nt(ra,ra.current):nt(ra,n.pool)}function km(){var t=ch();return t===null?null:{parent:Te._currentValue,pool:t}}var ol=Error(s(460)),Bm=Error(s(474)),Yo=Error(s(542)),hh={then:function(){}};function qm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xo(){}function Hm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Xo,Xo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gm(t),t;default:if(typeof n.status=="string")n.then(Xo,Xo);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gm(t),t}throw ul=n,ol}}var ul=null;function jm(){if(ul===null)throw Error(s(459));var t=ul;return ul=null,t}function Gm(t){if(t===ol||t===Yo)throw Error(s(483))}var Ki=!1;function fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=qo(t),Im(t,null,r),n}return Bo(t,l,n,r),qo(t)}function cl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,zs(t,r)}}function mh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var gh=!1;function hl(){if(gh){var t=Ga;if(t!==null)throw t}}function fl(t,n,r,l){gh=!1;var c=t.updateQueue;Ki=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,B=w.next;w.next=null,v===null?f=B:v.next=B,v=w;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=B:E.next=B,F.lastBaseUpdate=w))}if(f!==null){var Z=c.baseState;v=0,F=B=w=null,E=f;do{var q=E.lane&-536870913,H=q!==E.lane;if(H?(xt&q)===q:(l&q)===q){q!==0&&q===ja&&(gh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=t,pt=E;q=n;var Xt=r;switch(pt.tag){case 1:if(vt=pt.payload,typeof vt=="function"){Z=vt.call(Xt,Z,q);break t}Z=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=pt.payload,q=typeof vt=="function"?vt.call(Xt,Z,q):vt,q==null)break t;Z=T({},Z,q);break t;case 2:Ki=!0}}q=E.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[q]:H.push(q))}else H={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(B=F=H,w=Z):F=F.next=H,v|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);F===null&&(w=Z),c.baseState=w,c.firstBaseUpdate=B,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),ir|=v,t.lanes=v,t.memoizedState=Z}}function Qm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Fm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Qm(r[t],n)}var Qa=W(null),$o=W(0);function Km(t,n){t=Ii,nt($o,t),nt(Qa,n),Ii=t|n.baseLanes}function ph(){nt($o,Ii),nt(Qa,Qa.current)}function yh(){Ii=$o.current,lt(Qa),lt($o)}var $i=0,Rt=null,Kt=null,ge=null,Zo=!1,Fa=!1,aa=!1,Jo=0,dl=0,Ka=null,h0=0;function ce(){throw Error(s(321))}function _h(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function vh(t,n,r,l,c,f){return $i=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?Ig:Ng,aa=!1,f=r(l,c),aa=!1,Fa&&(f=Xm(n,r,l,c)),Ym(t),f}function Ym(t){Q.H=ru;var n=Kt!==null&&Kt.next!==null;if($i=0,ge=Kt=Rt=null,Zo=!1,dl=0,Ka=null,n)throw Error(s(300));t===null||Ve||(t=t.dependencies,t!==null&&Qo(t)&&(Ve=!0))}function Xm(t,n,r,l){Rt=t;var c=0;do{if(Fa&&(Ka=null),dl=0,Fa=!1,25<=c)throw Error(s(301));if(c+=1,ge=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=_0,f=n(r,l)}while(Fa);return f}function f0(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?ml(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function Eh(){var t=Jo!==0;return Jo=0,t}function Th(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ah(t){if(Zo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zo=!1}$i=0,ge=Kt=Rt=null,Fa=!1,dl=Jo=0,Ka=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Rt.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Kt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=ge===null?Rt.memoizedState:ge.next;if(n!==null)ge=n,Kt=t;else{if(t===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ge===null?Rt.memoizedState=ge=t:ge=ge.next=t}return ge}function Sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var n=dl;return dl+=1,Ka===null&&(Ka=[]),t=Hm(Ka,t,n),n=Rt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Ig:Ng),t}function Wo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===tt)return je(t)}throw Error(s(438,String(t)))}function bh(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Sh(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function bi(t,n){return typeof n=="function"?n(t):n}function tu(t){var n=pe();return Rh(n,Kt,t)}function Rh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,w=null,B=n,F=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(xt&Z)===Z:($i&Z)===Z){var q=B.revertLane;if(q===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===ja&&(F=!0);else if(($i&q)===q){B=B.next,q===ja&&(F=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=Z,v=f):w=w.next=Z,Rt.lanes|=q,ir|=q;Z=B.action,aa&&r(f,Z),f=B.hasEagerState?B.eagerState:r(f,Z)}else q={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=q,v=f):w=w.next=q,Rt.lanes|=Z,ir|=Z;B=B.next}while(B!==null&&B!==n);if(w===null?v=f:w.next=E,!sn(f,t.memoizedState)&&(Ve=!0,F&&(r=Ga,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wh(t){var n=pe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function $m(t,n,r){var l=Rt,c=pe(),f=kt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!sn((Kt||c).memoizedState,r);v&&(c.memoizedState=r,Ve=!0),c=c.queue;var E=Wm.bind(null,l,c,t);if(gl(2048,8,E,[t]),c.getSnapshot!==n||v||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Ya(9,eu(),Jm.bind(null,l,c,r,n),null),Jt===null)throw Error(s(349));f||($i&124)!==0||Zm(l,n,r)}return r}function Zm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=Sh(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Jm(t,n,r,l){n.value=r,n.getSnapshot=l,tg(n)&&eg(t)}function Wm(t,n,r){return r(function(){tg(n)&&eg(t)})}function tg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function eg(t){var n=ka(t,2);n!==null&&fn(n,t,2)}function Ch(t){var n=Je();if(typeof t=="function"){var r=t;if(t=r(),aa){rn(!0);try{r()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},n}function ng(t,n,r,l){return t.baseState=r,Rh(t,Kt,typeof l=="function"?l:bi)}function d0(t,n,r,l,c){if(iu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Q.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ig(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ig(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=Q.T,v={};Q.T=v;try{var E=r(c,l),w=Q.S;w!==null&&w(v,E),rg(t,n,E)}catch(B){Dh(t,n,B)}finally{Q.T=f}}else try{f=r(c,l),rg(t,n,f)}catch(B){Dh(t,n,B)}}function rg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){ag(t,n,l)},function(l){return Dh(t,n,l)}):ag(t,n,r)}function ag(t,n,r){n.status="fulfilled",n.value=r,sg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,ig(t,r)))}function Dh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,sg(n),n=n.next;while(n!==l)}t.action=null}function sg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function lg(t,n){return n}function og(t,n){if(kt){var r=Jt.formState;if(r!==null){t:{var l=Rt;if(kt){if(le){e:{for(var c=le,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=Mn(c.nextSibling),l=c.data==="F!";break t}}ea(l)}l=!1}l&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:n},r.queue=l,r=Cg.bind(null,Rt,l),l.dispatch=r,l=Ch(!1),f=Mh.bind(null,Rt,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=d0.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function ug(t){var n=pe();return cg(n,Kt,t)}function cg(t,n,r){if(n=Rh(t,n,lg)[0],t=tu(bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ml(n)}catch(v){throw v===ol?Yo:v}else l=n;n=pe();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,Ya(9,eu(),m0.bind(null,c,r),null)),[l,f,t]}function m0(t,n){t.action=n}function hg(t){var n=pe(),r=Kt;if(r!==null)return cg(n,r,t);pe(),n=n.memoizedState,r=pe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ya(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Sh(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function eu(){return{destroy:void 0,resource:void 0}}function fg(){return pe().memoizedState}function nu(t,n,r,l){var c=Je();l=l===void 0?null:l,Rt.flags|=t,c.memoizedState=Ya(1|n,eu(),r,l)}function gl(t,n,r,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&_h(l,Kt.memoizedState.deps)?c.memoizedState=Ya(n,f,r,l):(Rt.flags|=t,c.memoizedState=Ya(1|n,f,r,l))}function dg(t,n){nu(8390656,8,t,n)}function mg(t,n){gl(2048,8,t,n)}function gg(t,n){return gl(4,2,t,n)}function pg(t,n){return gl(4,4,t,n)}function yg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _g(t,n,r){r=r!=null?r.concat([t]):null,gl(4,4,yg.bind(null,n,t),r)}function Vh(){}function vg(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&_h(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Eg(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&_h(n,l[1]))return l[0];if(l=t(),aa){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l}function Ih(t,n,r){return r===void 0||($i&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Sp(),Rt.lanes|=t,ir|=t,r)}function Tg(t,n,r,l){return sn(r,n)?r:Qa.current!==null?(t=Ih(t,r,l),sn(t,n)||(Ve=!0),t):($i&42)===0?(Ve=!0,t.memoizedState=r):(t=Sp(),Rt.lanes|=t,ir|=t,n)}function Ag(t,n,r,l,c){var f=st.p;st.p=f!==0&&8>f?f:8;var v=Q.T,E={};Q.T=E,Mh(t,!1,n,r);try{var w=c(),B=Q.S;if(B!==null&&B(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var F=c0(w,l);pl(t,n,F,hn(t))}else pl(t,n,l,hn(t))}catch(Z){pl(t,n,{then:function(){},status:"rejected",reason:Z},hn())}finally{st.p=f,Q.T=v}}function g0(){}function Nh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Sg(t).queue;Ag(t,c,n,ft,r===null?g0:function(){return bg(t),r(l)})}function Sg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function bg(t){var n=Sg(t).next.queue;pl(t,n,{},hn())}function Oh(){return je(xl)}function Rg(){return pe().memoizedState}function wg(){return pe().memoizedState}function p0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=Yi(r);var l=Xi(n,t,r);l!==null&&(fn(l,n,r),cl(l,n,r)),n={cache:oh()},t.payload=n;return}n=n.return}}function y0(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},iu(t)?Dg(n,r):(r=Jc(t,n,r,l),r!==null&&(fn(r,t,l),Vg(r,n,l)))}function Cg(t,n,r){var l=hn();pl(t,n,r,l)}function pl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(iu(t))Dg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,v))return Bo(t,n,c,0),Jt===null&&ko(),!1}catch{}finally{}if(r=Jc(t,n,c,l),r!==null)return fn(r,t,l),Vg(r,n,l),!0}return!1}function Mh(t,n,r,l){if(l={lane:2,revertLane:ff(),action:l,hasEagerState:!1,eagerState:null,next:null},iu(t)){if(n)throw Error(s(479))}else n=Jc(t,r,l,2),n!==null&&fn(n,t,2)}function iu(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Dg(t,n){Fa=Zo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Vg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,zs(t,r)}}var ru={readContext:je,use:Wo,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},Ig={readContext:je,use:Wo,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:dg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,nu(4194308,4,yg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return nu(4194308,4,t,n)},useInsertionEffect:function(t,n){nu(4,2,t,n)},useMemo:function(t,n){var r=Je();n=n===void 0?null:n;var l=t();if(aa){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Je();if(r!==void 0){var c=r(n);if(aa){rn(!0);try{r(n)}finally{rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=y0.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=Ch(t);var n=t.queue,r=Cg.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Vh,useDeferredValue:function(t,n){var r=Je();return Ih(r,t,n)},useTransition:function(){var t=Ch(!1);return t=Ag.bind(null,Rt,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=Je();if(kt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(xt&124)!==0||Zm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,dg(Wm.bind(null,l,f,t),[t]),l.flags|=2048,Ya(9,eu(),Jm.bind(null,l,f,r,n),null),r},useId:function(){var t=Je(),n=Jt.identifierPrefix;if(kt){var r=Ti,l=Ei;r=(l&~(1<<32-He(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Jo++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=h0++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Oh,useFormState:og,useActionState:og,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Mh.bind(null,Rt,!0,r),r.dispatch=n,[t,n]},useMemoCache:bh,useCacheRefresh:function(){return Je().memoizedState=p0.bind(null,Rt)}},Ng={readContext:je,use:Wo,useCallback:vg,useContext:je,useEffect:mg,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:pg,useMemo:Eg,useReducer:tu,useRef:fg,useState:function(){return tu(bi)},useDebugValue:Vh,useDeferredValue:function(t,n){var r=pe();return Tg(r,Kt.memoizedState,t,n)},useTransition:function(){var t=tu(bi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:ml(t),n]},useSyncExternalStore:$m,useId:Rg,useHostTransitionStatus:Oh,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var r=pe();return ng(r,Kt,t,n)},useMemoCache:bh,useCacheRefresh:wg},_0={readContext:je,use:Wo,useCallback:vg,useContext:je,useEffect:mg,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:pg,useMemo:Eg,useReducer:wh,useRef:fg,useState:function(){return wh(bi)},useDebugValue:Vh,useDeferredValue:function(t,n){var r=pe();return Kt===null?Ih(r,t,n):Tg(r,Kt.memoizedState,t,n)},useTransition:function(){var t=wh(bi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:ml(t),n]},useSyncExternalStore:$m,useId:Rg,useHostTransitionStatus:Oh,useFormState:hg,useActionState:hg,useOptimistic:function(t,n){var r=pe();return Kt!==null?ng(r,Kt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:bh,useCacheRefresh:wg},Xa=null,yl=0;function au(t){var n=yl;return yl+=1,Xa===null&&(Xa=[]),Hm(Xa,t,n)}function _l(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function su(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Og(t){var n=t._init;return n(t._payload)}function Mg(t){function n(U,I){if(t){var k=U.deletions;k===null?(U.deletions=[I],U.flags|=16):k.push(I)}}function r(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function c(U,I){return U=vi(U,I),U.index=0,U.sibling=null,U}function f(U,I,k){return U.index=k,t?(k=U.alternate,k!==null?(k=k.index,k<I?(U.flags|=67108866,I):k):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,I,k,$){return I===null||I.tag!==6?(I=th(k,U.mode,$),I.return=U,I):(I=c(I,k),I.return=U,I)}function w(U,I,k,$){var ct=k.type;return ct===P?F(U,I,k.props.children,$,k.key):I!==null&&(I.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Og(ct)===I.type)?(I=c(I,k.props),_l(I,k),I.return=U,I):(I=Ho(k.type,k.key,k.props,null,U.mode,$),_l(I,k),I.return=U,I)}function B(U,I,k,$){return I===null||I.tag!==4||I.stateNode.containerInfo!==k.containerInfo||I.stateNode.implementation!==k.implementation?(I=eh(k,U.mode,$),I.return=U,I):(I=c(I,k.children||[]),I.return=U,I)}function F(U,I,k,$,ct){return I===null||I.tag!==7?(I=Zr(k,U.mode,$,ct),I.return=U,I):(I=c(I,k),I.return=U,I)}function Z(U,I,k){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=th(""+I,U.mode,k),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C:return k=Ho(I.type,I.key,I.props,null,U.mode,k),_l(k,I),k.return=U,k;case x:return I=eh(I,U.mode,k),I.return=U,I;case b:var $=I._init;return I=$(I._payload),Z(U,I,k)}if(ae(I)||L(I))return I=Zr(I,U.mode,k,null),I.return=U,I;if(typeof I.then=="function")return Z(U,au(I),k);if(I.$$typeof===tt)return Z(U,Fo(U,I),k);su(U,I)}return null}function q(U,I,k,$){var ct=I!==null?I.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ct!==null?null:E(U,I,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case C:return k.key===ct?w(U,I,k,$):null;case x:return k.key===ct?B(U,I,k,$):null;case b:return ct=k._init,k=ct(k._payload),q(U,I,k,$)}if(ae(k)||L(k))return ct!==null?null:F(U,I,k,$,null);if(typeof k.then=="function")return q(U,I,au(k),$);if(k.$$typeof===tt)return q(U,I,Fo(U,k),$);su(U,k)}return null}function H(U,I,k,$,ct){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(k)||null,E(I,U,""+$,ct);if(typeof $=="object"&&$!==null){switch($.$$typeof){case C:return U=U.get($.key===null?k:$.key)||null,w(I,U,$,ct);case x:return U=U.get($.key===null?k:$.key)||null,B(I,U,$,ct);case b:var Dt=$._init;return $=Dt($._payload),H(U,I,k,$,ct)}if(ae($)||L($))return U=U.get(k)||null,F(I,U,$,ct,null);if(typeof $.then=="function")return H(U,I,k,au($),ct);if($.$$typeof===tt)return H(U,I,k,Fo(I,$),ct);su(I,$)}return null}function vt(U,I,k,$){for(var ct=null,Dt=null,ht=I,yt=I=0,Ne=null;ht!==null&&yt<k.length;yt++){ht.index>yt?(Ne=ht,ht=null):Ne=ht.sibling;var Pt=q(U,ht,k[yt],$);if(Pt===null){ht===null&&(ht=Ne);break}t&&ht&&Pt.alternate===null&&n(U,ht),I=f(Pt,I,yt),Dt===null?ct=Pt:Dt.sibling=Pt,Dt=Pt,ht=Ne}if(yt===k.length)return r(U,ht),kt&&Wr(U,yt),ct;if(ht===null){for(;yt<k.length;yt++)ht=Z(U,k[yt],$),ht!==null&&(I=f(ht,I,yt),Dt===null?ct=ht:Dt.sibling=ht,Dt=ht);return kt&&Wr(U,yt),ct}for(ht=l(ht);yt<k.length;yt++)Ne=H(ht,U,yt,k[yt],$),Ne!==null&&(t&&Ne.alternate!==null&&ht.delete(Ne.key===null?yt:Ne.key),I=f(Ne,I,yt),Dt===null?ct=Ne:Dt.sibling=Ne,Dt=Ne);return t&&ht.forEach(function(fr){return n(U,fr)}),kt&&Wr(U,yt),ct}function pt(U,I,k,$){if(k==null)throw Error(s(151));for(var ct=null,Dt=null,ht=I,yt=I=0,Ne=null,Pt=k.next();ht!==null&&!Pt.done;yt++,Pt=k.next()){ht.index>yt?(Ne=ht,ht=null):Ne=ht.sibling;var fr=q(U,ht,Pt.value,$);if(fr===null){ht===null&&(ht=Ne);break}t&&ht&&fr.alternate===null&&n(U,ht),I=f(fr,I,yt),Dt===null?ct=fr:Dt.sibling=fr,Dt=fr,ht=Ne}if(Pt.done)return r(U,ht),kt&&Wr(U,yt),ct;if(ht===null){for(;!Pt.done;yt++,Pt=k.next())Pt=Z(U,Pt.value,$),Pt!==null&&(I=f(Pt,I,yt),Dt===null?ct=Pt:Dt.sibling=Pt,Dt=Pt);return kt&&Wr(U,yt),ct}for(ht=l(ht);!Pt.done;yt++,Pt=k.next())Pt=H(ht,U,yt,Pt.value,$),Pt!==null&&(t&&Pt.alternate!==null&&ht.delete(Pt.key===null?yt:Pt.key),I=f(Pt,I,yt),Dt===null?ct=Pt:Dt.sibling=Pt,Dt=Pt);return t&&ht.forEach(function(vT){return n(U,vT)}),kt&&Wr(U,yt),ct}function Xt(U,I,k,$){if(typeof k=="object"&&k!==null&&k.type===P&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case C:t:{for(var ct=k.key;I!==null;){if(I.key===ct){if(ct=k.type,ct===P){if(I.tag===7){r(U,I.sibling),$=c(I,k.props.children),$.return=U,U=$;break t}}else if(I.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Og(ct)===I.type){r(U,I.sibling),$=c(I,k.props),_l($,k),$.return=U,U=$;break t}r(U,I);break}else n(U,I);I=I.sibling}k.type===P?($=Zr(k.props.children,U.mode,$,k.key),$.return=U,U=$):($=Ho(k.type,k.key,k.props,null,U.mode,$),_l($,k),$.return=U,U=$)}return v(U);case x:t:{for(ct=k.key;I!==null;){if(I.key===ct)if(I.tag===4&&I.stateNode.containerInfo===k.containerInfo&&I.stateNode.implementation===k.implementation){r(U,I.sibling),$=c(I,k.children||[]),$.return=U,U=$;break t}else{r(U,I);break}else n(U,I);I=I.sibling}$=eh(k,U.mode,$),$.return=U,U=$}return v(U);case b:return ct=k._init,k=ct(k._payload),Xt(U,I,k,$)}if(ae(k))return vt(U,I,k,$);if(L(k)){if(ct=L(k),typeof ct!="function")throw Error(s(150));return k=ct.call(k),pt(U,I,k,$)}if(typeof k.then=="function")return Xt(U,I,au(k),$);if(k.$$typeof===tt)return Xt(U,I,Fo(U,k),$);su(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,I!==null&&I.tag===6?(r(U,I.sibling),$=c(I,k),$.return=U,U=$):(r(U,I),$=th(k,U.mode,$),$.return=U,U=$),v(U)):r(U,I)}return function(U,I,k,$){try{yl=0;var ct=Xt(U,I,k,$);return Xa=null,ct}catch(ht){if(ht===ol||ht===Yo)throw ht;var Dt=ln(29,ht,null,U.mode);return Dt.lanes=$,Dt.return=U,Dt}finally{}}}var $a=Mg(!0),xg=Mg(!1),Rn=W(null),$n=null;function Zi(t){var n=t.alternate;nt(Ae,Ae.current&1),nt(Rn,t),$n===null&&(n===null||Qa.current!==null||n.memoizedState!==null)&&($n=t)}function Ug(t){if(t.tag===22){if(nt(Ae,Ae.current),nt(Rn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else Ji()}function Ji(){nt(Ae,Ae.current),nt(Rn,Rn.current)}function Ri(t){lt(Rn),$n===t&&($n=null),lt(Ae)}var Ae=W(0);function lu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||bf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function xh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:T({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Uh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Yi(l);c.payload=n,r!=null&&(c.callback=r),n=Xi(t,c,l),n!==null&&(fn(n,t,l),cl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Yi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Xi(t,c,l),n!==null&&(fn(n,t,l),cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=Yi(r);l.tag=2,n!=null&&(l.callback=n),n=Xi(t,l,r),n!==null&&(fn(n,t,r),cl(n,t,r))}};function Lg(t,n,r,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!tl(r,l)||!tl(c,f):!0}function Pg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Uh.enqueueReplaceState(n,n.state,null)}function sa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=T({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function zg(t){ou(t)}function kg(t){console.error(t)}function Bg(t){ou(t)}function uu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function qg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Lh(t,n,r){return r=Yi(r),r.tag=3,r.payload={element:null},r.callback=function(){uu(t,n)},r}function Hg(t){return t=Yi(t),t.tag=3,t}function jg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){qg(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){qg(n,r,l),typeof c!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function v0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&al(n,r,c,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return $n===null?lf():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===hh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),uf(t,l,c)),!1;case 22:return r.flags|=65536,l===hh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),uf(t,l,c)),!1}throw Error(s(435,r.tag))}return uf(t,l,c),lf(),!1}if(kt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==rh&&(t=Error(s(422),{cause:l}),rl(Tn(t,r)))):(l!==rh&&(n=Error(s(423),{cause:l}),rl(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=Lh(t.stateNode,l,c),mh(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,r),Rl===null?Rl=[f]:Rl.push(f),oe!==4&&(oe=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Lh(r.stateNode,l,t),mh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Hg(c),jg(c,t,r,l),mh(r,c),!1}r=r.return}while(r!==null);return!1}var Gg=Error(s(461)),Ve=!1;function Le(t,n,r,l){n.child=t===null?xg(n,null,r,l):$a(n,t.child,r,l)}function Qg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return ia(n),l=vh(t,n,r,v,f,c),E=Eh(),t!==null&&!Ve?(Th(t,n,c),wi(t,n,c)):(kt&&E&&nh(n),n.flags|=1,Le(t,n,l,c),n.child)}function Fg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Wc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Kg(t,n,f,l,c)):(t=Ho(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Gh(t,c)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:tl,r(v,l)&&t.ref===n.ref)return wi(t,n,c)}return n.flags|=1,t=vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Kg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(tl(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Gh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,wi(t,n,c)}return Ph(t,n,r,l,c)}function Yg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Xg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ko(n,f!==null?f.cachePool:null),f!==null?Km(n,f):ph(),Ug(n);else return n.lanes=n.childLanes=536870912,Xg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Ko(n,f.cachePool),Km(n,f),Ji(),n.memoizedState=null):(t!==null&&Ko(n,null),ph(),Ji());return Le(t,n,c,r),n.child}function Xg(t,n,r,l){var c=ch();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Ko(n,null),ph(),Ug(n),t!==null&&al(t,n,l,!0),null}function cu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Ph(t,n,r,l,c){return ia(n),r=vh(t,n,r,l,void 0,c),l=Eh(),t!==null&&!Ve?(Th(t,n,c),wi(t,n,c)):(kt&&l&&nh(n),n.flags|=1,Le(t,n,r,c),n.child)}function $g(t,n,r,l,c,f){return ia(n),n.updateQueue=null,r=Xm(n,l,r,c),Ym(t),l=Eh(),t!==null&&!Ve?(Th(t,n,f),wi(t,n,f)):(kt&&l&&nh(n),n.flags|=1,Le(t,n,r,f),n.child)}function Zg(t,n,r,l,c){if(ia(n),n.stateNode===null){var f=Ba,v=r.contextType;typeof v=="object"&&v!==null&&(f=je(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},fh(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?je(v):Ba,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(xh(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Uh.enqueueReplaceState(f,f.state,null),fl(n,l,f,c),hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=sa(r,E);f.props=w;var B=f.context,F=r.contextType;v=Ba,typeof F=="object"&&F!==null&&(v=je(F));var Z=r.getDerivedStateFromProps;F=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==v)&&Pg(n,f,l,v),Ki=!1;var q=n.memoizedState;f.state=q,fl(n,l,f,c),hl(),B=n.memoizedState,E||q!==B||Ki?(typeof Z=="function"&&(xh(n,r,Z,l),B=n.memoizedState),(w=Ki||Lg(n,r,w,l,q,B,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=v,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,dh(t,n),v=n.memoizedProps,F=sa(r,v),f.props=F,Z=n.pendingProps,q=f.context,B=r.contextType,w=Ba,typeof B=="object"&&B!==null&&(w=je(B)),E=r.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||q!==w)&&Pg(n,f,l,w),Ki=!1,q=n.memoizedState,f.state=q,fl(n,l,f,c),hl();var H=n.memoizedState;v!==Z||q!==H||Ki||t!==null&&t.dependencies!==null&&Qo(t.dependencies)?(typeof E=="function"&&(xh(n,r,E,l),H=n.memoizedState),(F=Ki||Lg(n,r,F,l,q,H,w)||t!==null&&t.dependencies!==null&&Qo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=w,l=F):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,cu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=$a(n,t.child,null,c),n.child=$a(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=wi(t,n,c),t}function Jg(t,n,r,l){return il(),n.flags|=256,Le(t,n,r,l),n.child}var zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kh(t){return{baseLanes:t,cachePool:km()}}function Bh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function Wg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(c?Zi(n):Ji(),kt){var E=le,w;if(w=E){t:{for(w=E,E=Xn;w.nodeType!==8;){if(!E){E=null;break t}if(w=Mn(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:Jr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},w=ln(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,Ze=n,le=null,w=!0):w=!1}w||ea(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return bf(E)?n.lanes=32:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,c?(Ji(),c=n.mode,E=hu({mode:"hidden",children:E},c),l=Zr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=kh(r),c.childLanes=Bh(t,v,r),n.memoizedState=zh,l):(Zi(n),qh(n,E))}if(w=t.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(Zi(n),n.flags&=-257,n=Hh(t,n,r)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),c=l.fallback,E=n.mode,l=hu({mode:"visible",children:l.children},E),c=Zr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,$a(n,t.child,null,r),l=n.child,l.memoizedState=kh(r),l.childLanes=Bh(t,v,r),n.memoizedState=zh,n=c);else if(Zi(n),bf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,rl({value:l,source:null,stack:null}),n=Hh(t,n,r)}else if(Ve||al(t,n,r,!1),v=(r&t.childLanes)!==0,Ve||v){if(v=Jt,v!==null&&(l=r&-r,l=(l&42)!==0?1:ki(l),l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,ka(t,l),fn(v,t,l),Gg;E.data==="$?"||lf(),n=Hh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,le=Mn(E.nextSibling),Ze=n,kt=!0,ta=null,Xn=!1,t!==null&&(Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=Jr,Ei=t.id,Ti=t.overflow,Jr=n),n=qh(n,l.children),n.flags|=4096);return n}return c?(Ji(),c=l.fallback,E=n.mode,w=t.child,B=w.sibling,l=vi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?c=vi(B,c):(c=Zr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=kh(r):(w=E.cachePool,w!==null?(B=Te._currentValue,w=w.parent!==B?{parent:B,pool:B}:w):w=km(),E={baseLanes:E.baseLanes|r,cachePool:w}),c.memoizedState=E,c.childLanes=Bh(t,v,r),n.memoizedState=zh,l):(Zi(n),r=t.child,t=r.sibling,r=vi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function qh(t,n){return n=hu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function hu(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Hh(t,n,r){return $a(n,t.child,null,r),t=qh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function tp(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sh(t.return,n,r)}function jh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function ep(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tp(t,r,n);else if(t.tag===19)tp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(nt(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&lu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),jh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&lu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}jh(n,!0,r,null,f);break;case"together":jh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ir|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(al(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=vi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=vi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Gh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Qo(t)))}function E0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Fi(n,Te,t.memoizedState.cache),il();break;case 27:case 5:zi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Fi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Zi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Wg(t,n,r):(Zi(n),t=wi(t,n,r),t!==null?t.sibling:null);Zi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(al(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return ep(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Yg(t,n,r);case 24:Fi(n,Te,t.memoizedState.cache)}return wi(t,n,r)}function np(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Gh(t,r)&&(n.flags&128)===0)return Ve=!1,E0(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,kt&&(n.flags&1048576)!==0&&Om(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Wc(l)?(t=sa(l,t),n.tag=1,n=Zg(null,n,l,t,r)):(n.tag=0,n=Ph(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===it){n.tag=11,n=Qg(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=Fg(null,n,l,t,r);break t}}throw n=Me(l)||l,Error(s(306,n,""))}}return n;case 0:return Ph(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=sa(l,n.pendingProps),Zg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,dh(t,n),fl(n,l,null,r);var v=n.memoizedState;if(l=v.cache,Fi(n,Te,l),l!==f.cache&&lh(n,[Te],r,!0),hl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jg(t,n,l,r);break t}else if(l!==c){c=Tn(Error(s(424)),n),rl(c),n=Jg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=Mn(t.firstChild),Ze=n,kt=!0,ta=null,Xn=!0,r=xg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(il(),l===c){n=wi(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return cu(t,n),t===null?(r=sy(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,t=n.pendingProps,l=Ru(Tt.current).createElement(r),l[_e]=n,l[de]=t,ze(l,r,t),ue(l),n.stateNode=l):n.memoizedState=sy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zi(n),t===null&&kt&&(l=n.stateNode=iy(n.type,n.pendingProps,Tt.current),Ze=n,Xn=!0,c=le,lr(n.type)?(Rf=c,le=Mn(l.firstChild)):le=c),Le(t,n,n.pendingProps.children,r),cu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((c=l=le)&&(l=Y0(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,Ze=n,le=Mn(l.firstChild),Xn=!1,c=!0):c=!1),c||ea(n)),zi(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Tf(c,f)?l=null:v!==null&&Tf(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=vh(t,n,f0,null,null,r),xl._currentValue=c),cu(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&kt&&((t=r=le)&&(r=X0(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,Ze=n,le=null,t=!0):t=!1),t||ea(n)),null;case 13:return Wg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=$a(n,null,l,r):Le(t,n,l,r),n.child;case 11:return Qg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Fi(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ia(n),c=je(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return Fg(t,n,n.type,n.pendingProps,r);case 15:return Kg(t,n,n.type,n.pendingProps,r);case 19:return ep(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=hu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=vi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Yg(t,n,r);case 24:return ia(n),l=je(Te),t===null?(c=ch(),c===null&&(c=Jt,f=oh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},fh(n),Fi(n,Te,c)):((t.lanes&r)!==0&&(dh(t,n),fl(n,null,null,r),hl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Fi(n,Te,l)):(l=f.cache,Fi(n,Te,l),l!==c.cache&&lh(n,[Te],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ci(t){t.flags|=4}function ip(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!hy(n)){if(n=Rn.current,n!==null&&((xt&4194048)===xt?$n!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==$n))throw ul=hh,Bm;t.flags|=8192}}function fu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ls():536870912,t.lanes|=n,ts|=n)}function vl(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function T0(t,n,r){var l=n.pendingProps;switch(ih(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Te),Pn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nl(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Um())),ie(n),null;case 26:return r=n.memoizedState,t===null?(Ci(n),r!==null?(ie(n),ip(n,r)):(ie(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ci(n),ie(n),ip(n,r)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),ie(n),n.flags&=-16777217),null;case 27:si(n),r=Tt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=mt.current,nl(n)?Mm(n):(t=iy(c,l,r),n.stateNode=t,Ci(n))}return ie(n),null;case 5:if(si(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(t=mt.current,nl(n))Mm(n);else{switch(c=Ru(Tt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_e]=n,t[de]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Tt.current,nl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||$p(t.nodeValue,r)),t||ea(n)}else t=Ru(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=nl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[_e]=n}else il(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=Um(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),fu(n,n.updateQueue),ie(n),null;case 4:return Pn(),t===null&&pf(n.stateNode.containerInfo),ie(n),null;case 10:return Si(n.type),ie(n),null;case 19:if(lt(Ae),c=n.memoizedState,c===null)return ie(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)vl(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=lu(t),f!==null){for(n.flags|=128,vl(c,!1),t=f.updateQueue,n.updateQueue=t,fu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Nm(r,t),r=r.sibling;return nt(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&gn()>gu&&(n.flags|=128,l=!0,vl(c,!1),n.lanes=4194304)}else{if(!l)if(t=lu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,fu(n,t),vl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!kt)return ie(n),null}else 2*gn()-c.renderingStartTime>gu&&r!==536870912&&(n.flags|=128,l=!0,vl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gn(),n.sibling=null,t=Ae.current,nt(Ae,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return Ri(n),yh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&fu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&lt(ra),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Te),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function A0(t,n){switch(ih(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Te),Pn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));il()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return lt(Ae),null;case 4:return Pn(),null;case 10:return Si(n.type),null;case 22:case 23:return Ri(n),yh(),t!==null&&lt(ra),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Te),null;case 25:return null;default:return null}}function rp(t,n){switch(ih(n),n.tag){case 3:Si(Te),Pn();break;case 26:case 27:case 5:si(n);break;case 4:Pn();break;case 13:Ri(n);break;case 19:lt(Ae);break;case 10:Si(n.type);break;case 22:case 23:Ri(n),yh(),t!==null&&lt(ra);break;case 24:Si(Te)}}function El(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==c)}}catch(E){$t(n,n.return,E)}}function Wi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var w=r,B=E;try{B()}catch(F){$t(c,w,F)}}}l=l.next}while(l!==f)}}catch(F){$t(n,n.return,F)}}function ap(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Fm(n,r)}catch(l){$t(t,t.return,l)}}}function sp(t,n,r){r.props=sa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){$t(t,n,l)}}function Tl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){$t(t,n,c)}}function Zn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){$t(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){$t(t,n,c)}else r.current=null}function lp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){$t(t,t.return,c)}}function Qh(t,n,r){try{var l=t.stateNode;j0(l,t.type,r,n),l[de]=n}catch(c){$t(t,t.return,c)}}function op(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function Fh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||op(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=bu));else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Kh(t,n,r),t=t.sibling;t!==null;)Kh(t,n,r),t=t.sibling}function du(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(du(t,n,r),t=t.sibling;t!==null;)du(t,n,r),t=t.sibling}function up(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,r),n[_e]=t,n[de]=r}catch(f){$t(t,t.return,f)}}var Di=!1,he=!1,Yh=!1,cp=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function S0(t,n){if(t=t.containerInfo,vf=Nu,t=Tm(t),Fc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,E=-1,w=-1,B=0,F=0,Z=t,q=null;e:for(;;){for(var H;Z!==r||c!==0&&Z.nodeType!==3||(E=v+c),Z!==f||l!==0&&Z.nodeType!==3||(w=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(H=Z.firstChild)!==null;)q=Z,Z=H;for(;;){if(Z===t)break e;if(q===r&&++B===c&&(E=v),q===f&&++F===l&&(w=v),(H=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=H}r=E===-1||w===-1?null:{start:E,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ef={focusedElem:t,selectionRange:r},Nu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var vt=sa(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(vt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){$t(r,r.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Sf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function hp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:tr(t,r),l&4&&El(5,r);break;case 1:if(tr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){$t(r,r.return,v)}else{var c=sa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(r,r.return,v)}}l&64&&ap(r),l&512&&Tl(r,r.return);break;case 3:if(tr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Fm(t,n)}catch(v){$t(r,r.return,v)}}break;case 27:n===null&&l&4&&up(r);case 26:case 5:tr(t,r),n===null&&l&4&&lp(r),l&512&&Tl(r,r.return);break;case 12:tr(t,r);break;case 13:tr(t,r),l&4&&mp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=O0.bind(null,r),$0(t,r))));break;case 22:if(l=r.memoizedState!==null||Di,!l){n=n!==null&&n.memoizedState!==null||he,c=Di;var f=he;Di=l,(he=n)&&!f?er(t,r,(r.subtreeFlags&8772)!==0):tr(t,r),Di=c,he=f}break;case 30:break;default:tr(t,r)}}function fp(t){var n=t.alternate;n!==null&&(t.alternate=null,fp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Hi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,We=!1;function Vi(t,n,r){for(r=r.child;r!==null;)dp(t,n,r),r=r.sibling}function dp(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:he||Zn(r,n),Vi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:he||Zn(r,n);var l=te,c=We;lr(r.type)&&(te=r.stateNode,We=!1),Vi(t,n,r),Il(r.stateNode),te=l,We=c;break;case 5:he||Zn(r,n);case 6:if(l=te,c=We,te=null,Vi(t,n,r),te=l,We=c,te!==null)if(We)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:te!==null&&(We?(t=te,ey(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),zl(t)):ey(te,r.stateNode));break;case 4:l=te,c=We,te=r.stateNode.containerInfo,We=!0,Vi(t,n,r),te=l,We=c;break;case 0:case 11:case 14:case 15:he||Wi(2,r,n),he||Wi(4,r,n),Vi(t,n,r);break;case 1:he||(Zn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&sp(r,n,l)),Vi(t,n,r);break;case 21:Vi(t,n,r);break;case 22:he=(l=he)||r.memoizedState!==null,Vi(t,n,r),he=l;break;default:Vi(t,n,r)}}function mp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zl(t)}catch(r){$t(n,n.return,r)}}function b0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new cp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new cp),n;default:throw Error(s(435,t.tag))}}function Xh(t,n){var r=b0(t);n.forEach(function(l){var c=M0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(lr(E.type)){te=E.stateNode,We=!1;break t}break;case 5:te=E.stateNode,We=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(te===null)throw Error(s(160));dp(f,v,c),te=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)gp(n,t),n=n.sibling}var On=null;function gp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(Wi(3,t,t.return),El(3,t),Wi(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(he||r===null||Zn(r,r.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=On;if(on(n,t),un(t),l&512&&(he||r===null||Zn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ur]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[_e]=t,ue(f),l=f;break t;case"link":var v=uy("link","href",c).get(l+(r.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(v=uy("meta","content",c).get(l+(r.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[_e]=t,ue(f),l=f}t.stateNode=l}else cy(c,t.type,t.stateNode);else t.stateNode=oy(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?cy(c,t.type,t.stateNode):oy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qh(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(he||r===null||Zn(r,r.return)),r!==null&&l&4&&Qh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(he||r===null||Zn(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(H){$t(t,t.return,H)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Qh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Yh=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(H){$t(t,t.return,H)}}break;case 3:if(Du=null,c=On,On=wu(n.containerInfo),on(n,t),On=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{zl(n.containerInfo)}catch(H){$t(t,t.return,H)}Yh&&(Yh=!1,pp(t));break;case 4:l=On,On=wu(t.stateNode.containerInfo),on(n,t),un(t),On=l;break;case 12:on(n,t),un(t);break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ef=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xh(t,l)));break;case 22:c=t.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,B=Di,F=he;if(Di=B||c,he=F||w,on(n,t),he=F,Di=B,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||w||Di||he||la(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(f=w.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=w.stateNode;var Z=w.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){$t(w,w.return,H)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(H){$t(w,w.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Xh(t,r))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xh(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(op(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Fh(t);du(t,f,c);break;case 5:var v=r.stateNode;r.flags&32&&(yn(v,""),r.flags&=-33);var E=Fh(t);du(t,E,v);break;case 3:case 4:var w=r.stateNode.containerInfo,B=Fh(t);Kh(t,B,w);break;default:throw Error(s(161))}}catch(F){$t(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function pp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;pp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function tr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hp(t,n.alternate,n),n=n.sibling}function la(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Wi(4,n,n.return),la(n);break;case 1:Zn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&sp(n,n.return,r),la(n);break;case 27:Il(n.stateNode);case 26:case 5:Zn(n,n.return),la(n);break;case 22:n.memoizedState===null&&la(n);break;case 30:la(n);break;default:la(n)}t=t.sibling}}function er(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:er(c,f,r),El(4,f);break;case 1:if(er(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){$t(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Qm(w[c],E)}catch(B){$t(l,l.return,B)}}r&&v&64&&ap(f),Tl(f,f.return);break;case 27:up(f);case 26:case 5:er(c,f,r),r&&l===null&&v&4&&lp(f),Tl(f,f.return);break;case 12:er(c,f,r);break;case 13:er(c,f,r),r&&v&4&&mp(c,f);break;case 22:f.memoizedState===null&&er(c,f,r),Tl(f,f.return);break;case 30:break;default:er(c,f,r)}n=n.sibling}}function $h(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&sl(r))}function Zh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yp(t,n,r,l),n=n.sibling}function yp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),c&2048&&El(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t)));break;case 12:if(c&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){$t(n,n.return,w)}}else Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):Al(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,Za(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&$h(v,n);break;case 24:Jn(t,n,r,l),c&2048&&Zh(n.alternate,n);break;default:Jn(t,n,r,l)}}function Za(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=r,w=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Za(f,v,E,w,c),El(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?Za(f,v,E,w,c):Al(f,v):(F._visibility|=2,Za(f,v,E,w,c)),c&&B&2048&&$h(v.alternate,v);break;case 24:Za(f,v,E,w,c),c&&B&2048&&Zh(v.alternate,v);break;default:Za(f,v,E,w,c)}n=n.sibling}}function Al(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Al(r,l),c&2048&&$h(l.alternate,l);break;case 24:Al(r,l),c&2048&&Zh(l.alternate,l);break;default:Al(r,l)}n=n.sibling}}var Sl=8192;function Ja(t){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)_p(t),t=t.sibling}function _p(t){switch(t.tag){case 26:Ja(t),t.flags&Sl&&t.memoizedState!==null&&uT(On,t.memoizedState,t.memoizedProps);break;case 5:Ja(t);break;case 3:case 4:var n=On;On=wu(t.stateNode.containerInfo),Ja(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Sl,Sl=16777216,Ja(t),Sl=n):Ja(t));break;default:Ja(t)}}function vp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function bl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Tp(l,t)}vp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ep(t),t=t.sibling}function Ep(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&Wi(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mu(t)):bl(t);break;default:bl(t)}}function mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Tp(l,t)}vp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Wi(8,n,n.return),mu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,mu(n));break;default:mu(n)}t=t.sibling}}function Tp(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:Wi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(fp(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var R0={getCacheForType:function(t){var n=je(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},w0=typeof WeakMap=="function"?WeakMap:Map,jt=0,Jt=null,Vt=null,xt=0,Gt=0,cn=null,nr=!1,Wa=!1,Jh=!1,Ii=0,oe=0,ir=0,oa=0,Wh=0,wn=0,ts=0,Rl=null,tn=null,tf=!1,ef=0,gu=1/0,pu=null,rr=null,Pe=0,ar=null,es=null,ns=0,nf=0,rf=null,Ap=null,wl=0,af=null;function hn(){if((jt&2)!==0&&xt!==0)return xt&-xt;if(Q.T!==null){var t=ja;return t!==0?t:ff()}return Bi()}function Sp(){wn===0&&(wn=(xt&536870912)===0||kt?Us():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),wn}function fn(t,n,r){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(is(t,0),sr(t,xt,wn,!1)),oi(t,r),((jt&2)===0||t!==Jt)&&(t===Jt&&((jt&2)===0&&(oa|=r),oe===4&&sr(t,xt,wn,!1)),Wn(t))}function bp(t,n,r){if((jt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||xr(t,n),c=l?V0(t,n):of(t,n,!0),f=l;do{if(c===0){Wa&&!l&&sr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!C0(r)){c=of(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;c=Rl;var w=E.current.memoizedState.isDehydrated;if(w&&(is(E,v).flags|=256),v=of(E,v,!1),v!==2){if(Jh&&!w){E.errorRecoveryDisabledLanes|=f,oa|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){is(t,0),sr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:sr(l,n,wn,!nr);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=ef+300-gn(),10<c)){if(sr(l,n,wn,!nr),Ea(l,0,!0)!==0)break t;l.timeoutHandle=Wp(Rp.bind(null,l,r,tn,pu,tf,n,wn,oa,ts,nr,f,2,-0,0),c);break t}Rp(l,r,tn,pu,tf,n,wn,oa,ts,nr,f,0,-0,0)}}break}while(!0);Wn(t)}function Rp(t,n,r,l,c,f,v,E,w,B,F,Z,q,H){if(t.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:oT},_p(n),Z=cT(),Z!==null)){t.cancelPendingCommit=Z(Op.bind(null,t,n,f,r,l,c,v,E,w,F,1,q,H)),sr(t,f,v,!B);return}Op(t,n,f,r,l,c,v,E,w)}function C0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,r,l){n&=~Wh,n&=~oa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-He(c),v=1<<f;l[f]=-1,c&=~v}r!==0&&zn(t,r,n)}function yu(){return(jt&6)===0?(Cl(0),!1):!0}function sf(){if(Vt!==null){if(Gt===0)var t=Vt.return;else t=Vt,Ai=na=null,Ah(t),Xa=null,yl=0,t=Vt;for(;t!==null;)rp(t.alternate,t),t=t.return;Vt=null}}function is(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Q0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),sf(),Jt=t,Vt=r=vi(t.current,null),xt=n,Gt=0,cn=null,nr=!1,Wa=xr(t,n),Jh=!1,ts=wn=Wh=oa=ir=oe=0,tn=Rl=null,tf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-He(l),f=1<<c;n|=t[c],l&=~f}return Ii=n,ko(),r}function wp(t,n){Rt=null,Q.H=ru,n===ol||n===Yo?(n=jm(),Gt=3):n===Bm?(n=jm(),Gt=4):Gt=n===Gg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Vt===null&&(oe=1,uu(t,Tn(n,t.current)))}function Cp(){var t=Q.H;return Q.H=ru,t===null?ru:t}function Dp(){var t=Q.A;return Q.A=R0,t}function lf(){oe=4,nr||(xt&4194048)!==xt&&Rn.current!==null||(Wa=!0),(ir&134217727)===0&&(oa&134217727)===0||Jt===null||sr(Jt,xt,wn,!1)}function of(t,n,r){var l=jt;jt|=2;var c=Cp(),f=Dp();(Jt!==t||xt!==n)&&(pu=null,is(t,n)),n=!1;var v=oe;t:do try{if(Gt!==0&&Vt!==null){var E=Vt,w=cn;switch(Gt){case 8:sf(),v=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var B=Gt;if(Gt=0,cn=null,rs(t,E,w,B),r&&Wa){v=0;break t}break;default:B=Gt,Gt=0,cn=null,rs(t,E,w,B)}}D0(),v=oe;break}catch(F){wp(t,F)}while(!0);return n&&t.shellSuspendCounter++,Ai=na=null,jt=l,Q.H=c,Q.A=f,Vt===null&&(Jt=null,xt=0,ko()),v}function D0(){for(;Vt!==null;)Vp(Vt)}function V0(t,n){var r=jt;jt|=2;var l=Cp(),c=Dp();Jt!==t||xt!==n?(pu=null,gu=gn()+500,is(t,n)):Wa=xr(t,n);t:do try{if(Gt!==0&&Vt!==null){n=Vt;var f=cn;e:switch(Gt){case 1:Gt=0,cn=null,rs(t,n,f,1);break;case 2:case 9:if(qm(f)){Gt=0,cn=null,Ip(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),Wn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:qm(f)?(Gt=0,cn=null,Ip(n)):(Gt=0,cn=null,rs(t,n,f,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var E=Vt;if(!v||hy(v)){Gt=0,cn=null;var w=E.sibling;if(w!==null)Vt=w;else{var B=E.return;B!==null?(Vt=B,_u(B)):Vt=null}break e}}Gt=0,cn=null,rs(t,n,f,5);break;case 6:Gt=0,cn=null,rs(t,n,f,6);break;case 8:sf(),oe=6;break t;default:throw Error(s(462))}}I0();break}catch(F){wp(t,F)}while(!0);return Ai=na=null,Q.H=l,Q.A=c,jt=r,Vt!==null?0:(Jt=null,xt=0,ko(),oe)}function I0(){for(;Vt!==null&&!Ns();)Vp(Vt)}function Vp(t){var n=np(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,n===null?_u(t):Vt=n}function Ip(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=$g(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=$g(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Ah(n);default:rp(r,n),n=Vt=Nm(n,Ii),n=np(r,n,Ii)}t.memoizedProps=t.pendingProps,n===null?_u(t):Vt=n}function rs(t,n,r,l){Ai=na=null,Ah(n),Xa=null,yl=0;var c=n.return;try{if(v0(t,c,n,r,xt)){oe=1,uu(t,Tn(r,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;oe=1,uu(t,Tn(r,t.current)),Vt=null;return}n.flags&32768?(kt||l===1?t=!0:Wa||(xt&536870912)!==0?t=!1:(nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Np(n,t)):_u(n)}function _u(t){var n=t;do{if((n.flags&32768)!==0){Np(n,nr);return}t=n.return;var r=T0(n.alternate,n,Ii);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);oe===0&&(oe=5)}function Np(t,n){do{var r=A0(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);oe=6,Vt=null}function Op(t,n,r,l,c,f,v,E,w){t.cancelPendingCommit=null;do vu();while(Pe!==0);if((jt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Zc,Ps(t,r,f,v,E,w),t===Jt&&(Vt=Jt=null,xt=0),es=n,ar=t,ns=r,nf=f,rf=c,Ap=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,x0(Ir,function(){return Pp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,c=st.p,st.p=2,v=jt,jt|=4;try{S0(t,n,r)}finally{jt=v,st.p=c,Q.T=l}}Pe=1,Mp(),xp(),Up()}}function Mp(){if(Pe===1){Pe=0;var t=ar,n=es,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=Q.T,Q.T=null;var l=st.p;st.p=2;var c=jt;jt|=4;try{gp(n,t);var f=Ef,v=Tm(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&Em(E.ownerDocument.documentElement,E)){if(w!==null&&Fc(E)){var B=w.start,F=w.end;if(F===void 0&&(F=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(F,E.value.length);else{var Z=E.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var H=q.getSelection(),vt=E.textContent.length,pt=Math.min(w.start,vt),Xt=w.end===void 0?pt:Math.min(w.end,vt);!H.extend&&pt>Xt&&(v=Xt,Xt=pt,pt=v);var U=vm(E,pt),I=vm(E,Xt);if(U&&I&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==I.node||H.focusOffset!==I.offset)){var k=Z.createRange();k.setStart(U.node,U.offset),H.removeAllRanges(),pt>Xt?(H.addRange(k),H.extend(I.node,I.offset)):(k.setEnd(I.node,I.offset),H.addRange(k))}}}}for(Z=[],H=E;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var $=Z[E];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Nu=!!vf,Ef=vf=null}finally{jt=c,st.p=l,Q.T=r}}t.current=n,Pe=2}}function xp(){if(Pe===2){Pe=0;var t=ar,n=es,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=Q.T,Q.T=null;var l=st.p;st.p=2;var c=jt;jt|=4;try{hp(t,n.alternate,n)}finally{jt=c,st.p=l,Q.T=r}}Pe=3}}function Up(){if(Pe===4||Pe===3){Pe=0,mo();var t=ar,n=es,r=ns,l=Ap;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,es=ar=null,Lp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(rr=null),Ta(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,c=st.p,st.p=2,Q.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,st.p=c}}(ns&3)!==0&&vu(),Wn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===af?wl++:(wl=0,af=t):wl=0,Cl(0)}}function Lp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,sl(n)))}function vu(t){return Mp(),xp(),Up(),Pp()}function Pp(){if(Pe!==5)return!1;var t=ar,n=nf;nf=0;var r=Ta(ns),l=Q.T,c=st.p;try{st.p=32>r?32:r,Q.T=null,r=rf,rf=null;var f=ar,v=ns;if(Pe=0,es=ar=null,ns=0,(jt&6)!==0)throw Error(s(331));var E=jt;if(jt|=4,Ep(f.current),yp(f,f.current,v,r),jt=E,Cl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{st.p=c,Q.T=l,Lp(t,n)}}function zp(t,n,r){n=Tn(r,n),n=Lh(t.stateNode,n,2),t=Xi(t,n,2),t!==null&&(oi(t,2),Wn(t))}function $t(t,n,r){if(t.tag===3)zp(t,t,r);else for(;n!==null;){if(n.tag===3){zp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=Tn(r,t),r=Hg(2),l=Xi(n,r,2),l!==null&&(jg(r,l,n,t),oi(l,2),Wn(l));break}}n=n.return}}function uf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new w0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Jh=!0,c.add(r),t=N0.bind(null,t,n,r),n.then(t,t))}function N0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(xt&r)===r&&(oe===4||oe===3&&(xt&62914560)===xt&&300>gn()-ef?(jt&2)===0&&is(t,0):Wh|=r,ts===xt&&(ts=0)),Wn(t)}function kp(t,n){n===0&&(n=Ls()),t=ka(t,n),t!==null&&(oi(t,n),Wn(t))}function O0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),kp(t,r)}function M0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),kp(t,r)}function x0(t,n){return Dr(t,n)}var Eu=null,as=null,cf=!1,Tu=!1,hf=!1,ua=0;function Wn(t){t!==as&&t.next===null&&(as===null?Eu=as=t:as=as.next=t),Tu=!0,cf||(cf=!0,L0())}function Cl(t,n){if(!hf&&Tu){hf=!0;do for(var r=!1,l=Eu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-He(42|t)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,jp(l,f))}else f=xt,f=Ea(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||xr(l,f)||(r=!0,jp(l,f));l=l.next}while(r);hf=!1}}function U0(){Bp()}function Bp(){Tu=cf=!1;var t=0;ua!==0&&(G0()&&(t=ua),ua=0);for(var n=gn(),r=null,l=Eu;l!==null;){var c=l.next,f=qp(l,n);f===0?(l.next=null,r===null?Eu=c:r.next=c,c===null&&(as=r)):(r=l,(t!==0||(f&3)!==0)&&(Tu=!0)),l=c}Cl(t)}function qp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-He(f),E=1<<v,w=c[v];w===-1?((E&r)===0||(E&l)!==0)&&(c[v]=xs(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,r=xt,r=Ea(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||xr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Vr(l),Ta(r)){case 2:case 8:r=_a;break;case 32:r=Ir;break;case 268435456:r=va;break;default:r=Ir}return l=Hp.bind(null,t),r=Dr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Vr(l),t.callbackPriority=2,t.callbackNode=null,2}function Hp(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(vu()&&t.callbackNode!==r)return null;var l=xt;return l=Ea(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(bp(t,l,n),qp(t,gn()),t.callbackNode!=null&&t.callbackNode===r?Hp.bind(null,t):null)}function jp(t,n){if(vu())return null;bp(t,n,!0)}function L0(){F0(function(){(jt&6)!==0?Dr(Os,U0):Bp()})}function ff(){return ua===0&&(ua=Us()),ua}function Gp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ca(""+t)}function Qp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function P0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Gp((c[de]||null).action),v=l.submitter;v&&(n=(n=v[de]||null)?Gp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Da("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ua!==0){var w=v?Qp(c,v):new FormData(c);Nh(r,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=v?Qp(c,v):new FormData(c),Nh(r,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var df=0;df<$c.length;df++){var mf=$c[df],z0=mf.toLowerCase(),k0=mf[0].toUpperCase()+mf.slice(1);Nn(z0,"on"+k0)}Nn(bm,"onAnimationEnd"),Nn(Rm,"onAnimationIteration"),Nn(wm,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(n0,"onTransitionRun"),Nn(i0,"onTransitionStart"),Nn(r0,"onTransitionCancel"),Nn(Cm,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Fp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],w=E.instance,B=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(F){ou(F)}c.currentTarget=null,f=w}else for(v=0;v<l.length;v++){if(E=l[v],w=E.instance,B=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(F){ou(F)}c.currentTarget=null,f=w}}}}function It(t,n){var r=n[ks];r===void 0&&(r=n[ks]=new Set);var l=t+"__bubble";r.has(l)||(Kp(n,t,2,!1),r.add(l))}function gf(t,n,r){var l=0;n&&(l|=4),Kp(r,t,l,n)}var Au="_reactListening"+Math.random().toString(36).slice(2);function pf(t){if(!t[Au]){t[Au]=!0,Bs.forEach(function(r){r!=="selectionchange"&&(B0.has(r)||gf(r,!1,t),gf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Au]||(n[Au]=!0,gf("selectionchange",!1,n))}}function Kp(t,n,r,l){switch(yy(n)){case 2:var c=dT;break;case 8:c=mT;break;default:c=If}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function yf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=ui(E),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=f=v;continue t}E=E.parentNode}}l=l.return}bo(function(){var B=f,F=_n(r),Z=[];t:{var q=Dm.get(t);if(q!==void 0){var H=Da,vt=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":H=xa;break;case"focusin":vt="focus",H=Na;break;case"focusout":vt="blur",H=Na;break;case"beforeblur":case"afterblur":H=Na;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Oo;break;case bm:case Rm:case wm:H=Oa;break;case Cm:H=xo;break;case"scroll":case"scrollend":H=Ro;break;case"wheel":H=Ua;break;case"copy":case"cut":case"paste":H=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Js;break;case"toggle":case"beforetoggle":H=Lo}var pt=(n&4)!==0,Xt=!pt&&(t==="scroll"||t==="scrollend"),U=pt?q!==null?q+"Capture":null:q;pt=[];for(var I=B,k;I!==null;){var $=I;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||U===null||($=Hr(I,U),$!=null&&pt.push(Vl(I,$,k))),Xt)break;I=I.return}0<pt.length&&(q=new H(q,vt,null,r,F),Z.push({event:q,listeners:pt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&r!==di&&(vt=r.relatedTarget||r.fromElement)&&(ui(vt)||vt[pn]))break t;if((H||q)&&(q=F.window===F?F:(q=F.ownerDocument)?q.defaultView||q.parentWindow:window,H?(vt=r.relatedTarget||r.toElement,H=B,vt=vt?ui(vt):null,vt!==null&&(Xt=h(vt),pt=vt.tag,vt!==Xt||pt!==5&&pt!==27&&pt!==6)&&(vt=null)):(H=null,vt=B),H!==vt)){if(pt=En,$="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(pt=Js,$="onPointerLeave",U="onPointerEnter",I="pointer"),Xt=H==null?q:Bn(H),k=vt==null?q:Bn(vt),q=new pt($,I+"leave",H,r,F),q.target=Xt,q.relatedTarget=k,$=null,ui(F)===B&&(pt=new pt(U,I+"enter",vt,r,F),pt.target=k,pt.relatedTarget=Xt,$=pt),Xt=$,H&&vt)e:{for(pt=H,U=vt,I=0,k=pt;k;k=ss(k))I++;for(k=0,$=U;$;$=ss($))k++;for(;0<I-k;)pt=ss(pt),I--;for(;0<k-I;)U=ss(U),k--;for(;I--;){if(pt===U||U!==null&&pt===U.alternate)break e;pt=ss(pt),U=ss(U)}pt=null}else pt=null;H!==null&&Yp(Z,q,H,pt,!1),vt!==null&&Xt!==null&&Yp(Z,Xt,vt,pt,!0)}}t:{if(q=B?Bn(B):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ct=dm;else if(Ee(q))if(mm)ct=WE;else{ct=ZE;var Dt=$E}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Qs(B.elementType)&&(ct=dm):ct=JE;if(ct&&(ct=ct(t,B))){_i(Z,ct,r,F);break t}Dt&&Dt(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Gi(q,"number",q.value)}switch(Dt=B?Bn(B):window,t){case"focusin":(Ee(Dt)||Dt.contentEditable==="true")&&(La=Dt,Kc=B,el=null);break;case"focusout":el=Kc=La=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,Am(Z,r,F);break;case"selectionchange":if(e0)break;case"keydown":case"keyup":Am(Z,r,F)}var ht;if(Kn)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Ot?G(t,r)&&(yt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(yt="onCompositionStart");yt&&(_&&r.locale!=="ko"&&(Ot||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Ot&&(ht=Ks()):(jn=F,Qi="value"in jn?jn.value:jn.textContent,Ot=!0)),Dt=Su(B,yt),0<Dt.length&&(yt=new $s(yt,t,null,r,F),Z.push({event:yt,listeners:Dt}),ht?yt.data=ht:(ht=rt(r),ht!==null&&(yt.data=ht)))),(ht=m?ve(t,r):Mt(t,r))&&(yt=Su(B,"onBeforeInput"),0<yt.length&&(Dt=new $s("onBeforeInput","beforeinput",null,r,F),Z.push({event:Dt,listeners:yt}),Dt.data=ht)),P0(Z,t,B,r,F)}Fp(Z,n)})}function Vl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Su(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Hr(t,r),c!=null&&l.unshift(Vl(t,c,f)),c=Hr(t,n),c!=null&&l.push(Vl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Yp(t,n,r,l,c){for(var f=n._reactName,v=[];r!==null&&r!==l;){var E=r,w=E.alternate,B=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||B===null||(w=B,c?(B=Hr(r,f),B!=null&&v.unshift(Vl(r,B,w))):c||(B=Hr(r,f),B!=null&&v.push(Vl(r,B,w)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var q0=/\r\n?/g,H0=/\u0000|\uFFFD/g;function Xp(t){return(typeof t=="string"?t:""+t).replace(q0,`
`).replace(H0,"")}function $p(t,n){return n=Xp(n),Xp(t)===n}function bu(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":qn(t,"class",l);break;case"tabIndex":qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(t,r,l);break;case"style":Gs(t,l,f);break;case"data":if(n!=="object"){qn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ca(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ca(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=bu);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ca(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),ji(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ji(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Bc.get(r)||r,ji(t,r,l))}}function _f(t,n,r,l,c,f){switch(r){case"style":Gs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[de]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ji(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,v,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var E=f=v=c=null,w=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":c=F;break;case"type":v=F;break;case"checked":w=F;break;case"defaultChecked":B=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Yt(t,n,l,F,r,null)}}kr(t,f,E,w,B,v,c,!1),wa(t);return;case"select":It("invalid",t),l=v=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=v,t.multiple=!!l,n!=null?fi(t,!!l,n,!1):r!=null&&fi(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(v in r)if(r.hasOwnProperty(v)&&(E=r[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,v,E,r,null)}Br(t,l,c,f),wa(t);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,w,l,r,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)It(Dl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,B,l,r,null)}return;default:if(Qs(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&_f(t,n,F,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function j0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,w=null,B=null,F=null;for(H in r){var Z=r[H];if(r.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=Z;default:l.hasOwnProperty(H)||Yt(t,n,H,null,l,Z)}}for(var q in l){var H=l[q];if(Z=r[q],l.hasOwnProperty(q)&&(H!=null||Z!=null))switch(q){case"type":f=H;break;case"name":c=H;break;case"checked":B=H;break;case"defaultChecked":F=H;break;case"value":v=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==Z&&Yt(t,n,q,H,l,Z)}}an(t,v,E,w,B,F,f,c);return;case"select":H=v=E=q=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":H=w;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=r[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==w&&Yt(t,n,c,f,l,w)}n=E,r=v,l=H,q!=null?fi(t,!!r,q,!1):!!l!=!!r&&(n!=null?fi(t,!!r,n,!0):fi(t,!!r,r?[]:"",!1));return;case"textarea":H=q=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(v in l)if(c=l[v],f=r[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":q=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,v,c,l,f)}Ft(t,q,H);return;case"option":for(var vt in r)if(q=r[vt],r.hasOwnProperty(vt)&&q!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":t.selected=!1;break;default:Yt(t,n,vt,null,l,q)}for(w in l)if(q=l[w],H=r[w],l.hasOwnProperty(w)&&q!==H&&(q!=null||H!=null))switch(w){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Yt(t,n,w,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)q=r[pt],r.hasOwnProperty(pt)&&q!=null&&!l.hasOwnProperty(pt)&&Yt(t,n,pt,null,l,q);for(B in l)if(q=l[B],H=r[B],l.hasOwnProperty(B)&&q!==H&&(q!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Yt(t,n,B,q,l,H)}return;default:if(Qs(n)){for(var Xt in r)q=r[Xt],r.hasOwnProperty(Xt)&&q!==void 0&&!l.hasOwnProperty(Xt)&&_f(t,n,Xt,void 0,l,q);for(F in l)q=l[F],H=r[F],!l.hasOwnProperty(F)||q===H||q===void 0&&H===void 0||_f(t,n,F,q,l,H);return}}for(var U in r)q=r[U],r.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&Yt(t,n,U,null,l,q);for(Z in l)q=l[Z],H=r[Z],!l.hasOwnProperty(Z)||q===H||q==null&&H==null||Yt(t,n,Z,q,l,H)}var vf=null,Ef=null;function Ru(t){return t.nodeType===9?t:t.ownerDocument}function Zp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Af=null;function G0(){var t=window.event;return t&&t.type==="popstate"?t===Af?!1:(Af=t,!0):(Af=null,!1)}var Wp=typeof setTimeout=="function"?setTimeout:void 0,Q0=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,F0=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(t){return ty.resolve(null).then(t).catch(K0)}:Wp;function K0(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function ey(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var v=t.ownerDocument;if(r&1&&Il(v.documentElement),r&2&&Il(v.body),r&4)for(r=v.head,Il(r),v=r.firstChild;v;){var E=v.nextSibling,w=v.nodeName;v[Ur]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=E}}if(c===0){t.removeChild(f),zl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);zl(n)}function Sf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Sf(r),Hi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Y0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ur])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function X0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Mn(t.nextSibling),t===null))return null;return t}function bf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function $0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Rf=null;function ny(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function iy(t,n,r){switch(n=Ru(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Hi(t)}var Cn=new Map,ry=new Set;function wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=st.d;st.d={f:Z0,r:J0,D:W0,C:tT,L:eT,m:nT,X:rT,S:iT,M:aT};function Z0(){var t=Ni.f(),n=yu();return t||n}function J0(t){var n=kn(t);n!==null&&n.tag===5&&n.type==="form"?bg(n):Ni.r(t)}var ls=typeof document>"u"?null:document;function ay(t,n,r){var l=ls;if(l&&typeof n=="string"&&n){var c=me(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),ry.has(c)||(ry.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),ue(n),l.head.appendChild(n)))}}function W0(t){Ni.D(t),ay("dns-prefetch",t,null)}function tT(t,n){Ni.C(t,n),ay("preconnect",t,n)}function eT(t,n,r){Ni.L(t,n,r);var l=ls;if(l&&t&&n){var c='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+me(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+me(r.imageSizes)+'"]')):c+='[href="'+me(t)+'"]';var f=c;switch(n){case"style":f=os(t);break;case"script":f=us(t)}Cn.has(f)||(t=T({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Cn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Nl(f))||n==="script"&&l.querySelector(Ol(f))||(n=l.createElement("link"),ze(n,"link",t),ue(n),l.head.appendChild(n)))}}function nT(t,n){Ni.m(t,n);var r=ls;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=us(t)}if(!Cn.has(f)&&(t=T({rel:"modulepreload",href:t},n),Cn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ol(f)))return}l=r.createElement("link"),ze(l,"link",t),ue(l),r.head.appendChild(l)}}}function iT(t,n,r){Ni.S(t,n,r);var l=ls;if(l&&t){var c=Ye(l).hoistableStyles,f=os(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Nl(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Cn.get(f))&&wf(t,r);var w=v=l.createElement("link");ue(w),ze(w,"link",t),w._p=new Promise(function(B,F){w.onload=B,w.onerror=F}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function rT(t,n){Ni.X(t,n);var r=ls;if(r&&t){var l=Ye(r).hoistableScripts,c=us(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=T({src:t,async:!0},n),(n=Cn.get(c))&&Cf(t,n),f=r.createElement("script"),ue(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function aT(t,n){Ni.M(t,n);var r=ls;if(r&&t){var l=Ye(r).hoistableScripts,c=us(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=T({src:t,async:!0,type:"module"},n),(n=Cn.get(c))&&Cf(t,n),f=r.createElement("script"),ue(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function sy(t,n,r,l){var c=(c=Tt.current)?wu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=os(r.href),r=Ye(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=os(r.href);var f=Ye(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(Nl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Cn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(t,r),f||sT(c,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=us(r),r=Ye(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function os(t){return'href="'+me(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function ly(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function sT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),ue(n),t.head.appendChild(n))}function us(t){return'[src="'+me(t)+'"]'}function Ol(t){return"script[async]"+t}function oy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+me(r.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),ze(l,"style",c),Cu(l,r.precedence,t),n.instance=l;case"stylesheet":c=os(r.href);var f=t.querySelector(Nl(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=ly(r),(c=Cn.get(c))&&wf(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var v=f;return v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),ze(f,"link",l),n.state.loading|=4,Cu(f,r.precedence,t),n.instance=f;case"script":return f=us(r.src),(c=t.querySelector(Ol(f)))?(n.instance=c,ue(c),c):(l=r,(c=Cn.get(f))&&(l=T({},r),Cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Cu(l,r.precedence,t));return n.instance}function Cu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Du=null;function uy(t,n,r){if(Du===null){var l=new Map,c=Du=new Map;c.set(r,l)}else c=Du,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Ur]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function cy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function lT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function oT(){}function uT(t,n,r){if(Ml===null)throw Error(s(475));var l=Ml;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=os(r.href),f=t.querySelector(Nl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Vu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,r=ly(r),(c=Cn.get(c))&&wf(r,c),f=f.createElement("link"),ue(f);var v=f;v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Vu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function cT(){if(Ml===null)throw Error(s(475));var t=Ml;return t.stylesheets&&t.count===0&&Df(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Df(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Vu(){if(this.count--,this.count===0){if(this.stylesheets)Df(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Iu=null;function Df(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Iu=new Map,n.forEach(hT,t),Iu=null,Vu.call(t))}function hT(t,n){if(!(n.state.loading&4)){var r=Iu.get(t);if(r)var l=r.get(null);else{r=new Map,Iu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,c),r.set(v,c),this.count++,l=Vu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var xl={$$typeof:tt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function fT(t,n,r,l,c,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function fy(t,n,r,l,c,f,v,E,w,B,F,Z){return t=new fT(t,n,r,v,E,w,B,Z),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=oh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},fh(f),t}function dy(t){return t?(t=Ba,t):Ba}function my(t,n,r,l,c,f){c=dy(c),l.context===null?l.context=c:l.pendingContext=c,l=Yi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Xi(t,l,n),r!==null&&(fn(r,t,n),cl(r,t,n))}function gy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Vf(t,n){gy(t,n),(t=t.alternate)&&gy(t,n)}function py(t){if(t.tag===13){var n=ka(t,67108864);n!==null&&fn(n,t,67108864),Vf(t,67108864)}}var Nu=!0;function dT(t,n,r,l){var c=Q.T;Q.T=null;var f=st.p;try{st.p=2,If(t,n,r,l)}finally{st.p=f,Q.T=c}}function mT(t,n,r,l){var c=Q.T;Q.T=null;var f=st.p;try{st.p=8,If(t,n,r,l)}finally{st.p=f,Q.T=c}}function If(t,n,r,l){if(Nu){var c=Nf(l);if(c===null)yf(t,n,l,Ou,r),_y(t,l);else if(pT(c,t,n,r,l))l.stopPropagation();else if(_y(t,l),n&4&&-1<gT.indexOf(t)){for(;c!==null;){var f=kn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Dn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var w=1<<31-He(v);E.entanglements[1]|=w,v&=~w}Wn(f),(jt&6)===0&&(gu=gn()+500,Cl(0))}}break;case 13:E=ka(f,2),E!==null&&fn(E,f,2),yu(),Vf(f,2)}if(f=Nf(l),f===null&&yf(t,n,l,Ou,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else yf(t,n,l,null,r)}}function Nf(t){return t=_n(t),Of(t)}var Ou=null;function Of(t){if(Ou=null,t=ui(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ou=t,null}function yy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xc()){case Os:return 2;case _a:return 8;case Ir:case Uc:return 32;case va:return 268435456;default:return 32}default:return 32}}var Mf=!1,or=null,ur=null,cr=null,Ul=new Map,Ll=new Map,hr=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _y(t,n){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(n.pointerId)}}function Pl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=kn(n),n!==null&&py(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function pT(t,n,r,l,c){switch(n){case"focusin":return or=Pl(or,t,n,r,l,c),!0;case"dragenter":return ur=Pl(ur,t,n,r,l,c),!0;case"mouseover":return cr=Pl(cr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Ul.set(f,Pl(Ul.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ll.set(f,Pl(Ll.get(f)||null,t,n,r,l,c)),!0}return!1}function vy(t){var n=ui(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,yo(t.priority,function(){if(r.tag===13){var l=hn();l=ki(l);var c=ka(r,l);c!==null&&fn(c,r,l),Vf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Nf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);di=l,r.target.dispatchEvent(l),di=null}else return n=kn(r),n!==null&&py(n),t.blockedOn=r,!1;n.shift()}return!0}function Ey(t,n,r){Mu(t)&&r.delete(n)}function yT(){Mf=!1,or!==null&&Mu(or)&&(or=null),ur!==null&&Mu(ur)&&(ur=null),cr!==null&&Mu(cr)&&(cr=null),Ul.forEach(Ey),Ll.forEach(Ey)}function xu(t,n){t.blockedOn===n&&(t.blockedOn=null,Mf||(Mf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,yT)))}var Uu=null;function Ty(t){Uu!==t&&(Uu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Uu===t&&(Uu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Of(l||r)===null)continue;break}var f=kn(r);f!==null&&(t.splice(n,3),n-=3,Nh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function zl(t){function n(w){return xu(w,t)}or!==null&&xu(or,t),ur!==null&&xu(ur,t),cr!==null&&xu(cr,t),Ul.forEach(n),Ll.forEach(n);for(var r=0;r<hr.length;r++){var l=hr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hr.length&&(r=hr[0],r.blockedOn===null);)vy(r),r.blockedOn===null&&hr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],v=c[de]||null;if(typeof f=="function")v||Ty(r);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[de]||null)E=v.formAction;else if(Of(c)!==null)continue}else E=v.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Ty(r)}}}function xf(t){this._internalRoot=t}Lu.prototype.render=xf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=hn();my(r,l,t,n,null,null)},Lu.prototype.unmount=xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;my(t.current,2,null,t,null,null),yu(),n[pn]=null}};function Lu(t){this._internalRoot=t}Lu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Bi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<hr.length&&n!==0&&n<hr[r].priority;r++);hr.splice(r,0,t),r===0&&vy(t)}};var Ay=e.version;if(Ay!=="19.1.0")throw Error(s(527,Ay,"19.1.0"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var _T={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{se=Pu.inject(_T),Ht=Pu}catch{}}return Bl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=zg,f=kg,v=Bg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=fy(t,1,!1,null,null,r,l,c,f,v,E,null),t[pn]=n.current,pf(t),new xf(n)},Bl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=zg,v=kg,E=Bg,w=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),n=fy(t,1,!0,n,r??null,l,c,f,v,E,w,B),n.context=dy(null),r=n.current,l=hn(),l=ki(l),c=Yi(l),c.callback=null,Xi(r,c,l),r=l,n.current.lanes=r,oi(n,r),Wn(n),t[pn]=n.current,pf(t),new Lu(n)},Bl.version="19.1.0",Bl}var Oy;function VT(){if(Oy)return Pf.exports;Oy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Pf.exports=DT(),Pf.exports}var IT=VT();const NT=Y_(IT);var ql={},My;function OT(){if(My)return ql;My=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.parse=d,ql.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,h=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function d(C,x){const P=new h,K=C.length;if(K<2)return P;const j=(x==null?void 0:x.decode)||T;let X=0;do{const at=C.indexOf("=",X);if(at===-1)break;const tt=C.indexOf(";",X),it=tt===-1?K:tt;if(at>it){X=C.lastIndexOf(";",at-1)+1;continue}const ot=g(C,X,at),_t=p(C,at,ot),O=C.slice(ot,_t);if(P[O]===void 0){let b=g(C,at+1,it),R=p(C,it,b);const N=j(C.slice(b,R));P[O]=N}X=it+1}while(X<K);return P}function g(C,x,P){do{const K=C.charCodeAt(x);if(K!==32&&K!==9)return x}while(++x<P);return P}function p(C,x,P){for(;x>P;){const K=C.charCodeAt(--x);if(K!==32&&K!==9)return x+1}return P}function y(C,x,P){const K=(P==null?void 0:P.encode)||encodeURIComponent;if(!a.test(C))throw new TypeError(`argument name is invalid: ${C}`);const j=K(x);if(!e.test(j))throw new TypeError(`argument val is invalid: ${x}`);let X=C+"="+j;if(!P)return X;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);X+="; Max-Age="+P.maxAge}if(P.domain){if(!i.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);X+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);X+="; Path="+P.path}if(P.expires){if(!S(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);X+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(X+="; HttpOnly"),P.secure&&(X+="; Secure"),P.partitioned&&(X+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return X}function T(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function S(C){return o.call(C)==="[object Date]"}return ql}OT();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xy="popstate";function MT(a={}){function e(s,o){let{pathname:h,search:d,hash:g}=s.location;return Jf("",{pathname:h,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:Zl(o)}return UT(e,i,null,a)}function ne(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function xn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xT(){return Math.random().toString(36).substring(2,10)}function Uy(a,e){return{usr:a.state,key:a.key,idx:e}}function Jf(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Ss(e):e,state:i,key:e&&e.key||s||xT()}}function Zl({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Ss(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function UT(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:h=!1}=s,d=o.history,g="POP",p=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function S(){g="POP";let j=T(),X=j==null?null:j-y;y=j,p&&p({action:g,location:K.location,delta:X})}function C(j,X){g="PUSH";let at=Jf(K.location,j,X);y=T()+1;let tt=Uy(at,y),it=K.createHref(at);try{d.pushState(tt,"",it)}catch(ot){if(ot instanceof DOMException&&ot.name==="DataCloneError")throw ot;o.location.assign(it)}h&&p&&p({action:g,location:K.location,delta:1})}function x(j,X){g="REPLACE";let at=Jf(K.location,j,X);y=T();let tt=Uy(at,y),it=K.createHref(at);d.replaceState(tt,"",it),h&&p&&p({action:g,location:K.location,delta:0})}function P(j){let X=o.location.origin!=="null"?o.location.origin:o.location.href,at=typeof j=="string"?j:Zl(j);return at=at.replace(/ $/,"%20"),ne(X,`No window.location.(origin|href) available to create URL for href: ${at}`),new URL(at,X)}let K={get action(){return g},get location(){return a(o,d)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(xy,S),p=j,()=>{o.removeEventListener(xy,S),p=null}},createHref(j){return e(o,j)},createURL:P,encodeLocation(j){let X=P(j);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:C,replace:x,go(j){return d.go(j)}};return K}function X_(a,e,i="/"){return LT(a,e,i,!1)}function LT(a,e,i,s){let o=typeof e=="string"?Ss(e):e,h=Mi(o.pathname||"/",i);if(h==null)return null;let d=$_(a);PT(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=YT(h);g=FT(d[p],y,s)}return g}function $_(a,e=[],i=[],s=""){let o=(h,d,g)=>{let p={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};p.relativePath.startsWith("/")&&(ne(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Oi([s,p.relativePath]),T=i.concat(p);h.children&&h.children.length>0&&(ne(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),$_(h.children,e,T,y)),!(h.path==null&&!h.index)&&e.push({path:y,score:GT(y,h.index),routesMeta:T})};return a.forEach((h,d)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))o(h,d);else for(let p of Z_(h.path))o(h,d,p)}),e}function Z_(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return o?[h,""]:[h];let d=Z_(s.join("/")),g=[];return g.push(...d.map(p=>p===""?h:[h,p].join("/"))),o&&g.push(...d),g.map(p=>a.startsWith("/")&&p===""?"/":p)}function PT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:QT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var zT=/^:[\w-]+$/,kT=3,BT=2,qT=1,HT=10,jT=-2,Ly=a=>a==="*";function GT(a,e){let i=a.split("/"),s=i.length;return i.some(Ly)&&(s+=jT),e&&(s+=BT),i.filter(o=>!Ly(o)).reduce((o,h)=>o+(zT.test(h)?kT:h===""?qT:HT),s)}function QT(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function FT(a,e,i=!1){let{routesMeta:s}=a,o={},h="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,T=h==="/"?e:e.slice(h.length)||"/",S=Ju({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),C=p.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=Ju({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:Oi([h,S.pathname]),pathnameBase:JT(Oi([h,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(h=Oi([h,S.pathnameBase]))}return d}function Ju(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=KT(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let h=o[0],d=h.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:S},C)=>{if(T==="*"){let P=g[C]||"";d=h.slice(0,h.length-P.length).replace(/(.)\/+$/,"$1")}const x=g[C];return S&&!x?y[T]=void 0:y[T]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:d,pattern:a}}function KT(a,e=!1,i=!0){xn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function YT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Mi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function XT(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Ss(a):a;return{pathname:i?i.startsWith("/")?i:$T(i,e):e,search:WT(s),hash:tA(o)}}function $T(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function qf(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZT(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function bd(a){let e=ZT(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Rd(a,e,i,s=!1){let o;typeof a=="string"?o=Ss(a):(o={...a},ne(!o.pathname||!o.pathname.includes("?"),qf("?","pathname","search",o)),ne(!o.pathname||!o.pathname.includes("#"),qf("#","pathname","hash",o)),ne(!o.search||!o.search.includes("#"),qf("#","search","hash",o)));let h=a===""||o.pathname==="",d=h?"/":o.pathname,g;if(d==null)g=i;else{let S=e.length-1;if(!s&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),S-=1;o.pathname=C.join("/")}g=S>=0?e[S]:"/"}let p=XT(o,g),y=d&&d!=="/"&&d.endsWith("/"),T=(h||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var Oi=a=>a.join("/").replace(/\/\/+/g,"/"),JT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),WT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,tA=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function eA(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var J_=["POST","PUT","PATCH","DELETE"];new Set(J_);var nA=["GET",...J_];new Set(nA);var bs=Y.createContext(null);bs.displayName="DataRouter";var gc=Y.createContext(null);gc.displayName="DataRouterState";var W_=Y.createContext({isTransitioning:!1});W_.displayName="ViewTransition";var iA=Y.createContext(new Map);iA.displayName="Fetchers";var rA=Y.createContext(null);rA.displayName="Await";var Un=Y.createContext(null);Un.displayName="Navigation";var lo=Y.createContext(null);lo.displayName="Location";var Ln=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Ln.displayName="Route";var wd=Y.createContext(null);wd.displayName="RouteError";function aA(a,{relative:e}={}){ne(Rs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Y.useContext(Un),{hash:o,pathname:h,search:d}=oo(a,{relative:e}),g=h;return i!=="/"&&(g=h==="/"?i:Oi([i,h])),s.createHref({pathname:g,search:d,hash:o})}function Rs(){return Y.useContext(lo)!=null}function br(){return ne(Rs(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(lo).location}var tv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ev(a){Y.useContext(Un).static||Y.useLayoutEffect(a)}function Cd(){let{isDataRoute:a}=Y.useContext(Ln);return a?vA():sA()}function sA(){ne(Rs(),"useNavigate() may be used only in the context of a <Router> component.");let a=Y.useContext(bs),{basename:e,navigator:i}=Y.useContext(Un),{matches:s}=Y.useContext(Ln),{pathname:o}=br(),h=JSON.stringify(bd(s)),d=Y.useRef(!1);return ev(()=>{d.current=!0}),Y.useCallback((p,y={})=>{if(xn(d.current,tv),!d.current)return;if(typeof p=="number"){i.go(p);return}let T=Rd(p,JSON.parse(h),o,y.relative==="path");a==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Oi([e,T.pathname])),(y.replace?i.replace:i.push)(T,y.state,y)},[e,i,h,o,a])}Y.createContext(null);function lA(){let{matches:a}=Y.useContext(Ln),e=a[a.length-1];return e?e.params:{}}function oo(a,{relative:e}={}){let{matches:i}=Y.useContext(Ln),{pathname:s}=br(),o=JSON.stringify(bd(i));return Y.useMemo(()=>Rd(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function oA(a,e){return nv(a,e)}function nv(a,e,i,s){var at;ne(Rs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:h}=Y.useContext(Un),{matches:d}=Y.useContext(Ln),g=d[d.length-1],p=g?g.params:{},y=g?g.pathname:"/",T=g?g.pathnameBase:"/",S=g&&g.route;{let tt=S&&S.path||"";iv(y,!S||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let C=br(),x;if(e){let tt=typeof e=="string"?Ss(e):e;ne(T==="/"||((at=tt.pathname)==null?void 0:at.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),x=tt}else x=C;let P=x.pathname||"/",K=P;if(T!=="/"){let tt=T.replace(/^\//,"").split("/");K="/"+P.replace(/^\//,"").split("/").slice(tt.length).join("/")}let j=!h&&i&&i.matches&&i.matches.length>0?i.matches:X_(a,{pathname:K});xn(S||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),xn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=dA(j&&j.map(tt=>Object.assign({},tt,{params:Object.assign({},p,tt.params),pathname:Oi([T,o.encodeLocation?o.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?T:Oi([T,o.encodeLocation?o.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),d,i,s);return e&&X?Y.createElement(lo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},X):X}function uA(){let a=_A(),e=eA(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:h},"ErrorBoundary")," or"," ",Y.createElement("code",{style:h},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),i?Y.createElement("pre",{style:o},i):null,d)}var cA=Y.createElement(uA,null),hA=class extends Y.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?Y.createElement(Ln.Provider,{value:this.props.routeContext},Y.createElement(wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fA({routeContext:a,match:e,children:i}){let s=Y.useContext(bs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(Ln.Provider,{value:a},i)}function dA(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let o=a,h=i==null?void 0:i.errors;if(h!=null){let p=o.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);ne(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,g=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:T,errors:S}=i,C=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||C){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((p,y,T)=>{let S,C=!1,x=null,P=null;i&&(S=h&&y.route.id?h[y.route.id]:void 0,x=y.route.errorElement||cA,d&&(g<0&&T===0?(iv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,P=null):g===T&&(C=!0,P=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,T+1)),j=()=>{let X;return S?X=x:C?X=P:y.route.Component?X=Y.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=p,Y.createElement(fA,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:i!=null},children:X})};return i&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?Y.createElement(hA,{location:i.location,revalidation:i.revalidation,component:x,error:S,children:j(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):j()},null)}function Dd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mA(a){let e=Y.useContext(bs);return ne(e,Dd(a)),e}function gA(a){let e=Y.useContext(gc);return ne(e,Dd(a)),e}function pA(a){let e=Y.useContext(Ln);return ne(e,Dd(a)),e}function Vd(a){let e=pA(a),i=e.matches[e.matches.length-1];return ne(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function yA(){return Vd("useRouteId")}function _A(){var s;let a=Y.useContext(wd),e=gA("useRouteError"),i=Vd("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function vA(){let{router:a}=mA("useNavigate"),e=Vd("useNavigate"),i=Y.useRef(!1);return ev(()=>{i.current=!0}),Y.useCallback(async(o,h={})=>{xn(i.current,tv),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...h}))},[a,e])}var Py={};function iv(a,e,i){!e&&!Py[a]&&(Py[a]=!0,xn(!1,i))}Y.memo(EA);function EA({routes:a,future:e,state:i}){return nv(a,void 0,i,e)}function TA({to:a,replace:e,state:i,relative:s}){ne(Rs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Y.useContext(Un);xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=Y.useContext(Ln),{pathname:d}=br(),g=Cd(),p=Rd(a,bd(h),d,s==="path"),y=JSON.stringify(p);return Y.useEffect(()=>{g(JSON.parse(y),{replace:e,state:i,relative:s})},[g,y,s,e,i]),null}function Wf(a){ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AA({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:h=!1}){ne(!Rs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=Y.useMemo(()=>({basename:d,navigator:o,static:h,future:{}}),[d,o,h]);typeof i=="string"&&(i=Ss(i));let{pathname:p="/",search:y="",hash:T="",state:S=null,key:C="default"}=i,x=Y.useMemo(()=>{let P=Mi(p,d);return P==null?null:{location:{pathname:P,search:y,hash:T,state:S,key:C},navigationType:s}},[d,p,y,T,S,C,s]);return xn(x!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:Y.createElement(Un.Provider,{value:g},Y.createElement(lo.Provider,{children:e,value:x}))}function SA({children:a,location:e}){return oA(td(a),e)}function td(a,e=[]){let i=[];return Y.Children.forEach(a,(s,o)=>{if(!Y.isValidElement(s))return;let h=[...e,o];if(s.type===Y.Fragment){i.push.apply(i,td(s.props.children,h));return}ne(s.type===Wf,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ne(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=td(s.props.children,h)),i.push(d)}),i}var Gu="get",Qu="application/x-www-form-urlencoded";function pc(a){return a!=null&&typeof a.tagName=="string"}function bA(a){return pc(a)&&a.tagName.toLowerCase()==="button"}function RA(a){return pc(a)&&a.tagName.toLowerCase()==="form"}function wA(a){return pc(a)&&a.tagName.toLowerCase()==="input"}function CA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function DA(a,e){return a.button===0&&(!e||e==="_self")&&!CA(a)}var zu=null;function VA(){if(zu===null)try{new FormData(document.createElement("form"),0),zu=!1}catch{zu=!0}return zu}var IA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hf(a){return a!=null&&!IA.has(a)?(xn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qu}"`),null):a}function NA(a,e){let i,s,o,h,d;if(RA(a)){let g=a.getAttribute("action");s=g?Mi(g,e):null,i=a.getAttribute("method")||Gu,o=Hf(a.getAttribute("enctype"))||Qu,h=new FormData(a)}else if(bA(a)||wA(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||g.getAttribute("action");if(s=p?Mi(p,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||Gu,o=Hf(a.getAttribute("formenctype"))||Hf(g.getAttribute("enctype"))||Qu,h=new FormData(g,a),!VA()){let{name:y,type:T,value:S}=a;if(T==="image"){let C=y?`${y}.`:"";h.append(`${C}x`,"0"),h.append(`${C}y`,"0")}else y&&h.append(y,S)}}else{if(pc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Gu,s=null,o=Qu,d=a}return h&&o==="text/plain"&&(d=h,h=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:h,body:d}}function Id(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function OA(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function xA(a,e,i){let s=await Promise.all(a.map(async o=>{let h=e.routes[o.route.id];if(h){let d=await OA(h,i);return d.links?d.links():[]}return[]}));return zA(s.flat(1).filter(MA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function zy(a,e,i,s,o,h){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,g=(p,y)=>{var T;return i[y].pathname!==p.pathname||((T=i[y].route.path)==null?void 0:T.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return h==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):h==="data"?e.filter((p,y)=>{var S;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function UA(a,e,{includeHydrateFallback:i}={}){return LA(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let h=[o.module];return o.clientActionModule&&(h=h.concat(o.clientActionModule)),o.clientLoaderModule&&(h=h.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(h=h.concat(o.hydrateFallbackModule)),o.imports&&(h=h.concat(o.imports)),h}).flat(1))}function LA(a){return[...new Set(a)]}function PA(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function zA(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let h=JSON.stringify(PA(o));return i.has(h)||(i.add(h),s.push({key:h,link:o})),s},[])}function kA(a,e){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname="_root.data":e&&Mi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function rv(){let a=Y.useContext(bs);return Id(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function BA(){let a=Y.useContext(gc);return Id(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Nd=Y.createContext(void 0);Nd.displayName="FrameworkContext";function av(){let a=Y.useContext(Nd);return Id(a,"You must render this element inside a <HydratedRouter> element"),a}function qA(a,e){let i=Y.useContext(Nd),[s,o]=Y.useState(!1),[h,d]=Y.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:S}=e,C=Y.useRef(null);Y.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let K=X=>{X.forEach(at=>{d(at.isIntersecting)})},j=new IntersectionObserver(K,{threshold:.5});return C.current&&j.observe(C.current),()=>{j.disconnect()}}},[a]),Y.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let x=()=>{o(!0)},P=()=>{o(!1),d(!1)};return i?a!=="intent"?[h,C,{}]:[h,C,{onFocus:Hl(g,x),onBlur:Hl(p,P),onMouseEnter:Hl(y,x),onMouseLeave:Hl(T,P),onTouchStart:Hl(S,x)}]:[!1,C,{}]}function Hl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function HA({page:a,...e}){let{router:i}=rv(),s=Y.useMemo(()=>X_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?Y.createElement(GA,{page:a,matches:s,...e}):null}function jA(a){let{manifest:e,routeModules:i}=av(),[s,o]=Y.useState([]);return Y.useEffect(()=>{let h=!1;return xA(a,e,i).then(d=>{h||o(d)}),()=>{h=!0}},[a,e,i]),s}function GA({page:a,matches:e,...i}){let s=br(),{manifest:o,routeModules:h}=av(),{basename:d}=rv(),{loaderData:g,matches:p}=BA(),y=Y.useMemo(()=>zy(a,e,p,o,s,"data"),[a,e,p,o,s]),T=Y.useMemo(()=>zy(a,e,p,o,s,"assets"),[a,e,p,o,s]),S=Y.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let P=new Set,K=!1;if(e.forEach(X=>{var tt;let at=o.routes[X.route.id];!at||!at.hasLoader||(!y.some(it=>it.route.id===X.route.id)&&X.route.id in g&&((tt=h[X.route.id])!=null&&tt.shouldRevalidate)||at.hasClientLoader?K=!0:P.add(X.route.id))}),P.size===0)return[];let j=kA(a,d);return K&&P.size>0&&j.searchParams.set("_routes",e.filter(X=>P.has(X.route.id)).map(X=>X.route.id).join(",")),[j.pathname+j.search]},[d,g,s,o,y,e,a,h]),C=Y.useMemo(()=>UA(T,o),[T,o]),x=jA(T);return Y.createElement(Y.Fragment,null,S.map(P=>Y.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...i})),C.map(P=>Y.createElement("link",{key:P,rel:"modulepreload",href:P,...i})),x.map(({key:P,link:K})=>Y.createElement("link",{key:P,...K})))}function QA(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var sv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sv&&(window.__reactRouterVersion="7.4.1")}catch{}function FA({basename:a,children:e,window:i}){let s=Y.useRef();s.current==null&&(s.current=MT({window:i,v5Compat:!0}));let o=s.current,[h,d]=Y.useState({action:o.action,location:o.location}),g=Y.useCallback(p=>{Y.startTransition(()=>d(p))},[d]);return Y.useLayoutEffect(()=>o.listen(g),[o,g]),Y.createElement(AA,{basename:a,children:e,location:h.location,navigationType:h.action,navigator:o})}var lv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ov=Y.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:h,replace:d,state:g,target:p,to:y,preventScrollReset:T,viewTransition:S,...C},x){let{basename:P}=Y.useContext(Un),K=typeof y=="string"&&lv.test(y),j,X=!1;if(typeof y=="string"&&K&&(j=y,sv))try{let R=new URL(window.location.href),N=y.startsWith("//")?new URL(R.protocol+y):new URL(y),M=Mi(N.pathname,P);N.origin===R.origin&&M!=null?y=M+N.search+N.hash:X=!0}catch{xn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let at=aA(y,{relative:o}),[tt,it,ot]=qA(s,C),_t=$A(y,{replace:d,state:g,target:p,preventScrollReset:T,relative:o,viewTransition:S});function O(R){e&&e(R),R.defaultPrevented||_t(R)}let b=Y.createElement("a",{...C,...ot,href:j||at,onClick:X||h?e:O,ref:QA(x,it),target:p,"data-discover":!K&&i==="render"?"true":void 0});return tt&&!K?Y.createElement(Y.Fragment,null,b,Y.createElement(HA,{page:at})):b});ov.displayName="Link";var KA=Y.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:h,to:d,viewTransition:g,children:p,...y},T){let S=oo(d,{relative:y.relative}),C=br(),x=Y.useContext(gc),{navigator:P,basename:K}=Y.useContext(Un),j=x!=null&&eS(S)&&g===!0,X=P.encodeLocation?P.encodeLocation(S).pathname:S.pathname,at=C.pathname,tt=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(at=at.toLowerCase(),tt=tt?tt.toLowerCase():null,X=X.toLowerCase()),tt&&K&&(tt=Mi(tt,K)||tt);const it=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ot=at===X||!o&&at.startsWith(X)&&at.charAt(it)==="/",_t=tt!=null&&(tt===X||!o&&tt.startsWith(X)&&tt.charAt(X.length)==="/"),O={isActive:ot,isPending:_t,isTransitioning:j},b=ot?e:void 0,R;typeof s=="function"?R=s(O):R=[s,ot?"active":null,_t?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let N=typeof h=="function"?h(O):h;return Y.createElement(ov,{...y,"aria-current":b,className:R,ref:T,style:N,to:d,viewTransition:g},typeof p=="function"?p(O):p)});KA.displayName="NavLink";var YA=Y.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:h,method:d=Gu,action:g,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:S,...C},x)=>{let P=WA(),K=tS(g,{relative:y}),j=d.toLowerCase()==="get"?"get":"post",X=typeof g=="string"&&lv.test(g),at=tt=>{if(p&&p(tt),tt.defaultPrevented)return;tt.preventDefault();let it=tt.nativeEvent.submitter,ot=(it==null?void 0:it.getAttribute("formmethod"))||d;P(it||tt.currentTarget,{fetcherKey:e,method:ot,navigate:i,replace:o,state:h,relative:y,preventScrollReset:T,viewTransition:S})};return Y.createElement("form",{ref:x,method:j,action:K,onSubmit:s?p:at,...C,"data-discover":!X&&a==="render"?"true":void 0})});YA.displayName="Form";function XA(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uv(a){let e=Y.useContext(bs);return ne(e,XA(a)),e}function $A(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:h,viewTransition:d}={}){let g=Cd(),p=br(),y=oo(a,{relative:h});return Y.useCallback(T=>{if(DA(T,e)){T.preventDefault();let S=i!==void 0?i:Zl(p)===Zl(y);g(a,{replace:S,state:s,preventScrollReset:o,relative:h,viewTransition:d})}},[p,g,y,i,s,e,a,o,h,d])}var ZA=0,JA=()=>`__${String(++ZA)}__`;function WA(){let{router:a}=uv("useSubmit"),{basename:e}=Y.useContext(Un),i=yA();return Y.useCallback(async(s,o={})=>{let{action:h,method:d,encType:g,formData:p,body:y}=NA(s,e);if(o.navigate===!1){let T=o.fetcherKey||JA();await a.fetch(T,i,o.action||h,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await a.navigate(o.action||h,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function tS(a,{relative:e}={}){let{basename:i}=Y.useContext(Un),s=Y.useContext(Ln);ne(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),h={...oo(a||".",{relative:e})},d=br();if(a==null){h.search=d.search;let g=new URLSearchParams(h.search),p=g.getAll("index");if(p.some(T=>T==="")){g.delete("index"),p.filter(S=>S).forEach(S=>g.append("index",S));let T=g.toString();h.search=T?`?${T}`:""}}return(!a||a===".")&&o.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:Oi([i,h.pathname])),Zl(h)}function eS(a,e={}){let i=Y.useContext(W_);ne(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=uv("useViewTransitionState"),o=oo(a,{relative:e.relative});if(!i.isTransitioning)return!1;let h=Mi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Mi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Ju(o.pathname,d)!=null||Ju(o.pathname,h)!=null}new TextEncoder;const nS=()=>{};var ky={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},iS=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],p=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,T=h>>2,S=(h&3)<<4|g>>4;let C=(g&15)<<2|y>>6,x=y&63;p||(x=64,d||(C=64)),s.push(i[T],i[S],i[C],i[x])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(cv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):iS(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||y==null||S==null)throw new rS;const C=h<<2|g>>4;if(s.push(C),y!==64){const x=g<<4&240|y>>2;if(s.push(x),S!==64){const P=y<<6&192|S;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aS=function(a){const e=cv(a);return hv.encodeByteArray(e,!0)},Wu=function(a){return aS(a).replace(/\./g,"")},sS=function(a){try{return hv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=()=>lS().__FIREBASE_DEFAULTS__,uS=()=>{if(typeof process>"u"||typeof ky>"u")return;const a=ky.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},cS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&sS(a[1]);return e&&JSON.parse(e)},Od=()=>{try{return nS()||oS()||uS()||cS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},hS=a=>{var e,i;return(i=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},fS=a=>{const e=hS(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},fv=()=>{var a;return(a=Od())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Wu(JSON.stringify(i)),Wu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pS(){var a;const e=(a=Od())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yS(){return!pS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _S(){try{return typeof indexedDB=="object"}catch{return!1}}function vS(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="FirebaseError";class ws extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=ES,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dv.prototype.create)}}class dv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?TS(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ws(o,g,s)}}function TS(a,e){return a.replace(AS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const AS=/\{\$([^}]+)}/g;function tc(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(By(h)&&By(d)){if(!tc(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function By(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(a){return a&&a._delegate?a._delegate:a}class Jl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new dS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RS(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:bS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bS(a){return a===ca?void 0:a}function RS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new SS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const CS={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},DS=Lt.INFO,VS={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},IS=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=VS[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mv{constructor(e){this.name=e,this._logLevel=DS,this._logHandler=IS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const NS=(a,e)=>e.some(i=>a instanceof i);let qy,Hy;function OS(){return qy||(qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MS(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gv=new WeakMap,ed=new WeakMap,pv=new WeakMap,jf=new WeakMap,Md=new WeakMap;function xS(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(mr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&gv.set(i,a)}).catch(()=>{}),Md.set(e,a),e}function US(a){if(ed.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});ed.set(a,e)}let nd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return ed.get(a);if(e==="objectStoreNames")return a.objectStoreNames||pv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return mr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function LS(a){nd=a(nd)}function PS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Gf(this),e,...i);return pv.set(s,e.sort?e.sort():[e]),mr(s)}:MS().includes(a)?function(...e){return a.apply(Gf(this),e),mr(gv.get(this))}:function(...e){return mr(a.apply(Gf(this),e))}}function zS(a){return typeof a=="function"?PS(a):(a instanceof IDBTransaction&&US(a),NS(a,OS())?new Proxy(a,nd):a)}function mr(a){if(a instanceof IDBRequest)return xS(a);if(jf.has(a))return jf.get(a);const e=zS(a);return e!==a&&(jf.set(a,e),Md.set(e,a)),e}const Gf=a=>Md.get(a);function kS(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=mr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(mr(d.result),p.oldVersion,p.newVersion,mr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const BS=["get","getKey","getAll","getAllKeys","count"],qS=["put","add","delete","clear"],Qf=new Map;function jy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Qf.get(e))return Qf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=qS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||BS.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return Qf.set(e,h),h}LS(a=>({...a,get:(e,i,s)=>jy(e,i)||a.get(e,i,s),has:(e,i)=>!!jy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function jS(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const id="@firebase/app",Gy="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new mv("@firebase/app"),GS="@firebase/app-compat",QS="@firebase/analytics-compat",FS="@firebase/analytics",KS="@firebase/app-check-compat",YS="@firebase/app-check",XS="@firebase/auth",$S="@firebase/auth-compat",ZS="@firebase/database",JS="@firebase/data-connect",WS="@firebase/database-compat",tb="@firebase/functions",eb="@firebase/functions-compat",nb="@firebase/installations",ib="@firebase/installations-compat",rb="@firebase/messaging",ab="@firebase/messaging-compat",sb="@firebase/performance",lb="@firebase/performance-compat",ob="@firebase/remote-config",ub="@firebase/remote-config-compat",cb="@firebase/storage",hb="@firebase/storage-compat",fb="@firebase/firestore",db="@firebase/vertexai",mb="@firebase/firestore-compat",gb="firebase",pb="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="[DEFAULT]",yb={[id]:"fire-core",[GS]:"fire-core-compat",[FS]:"fire-analytics",[QS]:"fire-analytics-compat",[YS]:"fire-app-check",[KS]:"fire-app-check-compat",[XS]:"fire-auth",[$S]:"fire-auth-compat",[ZS]:"fire-rtdb",[JS]:"fire-data-connect",[WS]:"fire-rtdb-compat",[tb]:"fire-fn",[eb]:"fire-fn-compat",[nb]:"fire-iid",[ib]:"fire-iid-compat",[rb]:"fire-fcm",[ab]:"fire-fcm-compat",[sb]:"fire-perf",[lb]:"fire-perf-compat",[ob]:"fire-rc",[ub]:"fire-rc-compat",[cb]:"fire-gcs",[hb]:"fire-gcs-compat",[fb]:"fire-fst",[mb]:"fire-fst-compat",[db]:"fire-vertex","fire-js":"fire-js",[gb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Map,_b=new Map,ad=new Map;function Qy(a,e){try{a.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function nc(a){const e=a.name;if(ad.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;ad.set(e,a);for(const i of ec.values())Qy(i,a);for(const i of _b.values())Qy(i,a);return!0}function vb(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function Eb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new dv("app","Firebase",Tb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=pb;function yv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:rd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw gr.create("bad-app-name",{appName:String(o)});if(i||(i=fv()),!i)throw gr.create("no-options");const h=ec.get(o);if(h){if(tc(i,h.options)&&tc(s,h.config))return h;throw gr.create("duplicate-app",{appName:o})}const d=new wS(o);for(const p of ad.values())d.addComponent(p);const g=new Ab(i,s,d);return ec.set(o,g),g}function bb(a=rd){const e=ec.get(a);if(!e&&a===rd&&fv())return yv();if(!e)throw gr.create("no-app",{appName:a});return e}function ms(a,e,i){var s;let o=(s=yb[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(g.join(" "));return}nc(new Jl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firebase-heartbeat-database",wb=1,Wl="firebase-heartbeat-store";let Ff=null;function _v(){return Ff||(Ff=kS(Rb,wb,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Wl)}catch(i){console.warn(i)}}}}).catch(a=>{throw gr.create("idb-open",{originalErrorMessage:a.message})})),Ff}async function Cb(a){try{const i=(await _v()).transaction(Wl),s=await i.objectStore(Wl).get(vv(a));return await i.done,s}catch(e){if(e instanceof ws)Ui.warn(e.message);else{const i=gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(i.message)}}}async function Fy(a,e){try{const s=(await _v()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,vv(a)),await s.done}catch(i){if(i instanceof ws)Ui.warn(i.message);else{const s=gr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ui.warn(s.message)}}}function vv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=1024,Vb=30;class Ib{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ob(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Ky();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>Vb){const d=Mb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ky(),{heartbeatsToSend:s,unsentEntries:o}=Nb(this._heartbeatsCache.heartbeats),h=Wu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ui.warn(i),""}}}function Ky(){return new Date().toISOString().substring(0,10)}function Nb(a,e=Db){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Yy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Yy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Ob{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _S()?vS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Cb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Yy(a){return Wu(JSON.stringify({version:2,heartbeats:a})).length}function Mb(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(a){nc(new Jl("platform-logger",e=>new HS(e),"PRIVATE")),nc(new Jl("heartbeat",e=>new Ib(e),"PRIVATE")),ms(id,Gy,a),ms(id,Gy,"esm2017"),ms("fire-js","")}xb("");var Ub="firebase",Lb="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(Ub,Lb,"app");var Xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pr,Ev;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,b){function R(){}R.prototype=b.prototype,O.D=b.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(N,M,L){for(var D=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)D[Me-2]=arguments[Me];return b.prototype[M].apply(N,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,b,R){R||(R=0);var N=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)N[M]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(M=0;16>M;++M)N[M]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=O.g[0],R=O.g[1],M=O.g[2];var L=O.g[3],D=b+(L^R&(M^L))+N[0]+3614090360&4294967295;b=R+(D<<7&4294967295|D>>>25),D=L+(M^b&(R^M))+N[1]+3905402710&4294967295,L=b+(D<<12&4294967295|D>>>20),D=M+(R^L&(b^R))+N[2]+606105819&4294967295,M=L+(D<<17&4294967295|D>>>15),D=R+(b^M&(L^b))+N[3]+3250441966&4294967295,R=M+(D<<22&4294967295|D>>>10),D=b+(L^R&(M^L))+N[4]+4118548399&4294967295,b=R+(D<<7&4294967295|D>>>25),D=L+(M^b&(R^M))+N[5]+1200080426&4294967295,L=b+(D<<12&4294967295|D>>>20),D=M+(R^L&(b^R))+N[6]+2821735955&4294967295,M=L+(D<<17&4294967295|D>>>15),D=R+(b^M&(L^b))+N[7]+4249261313&4294967295,R=M+(D<<22&4294967295|D>>>10),D=b+(L^R&(M^L))+N[8]+1770035416&4294967295,b=R+(D<<7&4294967295|D>>>25),D=L+(M^b&(R^M))+N[9]+2336552879&4294967295,L=b+(D<<12&4294967295|D>>>20),D=M+(R^L&(b^R))+N[10]+4294925233&4294967295,M=L+(D<<17&4294967295|D>>>15),D=R+(b^M&(L^b))+N[11]+2304563134&4294967295,R=M+(D<<22&4294967295|D>>>10),D=b+(L^R&(M^L))+N[12]+1804603682&4294967295,b=R+(D<<7&4294967295|D>>>25),D=L+(M^b&(R^M))+N[13]+4254626195&4294967295,L=b+(D<<12&4294967295|D>>>20),D=M+(R^L&(b^R))+N[14]+2792965006&4294967295,M=L+(D<<17&4294967295|D>>>15),D=R+(b^M&(L^b))+N[15]+1236535329&4294967295,R=M+(D<<22&4294967295|D>>>10),D=b+(M^L&(R^M))+N[1]+4129170786&4294967295,b=R+(D<<5&4294967295|D>>>27),D=L+(R^M&(b^R))+N[6]+3225465664&4294967295,L=b+(D<<9&4294967295|D>>>23),D=M+(b^R&(L^b))+N[11]+643717713&4294967295,M=L+(D<<14&4294967295|D>>>18),D=R+(L^b&(M^L))+N[0]+3921069994&4294967295,R=M+(D<<20&4294967295|D>>>12),D=b+(M^L&(R^M))+N[5]+3593408605&4294967295,b=R+(D<<5&4294967295|D>>>27),D=L+(R^M&(b^R))+N[10]+38016083&4294967295,L=b+(D<<9&4294967295|D>>>23),D=M+(b^R&(L^b))+N[15]+3634488961&4294967295,M=L+(D<<14&4294967295|D>>>18),D=R+(L^b&(M^L))+N[4]+3889429448&4294967295,R=M+(D<<20&4294967295|D>>>12),D=b+(M^L&(R^M))+N[9]+568446438&4294967295,b=R+(D<<5&4294967295|D>>>27),D=L+(R^M&(b^R))+N[14]+3275163606&4294967295,L=b+(D<<9&4294967295|D>>>23),D=M+(b^R&(L^b))+N[3]+4107603335&4294967295,M=L+(D<<14&4294967295|D>>>18),D=R+(L^b&(M^L))+N[8]+1163531501&4294967295,R=M+(D<<20&4294967295|D>>>12),D=b+(M^L&(R^M))+N[13]+2850285829&4294967295,b=R+(D<<5&4294967295|D>>>27),D=L+(R^M&(b^R))+N[2]+4243563512&4294967295,L=b+(D<<9&4294967295|D>>>23),D=M+(b^R&(L^b))+N[7]+1735328473&4294967295,M=L+(D<<14&4294967295|D>>>18),D=R+(L^b&(M^L))+N[12]+2368359562&4294967295,R=M+(D<<20&4294967295|D>>>12),D=b+(R^M^L)+N[5]+4294588738&4294967295,b=R+(D<<4&4294967295|D>>>28),D=L+(b^R^M)+N[8]+2272392833&4294967295,L=b+(D<<11&4294967295|D>>>21),D=M+(L^b^R)+N[11]+1839030562&4294967295,M=L+(D<<16&4294967295|D>>>16),D=R+(M^L^b)+N[14]+4259657740&4294967295,R=M+(D<<23&4294967295|D>>>9),D=b+(R^M^L)+N[1]+2763975236&4294967295,b=R+(D<<4&4294967295|D>>>28),D=L+(b^R^M)+N[4]+1272893353&4294967295,L=b+(D<<11&4294967295|D>>>21),D=M+(L^b^R)+N[7]+4139469664&4294967295,M=L+(D<<16&4294967295|D>>>16),D=R+(M^L^b)+N[10]+3200236656&4294967295,R=M+(D<<23&4294967295|D>>>9),D=b+(R^M^L)+N[13]+681279174&4294967295,b=R+(D<<4&4294967295|D>>>28),D=L+(b^R^M)+N[0]+3936430074&4294967295,L=b+(D<<11&4294967295|D>>>21),D=M+(L^b^R)+N[3]+3572445317&4294967295,M=L+(D<<16&4294967295|D>>>16),D=R+(M^L^b)+N[6]+76029189&4294967295,R=M+(D<<23&4294967295|D>>>9),D=b+(R^M^L)+N[9]+3654602809&4294967295,b=R+(D<<4&4294967295|D>>>28),D=L+(b^R^M)+N[12]+3873151461&4294967295,L=b+(D<<11&4294967295|D>>>21),D=M+(L^b^R)+N[15]+530742520&4294967295,M=L+(D<<16&4294967295|D>>>16),D=R+(M^L^b)+N[2]+3299628645&4294967295,R=M+(D<<23&4294967295|D>>>9),D=b+(M^(R|~L))+N[0]+4096336452&4294967295,b=R+(D<<6&4294967295|D>>>26),D=L+(R^(b|~M))+N[7]+1126891415&4294967295,L=b+(D<<10&4294967295|D>>>22),D=M+(b^(L|~R))+N[14]+2878612391&4294967295,M=L+(D<<15&4294967295|D>>>17),D=R+(L^(M|~b))+N[5]+4237533241&4294967295,R=M+(D<<21&4294967295|D>>>11),D=b+(M^(R|~L))+N[12]+1700485571&4294967295,b=R+(D<<6&4294967295|D>>>26),D=L+(R^(b|~M))+N[3]+2399980690&4294967295,L=b+(D<<10&4294967295|D>>>22),D=M+(b^(L|~R))+N[10]+4293915773&4294967295,M=L+(D<<15&4294967295|D>>>17),D=R+(L^(M|~b))+N[1]+2240044497&4294967295,R=M+(D<<21&4294967295|D>>>11),D=b+(M^(R|~L))+N[8]+1873313359&4294967295,b=R+(D<<6&4294967295|D>>>26),D=L+(R^(b|~M))+N[15]+4264355552&4294967295,L=b+(D<<10&4294967295|D>>>22),D=M+(b^(L|~R))+N[6]+2734768916&4294967295,M=L+(D<<15&4294967295|D>>>17),D=R+(L^(M|~b))+N[13]+1309151649&4294967295,R=M+(D<<21&4294967295|D>>>11),D=b+(M^(R|~L))+N[4]+4149444226&4294967295,b=R+(D<<6&4294967295|D>>>26),D=L+(R^(b|~M))+N[11]+3174756917&4294967295,L=b+(D<<10&4294967295|D>>>22),D=M+(b^(L|~R))+N[2]+718787259&4294967295,M=L+(D<<15&4294967295|D>>>17),D=R+(L^(M|~b))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var R=b-this.blockSize,N=this.B,M=this.h,L=0;L<b;){if(M==0)for(;L<=R;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<b;)if(N[M++]=O.charCodeAt(L++),M==this.blockSize){o(this,N),M=0;break}}else for(;L<b;)if(N[M++]=O[L++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var R=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=R&255,R/=256;for(this.u(O),O=Array(16),b=R=0;4>b;++b)for(var N=0;32>N;N+=8)O[R++]=this.g[b]>>>N&255;return O};function h(O,b){var R=g;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=b(O)}function d(O,b){this.h=b;for(var R=[],N=!0,M=O.length-1;0<=M;M--){var L=O[M]|0;N&&L==b||(R[M]=L,N=!1)}this.g=R}var g={};function p(O){return-128<=O&&128>O?h(O,function(b){return new d([b|0],0>b?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return j(y(-O));for(var b=[],R=1,N=0;O>=R;N++)b[N]=O/R|0,R*=4294967296;return new d(b,0)}function T(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return j(T(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(b,8)),N=S,M=0;M<O.length;M+=8){var L=Math.min(8,O.length-M),D=parseInt(O.substring(M,M+L),b);8>L?(L=y(Math.pow(b,L)),N=N.j(L).add(y(D))):(N=N.j(R),N=N.add(y(D)))}return N}var S=p(0),C=p(1),x=p(16777216);a=d.prototype,a.m=function(){if(K(this))return-j(this).m();for(var O=0,b=1,R=0;R<this.g.length;R++){var N=this.i(R);O+=(0<=N?N:4294967296+N)*b,b*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(P(this))return"0";if(K(this))return"-"+j(this).toString(O);for(var b=y(Math.pow(O,6)),R=this,N="";;){var M=it(R,b).g;R=X(R,M.j(b));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=M,P(R))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function P(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function K(O){return O.h==-1}a.l=function(O){return O=X(this,O),K(O)?-1:P(O)?0:1};function j(O){for(var b=O.g.length,R=[],N=0;N<b;N++)R[N]=~O.g[N];return new d(R,~O.h).add(C)}a.abs=function(){return K(this)?j(this):this},a.add=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],N=0,M=0;M<=b;M++){var L=N+(this.i(M)&65535)+(O.i(M)&65535),D=(L>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);N=D>>>16,L&=65535,D&=65535,R[M]=D<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function X(O,b){return O.add(j(b))}a.j=function(O){if(P(this)||P(O))return S;if(K(this))return K(O)?j(this).j(j(O)):j(j(this).j(O));if(K(O))return j(this.j(j(O)));if(0>this.l(x)&&0>O.l(x))return y(this.m()*O.m());for(var b=this.g.length+O.g.length,R=[],N=0;N<2*b;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<O.g.length;M++){var L=this.i(N)>>>16,D=this.i(N)&65535,Me=O.i(M)>>>16,ae=O.i(M)&65535;R[2*N+2*M]+=D*ae,at(R,2*N+2*M),R[2*N+2*M+1]+=L*ae,at(R,2*N+2*M+1),R[2*N+2*M+1]+=D*Me,at(R,2*N+2*M+1),R[2*N+2*M+2]+=L*Me,at(R,2*N+2*M+2)}for(N=0;N<b;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=b;N<2*b;N++)R[N]=0;return new d(R,0)};function at(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function tt(O,b){this.g=O,this.h=b}function it(O,b){if(P(b))throw Error("division by zero");if(P(O))return new tt(S,S);if(K(O))return b=it(j(O),b),new tt(j(b.g),j(b.h));if(K(b))return b=it(O,j(b)),new tt(j(b.g),b.h);if(30<O.g.length){if(K(O)||K(b))throw Error("slowDivide_ only works with positive integers.");for(var R=C,N=b;0>=N.l(O);)R=ot(R),N=ot(N);var M=_t(R,1),L=_t(N,1);for(N=_t(N,2),R=_t(R,2);!P(N);){var D=L.add(N);0>=D.l(O)&&(M=M.add(R),L=D),N=_t(N,1),R=_t(R,1)}return b=X(O,M.j(b)),new tt(M,b)}for(M=S;0<=O.l(b);){for(R=Math.max(1,Math.floor(O.m()/b.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=y(R),D=L.j(b);K(D)||0<D.l(O);)R-=N,L=y(R),D=L.j(b);P(L)&&(L=C),M=M.add(L),O=X(O,D)}return new tt(M,O)}a.A=function(O){return it(this,O).h},a.and=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)&O.i(N);return new d(R,this.h&O.h)},a.or=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)|O.i(N);return new d(R,this.h|O.h)},a.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)^O.i(N);return new d(R,this.h^O.h)};function ot(O){for(var b=O.g.length+1,R=[],N=0;N<b;N++)R[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(R,O.h)}function _t(O,b){var R=b>>5;b%=32;for(var N=O.g.length-R,M=[],L=0;L<N;L++)M[L]=0<b?O.i(L+R)>>>b|O.i(L+R+1)<<32-b:O.i(L+R);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ev=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,pr=d}).apply(typeof Xy<"u"?Xy:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tv,jl,Av,Fu,sd,Sv,bv,Rv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in _))break t;_=_[z]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var _=0,A=!1,z={next:function(){if(!A&&_<u.length){var G=_++;return{value:m(G,u[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,_){return u.call.apply(u.bind,arguments)}function S(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function C(u,m,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:S,C.apply(null,arguments)}function x(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function P(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,z,G){for(var rt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)rt[Ot-2]=arguments[Ot];return m.prototype[z].apply(A,rt)}}function K(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function j(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const z=u.length||0,G=A.length||0;u.length=z+G;for(let rt=0;rt<G;rt++)u[z+rt]=A[rt]}else u.push(A)}}class X{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function at(u){return/^[\s\xa0]*$/.test(u)}function tt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function it(u){return it[" "](u),u}it[" "]=function(){};var ot=tt().indexOf("Gecko")!=-1&&!(tt().toLowerCase().indexOf("webkit")!=-1&&tt().indexOf("Edge")==-1)&&!(tt().indexOf("Trident")!=-1||tt().indexOf("MSIE")!=-1)&&tt().indexOf("Edge")==-1;function _t(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function O(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function b(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)u[_]=A[_];for(let G=0;G<R.length;G++)_=R[G],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function M(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function L(u){g.setTimeout(()=>{throw u},0)}function D(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,_){const A=ae.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new X(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ft=!1,zt=new Me,V=()=>{const u=g.Promise.resolve(void 0);st=()=>{u.then(W)}};var W=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){L(_)}var m=ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ft=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function Ct(u,m){if(nt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ot){t:{try{it(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}P(Ct,nt);var Tt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Pn(u,m,_,A,z){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function zi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function si(u){this.src=u,this.g={},this.h=0}si.prototype.add=function(u,m,_,A,z){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var rt=Dr(u,m,A,z);return-1<rt?(m=u[rt],_||(m.fa=!1)):(m=new Pn(m,this.src,G,!!A,z),m.fa=_,u.push(m)),m};function Cr(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],z=Array.prototype.indexOf.call(A,m,void 0),G;(G=0<=z)&&Array.prototype.splice.call(A,z,1),G&&(zi(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Dr(u,m,_,A){for(var z=0;z<u.length;++z){var G=u[z];if(!G.da&&G.listener==m&&G.capture==!!_&&G.ha==A)return z}return-1}var Vr="closure_lm_"+(1e6*Math.random()|0),Ns={};function mo(u,m,_,A,z){if(Array.isArray(m)){for(var G=0;G<m.length;G++)mo(u,m[G],_,A,z);return null}return _=go(_),u&&u[we]?u.K(m,_,y(A)?!!A.capture:!1,z):gn(u,m,_,!1,A,z)}function gn(u,m,_,A,z,G){if(!m)throw Error("Invalid event type");var rt=y(z)?!!z.capture:!!z,Ot=va(u);if(Ot||(u[Vr]=Ot=new si(u)),_=Ot.add(m,_,A,rt,G),_.proxy)return _;if(A=xc(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)mt||(z=rt),z===void 0&&(z=!1),u.addEventListener(m.toString(),A,z);else if(u.attachEvent)u.attachEvent(Ir(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function xc(){function u(_){return m.call(u.src,u.listener,_)}const m=Uc;return u}function Os(u,m,_,A,z){if(Array.isArray(m))for(var G=0;G<m.length;G++)Os(u,m[G],_,A,z);else A=y(A)?!!A.capture:!!A,_=go(_),u&&u[we]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],_=Dr(G,_,A,z),-1<_&&(zi(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=va(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Dr(m,_,A,z)),(_=-1<u?m[u]:null)&&_a(_))}function _a(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])Cr(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Ir(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=va(m))?(Cr(_,u),_.h==0&&(_.src=null,m[Vr]=null)):zi(u)}}}function Ir(u){return u in Ns?Ns[u]:Ns[u]="on"+u}function Uc(u,m){if(u.da)u=!0;else{m=new Ct(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&_a(u),u=_.call(A,m)}return u}function va(u){return u=u[Vr],u instanceof si?u:null}var Ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function go(u){return typeof u=="function"?u:(u[Ms]||(u[Ms]=function(m){return u.handleEvent(m)}),u[Ms])}function se(){lt.call(this),this.i=new si(this),this.M=this,this.F=null}P(se,lt),se.prototype[we]=!0,se.prototype.removeEventListener=function(u,m,_,A){Os(this,u,m,_,A)};function Ht(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new nt(m,u);else if(m instanceof nt)m.target=m.target||u;else{var z=m;m=new nt(A,u),N(m,z)}if(z=!0,_)for(var G=_.length-1;0<=G;G--){var rt=m.g=_[G];z=rn(rt,A,!0,m)&&z}if(rt=m.g=u,z=rn(rt,A,!0,m)&&z,z=rn(rt,A,!1,m)&&z,_)for(G=0;G<_.length;G++)rt=m.g=_[G],z=rn(rt,A,!1,m)&&z}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)zi(_[A]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},se.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function rn(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,G=0;G<m.length;++G){var rt=m[G];if(rt&&!rt.da&&rt.capture==_){var Ot=rt.listener,ve=rt.ha||rt.src;rt.fa&&Cr(u.i,rt),z=Ot.call(ve,A)!==!1&&z}}return z&&!A.defaultPrevented}function He(u,m,_){if(typeof u=="function")_&&(u=C(u,_));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function po(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,po(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Lc extends lt{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:po(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(u){lt.call(this),this.h=u,this.g={}}P(Nr,lt);var Or=[];function Mr(u){_t(u.g,function(m,_){this.g.hasOwnProperty(_)&&_a(m)},u),u.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),Mr(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,Ea=g.JSON.parse,xr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function xs(){}xs.prototype.h=null;function Us(u){return u.h||(u.h=u.i())}function Ls(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){nt.call(this,"d")}P(oi,nt);function Ps(){nt.call(this,"c")}P(Ps,nt);var zn={},zs=null;function ki(){return zs=zs||new se}zn.La="serverreachability";function Ta(u){nt.call(this,zn.La,u)}P(Ta,nt);function Bi(u){const m=ki();Ht(m,new Ta(m))}zn.STAT_EVENT="statevent";function yo(u,m){nt.call(this,zn.STAT_EVENT,u),this.stat=m}P(yo,nt);function Wt(u){const m=ki();Ht(m,new yo(m,u))}zn.Ma="timingevent";function _e(u,m){nt.call(this,zn.Ma,u),this.size=m}P(_e,nt);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function ks(u,m,_,A,z,G){u.info(function(){if(u.g)if(G)for(var rt="",Ot=G.split("&"),ve=0;ve<Ot.length;ve++){var Mt=Ot[ve].split("=");if(1<Mt.length){var De=Mt[0];Mt=Mt[1];var Ee=De.split("_");rt=2<=Ee.length&&Ee[1]=="type"?rt+(De+"="+Mt+"&"):rt+(De+"=redacted&")}}else rt=null;else rt=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+m+`
`+_+`
`+rt})}function Pc(u,m,_,A,z,G,rt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+m+`
`+_+`
`+G+" "+rt})}function qi(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ur(u,_)+(A?" "+A:"")})}function _o(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Ur(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var rt=1;rt<z.length;rt++)z[rt]=""}}}}return Dn(_)}catch{return m}}var Hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function Bn(){}P(Bn,xs),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},kn=new Bn;function Ye(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Bs={},Aa={};function Vn(u,m,_){u.L=1,u.v=Br(an(m)),u.m=_,u.P=!0,ci(u,null)}function ci(u,m){u.F=Date.now(),Lr(u),u.A=an(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Fs(_.i,"t",A),u.C=0,_=u.j.J,u.h=new ue,u.g=xo(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Lc(C(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Or[0]=z.toString()),z=Or);for(var G=0;G<z.length;G++){var rt=mo(_,z[G],A||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Bi(),ks(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=En(this.g);var m=this.g.Ba();const _i=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||wo(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=_i?Bi(3):Bi(2)),ji(this);var _=this.g.Z();this.X=_;e:if(vo(this)){var A=wo(this.g);u="";var z=A.length,G=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),qn(this);var rt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(G&&m==z-1)});A.length=0,this.h.g+=u,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,Pc(this.i,this.u,this.A,this.l,this.R,Ee,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,ve=this.g;if((Ot=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!at(Ot)){var Mt=Ot;break e}}Mt=null}if(_=Mt)qi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pr(this,_);else{this.o=!1,this.s=3,Wt(12),xe(this),qn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<rt.length;)if(Ue=Eo(this,rt),Ue==Aa){Ee==4&&(this.s=4,Wt(14),_=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Bs){this.s=4,Wt(15),qi(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else qi(this.i,this.l,Ue,null),Pr(this,Ue);if(vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||rt.length!=0||this.h.h||(this.s=1,Wt(16),_=!1),this.o=this.o&&_,!_)qi(this.i,this.l,rt,"[Invalid Chunked Response]"),xe(this),qn(this);else if(0<rt.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),Yr(De),De.M=!0,Wt(11))}}else qi(this.i,this.l,rt,null),Pr(this,rt);Ee==4&&xe(this),this.o&&!this.J&&(Ee==4?No(this.j,this):(this.o=!1,Lr(this)))}else Hc(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),xe(this),qn(this)}}}catch{}finally{}};function vo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Eo(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Aa:(_=Number(m.substring(_,A)),isNaN(_)?Bs:(A+=1,A+_>m.length?Aa:(m=m.slice(A,A+_),u.C=A+_,m)))}Ye.prototype.cancel=function(){this.J=!0,xe(this)};function Lr(u){u.S=Date.now()+u.I,To(u,u.I)}function To(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(C(u.ba,u),m)}function ji(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_o(this.i,this.A),this.L!=2&&(Bi(),Wt(17)),xe(this),this.s=2,qn(this)):To(this,this.S-u)};function qn(u){u.j.G==0||u.J||No(u.j,u)}function xe(u){ji(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Mr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Pr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||qs(_.h,u))){if(!u.K&&qs(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)xa(_),Oa(_);else break t;Zs(_),Wt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=de(C(_.Za,_),6e3));if(1>=ba(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else yi(_,11)}else if((u.K||_.g==u)&&xa(_),!at(m))for(z=_.Da.g.parse(m),m=0;m<z.length;m++){let Mt=z[m];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const De=Mt[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const Ee=Mt[4];Ee!=null&&(_.Aa=Ee,_.j.info("SVER="+_.Aa));const _i=Mt[5];_i!=null&&typeof _i=="number"&&0<_i&&(A=1.5*_i,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const Yn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var G=A.h;G.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ra(G,G.h),G.h=null))}if(A.D){const Ws=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Ws&&(A.ya=Ws,Ft(A.I,A.D,Ws))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var rt=u;if(A.qa=Mo(A,A.J?A.ia:null,A.W),rt.K){Xe(A.h,rt);var Ot=rt,ve=A.L;ve&&(Ot.I=ve),Ot.B&&(ji(Ot),Lr(Ot)),A.g=rt}else Vo(A);0<_.i.length&&Ma(_)}else Mt[0]!="stop"&&Mt[0]!="close"||yi(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?yi(_,7):Xs(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}Bi(4)}catch{}}var Ao=class{constructor(u,m){this.g=u,this.map=m}};function hi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ba(u){return u.h?1:u.g?u.g.size:0}function qs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ra(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}hi.prototype.cancel=function(){if(this.i=Hs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Hs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return K(u.i)}function zc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function wa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function js(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=wa(u),A=zc(u),z=A.length,G=0;G<z;G++)m.call(void 0,A[G],_&&_[G],u)}var zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kc(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),z=null;if(0<=A){var G=u[_].substring(0,A);z=u[_].substring(A+1)}else G=u[_];m(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,kr(this,u.j),this.o=u.o,this.g=u.g,Gi(this,u.s),this.l=u.l;var m=u.i,_=new di;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),fi(this,_),this.m=u.m}else u&&(m=String(u).match(zr))?(this.h=!1,kr(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),Gi(this,m[4]),this.l=yn(m[5]||"",!0),fi(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new di(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(qr(m,Gs,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(qr(m,Gs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(qr(_,_.charAt(0)=="/"?Bc:Qs,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",qr(_,Ca)),u.join("")};function an(u){return new me(u)}function kr(u,m,_){u.j=_?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function fi(u,m,_){m instanceof di?(u.i=m,bo(u.i,u.h)):(_||(m=qr(m,qc)),u.i=new di(m,u.h))}function Ft(u,m,_){u.i.set(m,_)}function Br(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,So),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function So(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gs=/[#\/\?@]/g,Qs=/[#\?:]/g,Bc=/[#\?]/g,qc=/[#\?@]/g,Ca=/#/g;function di(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&kc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=di.prototype,a.add=function(u,m){_n(this),this.i=null,u=Hn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function mi(u,m){_n(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function gi(u,m){return _n(u),m=Hn(u,m),u.g.has(m)}a.forEach=function(u,m){_n(this),this.g.forEach(function(_,A){_.forEach(function(z){u.call(m,z,A,this)},this)},this)},a.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const z=u[A];for(let G=0;G<z.length;G++)_.push(m[A])}return _},a.V=function(u){_n(this);let m=[];if(typeof u=="string")gi(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},a.set=function(u,m){return _n(this),this.i=null,u=Hn(this,u),gi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Fs(u,m,_){mi(u,m),0<_.length&&(u.i=null,u.g.set(Hn(u,m),K(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const G=encodeURIComponent(String(A)),rt=this.V(A);for(A=0;A<rt.length;A++){var z=G;rt[A]!==""&&(z+="="+encodeURIComponent(String(rt[A]))),u.push(z)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function bo(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(mi(this,A),Fs(this,z,_))},u)),u.j=m}function Hr(u,m){const _=new pn;if(g.Image){const A=new Image;A.onload=x(vn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=x(vn,_,"TestLoadImage: error",!1,m,A),A.onabort=x(vn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=x(vn,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function In(u,m){const _=new pn,A=new AbortController,z=setTimeout(()=>{A.abort(),vn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?vn(_,"TestPingServer: ok",!0,m):vn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),vn(_,"TestPingServer: error",!1,m)})}function vn(u,m,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function jr(){this.g=new xr}function jn(u,m,_){const A=_||"";try{js(u,function(z,G){let rt=z;y(z)&&(rt=Dn(z)),m.push(A+G+"="+encodeURIComponent(rt))})}catch(z){throw m.push(A+"type="+encodeURIComponent("_badmap")),z}}function Qi(u){this.l=u.Ub||null,this.j=u.eb||!1}P(Qi,xs),Qi.prototype.g=function(){return new pi(this.l,this.j)},Qi.prototype.i=function(u){return function(){return u}}({});function pi(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(pi,se),a=pi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Qn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ks(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ks(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Qn(this),this.readyState==3&&Ks(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},a.Qa=function(u){this.g&&(this.response=u,Gn(this))},a.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ys(u){let m="";return _t(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Ce(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Ys(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Ft(u,m,_))}function Bt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Bt,se);var Da=/^https?$/i,Gr=["POST","PUT"];a=Bt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?Us(this.o):Us(kn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){Ro(this,G);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),z=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Gr,m,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,rt]of _)this.g.setRequestHeader(G,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qr(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){Ro(this,G)}};function Ro(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Va(u),Fn(u)}function Va(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Fn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),Bt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ia(this):this.bb())},a.bb=function(){Ia(this)};function Ia(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)He(u.Ea,0,u);else if(Ht(u,"readystatechange"),En(u)==4){u.h=!1;try{const rt=u.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=rt===0){var z=String(u.D).match(zr)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),A=!Da.test(z?z.toLowerCase():"")}_=A}if(_)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var G=2<En(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",Va(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){Qr(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{_.onreadystatechange=A}catch{}}}function Qr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ea(m)}};function wo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Hc(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(at(u[A]))continue;var _=M(u[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=m[z]||[];m[z]=G,G.push(_)}O(m,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Na(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fr("baseRetryDelayMs",5e3,u),this.cb=Fr("retryDelaySeedMs",1e4,u),this.Wa=Fr("forwardChannelMaxRetries",2,u),this.wa=Fr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(u&&u.concurrentRequestLimit),this.Da=new jr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Na.prototype,a.la=8,a.G=1,a.connect=function(u,m,_,A){Wt(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Mo(this,null,this.W),Ma(this)};function Xs(u){if(Co(u),u.G==3){var m=u.U++,_=an(u.I);if(Ft(_,"SID",u.K),Ft(_,"RID",m),Ft(_,"TYPE","terminate"),Kr(u,_),m=new Ye(u,u.j,m),m.L=2,m.v=Br(an(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=xo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Lr(m)}Oo(u)}function Oa(u){u.g&&(Yr(u),u.g.cancel(),u.g=null)}function Co(u){Oa(u),u.u&&(g.clearTimeout(u.u),u.u=null),xa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ma(u){if(!Sa(u.h)&&!u.s){u.s=!0;var m=u.Ga;st||V(),ft||(st(),ft=!0),zt.add(m,u),u.B=0}}function jc(u,m){return ba(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(C(u.Ga,u,m),Js(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Ye(this,this.j,u);let G=this.o;if(this.S&&(G?(G=b(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Do(this,z,m),_=an(this.I),Ft(_,"RID",u),Ft(_,"CVER",22),this.D&&Ft(_,"X-HTTP-Session-Id",this.D),Kr(this,_),G&&(this.O?m="headers="+encodeURIComponent(String(Ys(G)))+"&"+m:this.m&&Ce(_,this.m,G)),Ra(this.h,z),this.Ua&&Ft(_,"TYPE","init"),this.P?(Ft(_,"$req",m),Ft(_,"SID","null"),z.T=!0,Vn(z,_,null)):Vn(z,_,m),this.G=2}}else this.G==3&&(u?$s(this,u):this.i.length==0||Sa(this.h)||$s(this))};function $s(u,m){var _;m?_=m.l:_=u.U++;const A=an(u.I);Ft(A,"SID",u.K),Ft(A,"RID",_),Ft(A,"AID",u.T),Kr(u,A),u.m&&u.o&&Ce(A,u.m,u.o),_=new Ye(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Do(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ra(u.h,_),Vn(_,A,m)}function Kr(u,m){u.H&&_t(u.H,function(_,A){Ft(m,A,_)}),u.l&&js({},function(_,A){Ft(m,A,_)})}function Do(u,m,_){_=Math.min(u.i.length,_);var A=u.l?C(u.l.Na,u.l,u):null;t:{var z=u.i;let G=-1;for(;;){const rt=["count="+_];G==-1?0<_?(G=z[0].g,rt.push("ofs="+G)):G=0:rt.push("ofs="+G);let Ot=!0;for(let ve=0;ve<_;ve++){let Mt=z[ve].g;const De=z[ve].map;if(Mt-=G,0>Mt)G=Math.max(0,z[ve].g-100),Ot=!1;else try{jn(De,rt,"req"+Mt+"_")}catch{A&&A(De)}}if(Ot){A=rt.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function Vo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;st||V(),ft||(st(),ft=!0),zt.add(m,u),u.v=0}}function Zs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(C(u.Fa,u),Js(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Io(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(C(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Oa(this),Io(this))};function Yr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Io(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),Kr(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Br(an(m)),_.m=null,_.P=!0,ci(_,u)}a.Za=function(){this.C!=null&&(this.C=null,Oa(this),Zs(this),Wt(19))};function xa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function No(u,m){var _=null;if(u.g==m){xa(u),Yr(u),u.g=null;var A=2}else if(qs(u.h,m))_=m.D,Xe(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;A=ki(),Ht(A,new _e(A,_)),Ma(u)}else Vo(u);else if(z=m.s,z==3||z==0&&0<m.X||!(A==1&&jc(u,m)||A==2&&Zs(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),z){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function Js(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var _=C(u.fb,u),A=u.Xa;const z=!A;A=new me(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||kr(A,"https"),Br(A),z?Hr(A.toString(),_):In(A.toString(),_)}else Wt(2);u.G=0,u.l&&u.l.sa(m),Oo(u),Co(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Oo(u){if(u.G=0,u.ka=[],u.l){const m=Hs(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function Mo(u,m,_){var A=_ instanceof me?an(_):new me(_);if(A.g!="")m&&(A.g=m+"."+A.g),Gi(A,A.s);else{var z=g.location;A=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var G=new me(null);A&&kr(G,A),m&&(G.g=m),z&&Gi(G,z),_&&(G.l=_),A=G}return _=u.D,m=u.ya,_&&m&&Ft(A,_,m),Ft(A,"VER",u.la),Kr(u,A),A}function xo(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new Qi({eb:_})):new Bt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uo(){}a=Uo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ua(){}Ua.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){se.call(this),this.g=new Na(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!at(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!at(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Kn(this)}P($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Xs(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Dn(u),u=_);m.i.push(new Ao(m.Ya++,u)),m.G==3&&Ma(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Xs(this.g),delete this.g,$e.aa.N.call(this)};function Lo(u){oi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}P(Lo,oi);function Po(){Ps.call(this),this.status=1}P(Po,Ps);function Kn(u){this.g=u}P(Kn,Uo),Kn.prototype.ua=function(){Ht(this.g,"a")},Kn.prototype.ta=function(u){Ht(this.g,new Lo(u))},Kn.prototype.sa=function(u){Ht(this.g,new Po)},Kn.prototype.ra=function(){Ht(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,Rv=function(){return new Ua},bv=function(){return ki()},Sv=zn,sd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,Fu=Hi,ui.COMPLETE="complete",Av=ui,Ls.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",se.prototype.listen=se.prototype.K,jl=Ls,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,Tv=Bt}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});const $y="@firebase/firestore",Zy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cs="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new mv("@firebase/firestore");function cs(){return ma.logLevel}function ut(a,...e){if(ma.logLevel<=Lt.DEBUG){const i=e.map(xd);ma.debug(`Firestore (${Cs}): ${a}`,...i)}}function Li(a,...e){if(ma.logLevel<=Lt.ERROR){const i=e.map(xd);ma.error(`Firestore (${Cs}): ${a}`,...i)}}function ps(a,...e){if(ma.logLevel<=Lt.WARN){const i=e.map(xd);ma.warn(`Firestore (${Cs}): ${a}`,...i)}}function xd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(a="Unexpected state"){const e=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: `+a;throw Li(e),new Error(e)}function qt(a,e){a||Et()}function St(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends ws{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class zb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class kb{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let h=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new fa,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=h;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new fa)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string"),new wv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new Fe(e)}}class Bb{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class qb{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new Bb(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hb{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Eb(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0);const s=h=>{h.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Jy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string"),this.R=i.token,new Jy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=jb(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function wt(a,e){return a<e?-1:a>e?1:0}function ld(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return wt(s,o);{const h=Cv(),d=Gb(h.encode(Wy(a,i)),h.encode(Wy(e,i)));return d!==0?d:wt(s,o)}}i+=s>65535?2:1}return wt(a.length,e.length)}function Wy(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function Gb(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return wt(a[i],e[i]);return wt(a.length,e.length)}function ys(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=-62135596800,e_=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*e_);return new be(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new dt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<t_)throw new dt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e_}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-t_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new be(0,0))}static max(){return new At(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="__name__";class ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&Et(),s===void 0?s=e.length-i:s>e.length-i&&Et(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ti.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return wt(e.length,i.length)}static compareSegments(e,i){const s=ti.isNumericId(e),o=ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):ld(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class ee extends ti{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new dt(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const Qb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ti{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return Qb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n_}static keyField(){return new Be([n_])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new dt(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new dt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new dt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new dt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(ee.fromString(e))}static fromName(e){return new gt(ee.fromString(e).popFirst(5))}static empty(){return new gt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new ee(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=-1;function Fb(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new be(i+1,0):new be(i,s));return new _r(o,gt.empty(),e)}function Kb(a){return new _r(a.readTime,a.key,to)}class _r{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new _r(At.min(),gt.empty(),to)}static max(){return new _r(At.max(),gt.empty(),to)}}function Yb(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,e.documentKey),i!==0?i:wt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $b{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(a){if(a.code!==et.FAILED_PRECONDITION||a.message!==Xb)throw a;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):J.reject(i)}static resolve(e){return new J((i,s)=>{i(e)})}static reject(e){return new J((i,s)=>{s(e)})}static waitFor(e){return new J((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},p=>s(p))}),d=!0,h===o&&i()})}static or(e){let i=J.resolve(!1);for(const s of e)i=i.next(o=>o?J.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new J((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const y=p;i(e[y]).next(T=>{d[y]=T,++g,g===h&&s(d)},T=>o(T))}})}static doWhile(e,i){return new J((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function Zb(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Vs(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}yc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=-1;function _c(a){return a==null}function ic(a){return a===0&&1/a==-1/0}function Jb(a){return typeof a=="number"&&Number.isInteger(a)&&!ic(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="";function Wb(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=i_(e)),e=t1(a.get(i),e);return i_(e)}function t1(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case Vv:i+="";break;default:i+=h}}return i}function i_(a){return a+Vv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Rr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Iv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??ke.RED,this.left=o??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new ke(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(e,i,s,o,h){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new a_(this.data.getIterator())}getIteratorFrom(e){return new a_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class a_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new dn([])}unionWith(e){let i=new Re(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new dn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Nv("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const e1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(a){if(qt(!!a),typeof a=="string"){let e=0;const i=e1.exec(a);if(qt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Er(a){return typeof a=="string"?qe.fromBase64String(a):qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="server_timestamp",Mv="__type__",xv="__previous_value__",Uv="__local_write_time__";function Ld(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mv])===null||i===void 0?void 0:i.stringValue)===Ov}function vc(a){const e=a.mapValue.fields[xv];return Ld(e)?vc(e):e}function eo(a){const e=vr(a.mapValue.fields[Uv].timestampValue);return new be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,i,s,o,h,d,g,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const rc="(default)";class no{constructor(e,i){this.projectId=e,this.database=i||rc}static empty(){return new no("","")}get isDefaultDatabase(){return this.database===rc}isEqual(e){return e instanceof no&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="__type__",i1="__max__",qu={mapValue:{}},Pv="__vector__",ac="value";function Tr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Ld(a)?4:a1(a)?9007199254740991:r1(a)?10:11:Et()}function ri(a,e){if(a===e)return!0;const i=Tr(a);if(i!==Tr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return eo(a).isEqual(eo(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=vr(o.timestampValue),g=vr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Er(o.bytesValue).isEqual(Er(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),g=fe(h.doubleValue);return d===g?ic(d)===ic(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return ys(a.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(r_(d)!==r_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ri(d[p],g[p])))return!1;return!0}(a,e);default:return Et()}}function io(a,e){return(a.values||[]).find(i=>ri(i,e))!==void 0}function _s(a,e){if(a===e)return 0;const i=Tr(a),s=Tr(e);if(i!==s)return wt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return wt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=fe(h.integerValue||h.doubleValue),p=fe(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,e);case 3:return s_(a.timestampValue,e.timestampValue);case 4:return s_(eo(a),eo(e));case 5:return ld(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Er(h),p=Er(d);return g.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=wt(g[y],p[y]);if(T!==0)return T}return wt(g.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=wt(fe(h.latitude),fe(d.latitude));return g!==0?g:wt(fe(h.longitude),fe(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return l_(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,p,y,T;const S=h.fields||{},C=d.fields||{},x=(g=S[ac])===null||g===void 0?void 0:g.arrayValue,P=(p=C[ac])===null||p===void 0?void 0:p.arrayValue,K=wt(((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0,((T=P==null?void 0:P.values)===null||T===void 0?void 0:T.length)||0);return K!==0?K:l_(x,P)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===qu.mapValue&&d===qu.mapValue)return 0;if(h===qu.mapValue)return 1;if(d===qu.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const C=ld(p[S],T[S]);if(C!==0)return C;const x=_s(g[p[S]],y[T[S]]);if(x!==0)return x}return wt(p.length,T.length)}(a.mapValue,e.mapValue);default:throw Et()}}function s_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return wt(a,e);const i=vr(a),s=vr(e),o=wt(i.seconds,s.seconds);return o!==0?o:wt(i.nanos,s.nanos)}function l_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=_s(i[o],s[o]);if(h)return h}return wt(i.length,s.length)}function vs(a){return od(a)}function od(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=vr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Er(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return gt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=od(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${od(i.fields[d])}`;return o+"}"}(a.mapValue):Et()}function Ku(a){switch(Tr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vc(a);return e?16+Ku(e):16;case 5:return 2*a.stringValue.length;case 6:return Er(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Ku(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Rr(s.fields,(h,d)=>{o+=h.length+Ku(d)}),o}(a.mapValue);default:throw Et()}}function ud(a){return!!a&&"integerValue"in a}function Pd(a){return!!a&&"arrayValue"in a}function o_(a){return!!a&&"nullValue"in a}function u_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Yu(a){return!!a&&"mapValue"in a}function r1(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Lv])===null||i===void 0?void 0:i.stringValue)===Pv}function Kl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Rr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Kl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Kl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function a1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===i1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Yu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Kl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Yu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Rr(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new nn(Kl(this.value))}}function zv(a){const e=[];return Rr(a.fields,(i,s)=>{const o=new Be([i]);if(Yu(s)){const h=zv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,At.min(),At.min(),At.min(),nn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,At.min(),At.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,At.min(),At.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this.position=e,this.inclusive=i}}function c_(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=_s(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function h_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ri(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i="asc"){this.field=e,this.dir=i}}function s1(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{}class Se extends kv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new o1(e,i,s):i==="array-contains"?new h1(e,s):i==="in"?new f1(e,s):i==="not-in"?new d1(e,s):i==="array-contains-any"?new m1(e,s):new Se(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new u1(e,s):new c1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(_s(i,this.value)):i!==null&&Tr(this.value)===Tr(i)&&this.matchesComparison(_s(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends kv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ai(e,i)}matches(e){return Bv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Bv(a){return a.op==="and"}function qv(a){return l1(a)&&Bv(a)}function l1(a){for(const e of a.filters)if(e instanceof ai)return!1;return!0}function cd(a){if(a instanceof Se)return a.field.canonicalString()+a.op.toString()+vs(a.value);if(qv(a))return a.filters.map(e=>cd(e)).join(",");{const e=a.filters.map(i=>cd(i)).join(",");return`${a.op}(${e})`}}function Hv(a,e){return a instanceof Se?function(s,o){return o instanceof Se&&s.op===o.op&&s.field.isEqual(o.field)&&ri(s.value,o.value)}(a,e):a instanceof ai?function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&Hv(d,o.filters[g]),!0):!1}(a,e):void Et()}function jv(a){return a instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${vs(i.value)}`}(a):a instanceof ai?function(i){return i.op.toString()+" {"+i.getFilters().map(jv).join(" ,")+"}"}(a):"Filter"}class o1 extends Se{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class u1 extends Se{constructor(e,i){super(e,"in",i),this.keys=Gv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class c1 extends Se{constructor(e,i){super(e,"not-in",i),this.keys=Gv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Gv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class h1 extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Pd(i)&&io(i.arrayValue,this.value)}}class f1 extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&io(this.value.arrayValue,i)}}class d1 extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(io(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!io(this.value.arrayValue,i)}}class m1 extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Pd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>io(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function f_(a,e=null,i=[],s=[],o=null,h=null,d=null){return new g1(a,e,i,s,o,h,d)}function zd(a){const e=St(a);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>cd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),_c(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>vs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>vs(s)).join(",")),e.le=i}return e.le}function kd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!s1(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Hv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!h_(a.startAt,e.startAt)&&h_(a.endAt,e.endAt)}function hd(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function p1(a,e,i,s,o,h,d,g){return new Ec(a,e,i,s,o,h,d,g)}function Bd(a){return new Ec(a)}function d_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function y1(a){return a.collectionGroup!==null}function Yl(a){const e=St(a);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new lc(h,s))}),i.has(Be.keyField().canonicalString())||e.he.push(new lc(Be.keyField(),s))}return e.he}function ei(a){const e=St(a);return e.Pe||(e.Pe=_1(e,Yl(a))),e.Pe}function _1(a,e){if(a.limitType==="F")return f_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new lc(o.field,h)});const i=a.endAt?new sc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new sc(a.startAt.position,a.startAt.inclusive):null;return f_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function fd(a,e,i){return new Ec(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Tc(a,e){return kd(ei(a),ei(e))&&a.limitType===e.limitType}function Qv(a){return`${zd(ei(a))}|lt:${a.limitType}`}function hs(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>jv(o)).join(", ")}]`),_c(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>vs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>vs(o)).join(",")),`Target(${s})`}(ei(a))}; limitType=${a.limitType})`}function Ac(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):gt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of Yl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const y=c_(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,Yl(s),o)||s.endAt&&!function(d,g,p){const y=c_(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,Yl(s),o))}(a,e)}function v1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Fv(a){return(e,i)=>{let s=!1;for(const o of Yl(a)){const h=E1(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function E1(a,e,i){const s=a.field.isKeyField()?gt.comparator(e.key,i.key):function(h,d,g){const p=d.data.field(h),y=g.data.field(h);return p!==null&&y!==null?_s(p,y):Et()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rr(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return Iv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new re(gt.comparator);function Pi(){return T1}const Kv=new re(gt.comparator);function Gl(...a){let e=Kv;for(const i of a)e=e.insert(i.key,i);return e}function Yv(a){let e=Kv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ha(){return Xl()}function Xv(){return Xl()}function Xl(){return new pa(a=>a.toString(),(a,e)=>a.isEqual(e))}const A1=new re(gt.comparator),S1=new Re(gt.comparator);function Nt(...a){let e=S1;for(const i of a)e=e.add(i);return e}const b1=new Re(wt);function R1(){return b1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function $v(a){return{integerValue:""+a}}function w1(a,e){return Jb(e)?$v(e):qd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this._=void 0}}function C1(a,e,i){return a instanceof oc?function(o,h){const d={fields:{[Mv]:{stringValue:Ov},[Uv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Ld(h)&&(h=vc(h)),h&&(d.fields[xv]=h),{mapValue:d}}(i,e):a instanceof ro?Jv(a,e):a instanceof ao?Wv(a,e):function(o,h){const d=Zv(o,h),g=m_(d)+m_(o.Ie);return ud(d)&&ud(o.Ie)?$v(g):qd(o.serializer,g)}(a,e)}function D1(a,e,i){return a instanceof ro?Jv(a,e):a instanceof ao?Wv(a,e):i}function Zv(a,e){return a instanceof uc?function(s){return ud(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class oc extends Sc{}class ro extends Sc{constructor(e){super(),this.elements=e}}function Jv(a,e){const i=tE(e);for(const s of a.elements)i.some(o=>ri(o,s))||i.push(s);return{arrayValue:{values:i}}}class ao extends Sc{constructor(e){super(),this.elements=e}}function Wv(a,e){let i=tE(e);for(const s of a.elements)i=i.filter(o=>!ri(o,s));return{arrayValue:{values:i}}}class uc extends Sc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function m_(a){return fe(a.integerValue||a.doubleValue)}function tE(a){return Pd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function V1(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof ro&&o instanceof ro||s instanceof ao&&o instanceof ao?ys(s.elements,o.elements,ri):s instanceof uc&&o instanceof uc?ri(s.Ie,o.Ie):s instanceof oc&&o instanceof oc}(a.transform,e.transform)}class I1{constructor(e,i){this.version=e,this.transformResults=i}}class ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class bc{}function eE(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new iE(a.key,ni.none()):new uo(a.key,a.data,ni.none());{const i=a.data,s=nn.empty();let o=new Re(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new wr(a.key,s,new dn(o.toArray()),ni.none())}}function N1(a,e,i){a instanceof uo?function(o,h,d){const g=o.value.clone(),p=p_(o.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof wr?function(o,h,d){if(!Xu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=p_(o.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(nE(o)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function $l(a,e,i,s){return a instanceof uo?function(h,d,g,p){if(!Xu(h.precondition,d))return g;const y=h.value.clone(),T=y_(h.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,e,i,s):a instanceof wr?function(h,d,g,p){if(!Xu(h.precondition,d))return g;const y=y_(h.fieldTransforms,p,d),T=d.data;return T.setAll(nE(h)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(S=>S.field))}(a,e,i,s):function(h,d,g){return Xu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function O1(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=Zv(s.transform,o||null);h!=null&&(i===null&&(i=nn.empty()),i.set(s.field,h))}return i||null}function g_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ys(s,o,(h,d)=>V1(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class uo extends bc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wr extends bc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function nE(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function p_(a,e,i){const s=new Map;qt(a.length===i.length);for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,D1(d,g,i[o]))}return s}function y_(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,C1(h,d,e))}return s}class iE extends bc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M1 extends bc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&N1(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=$l(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=$l(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Xv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const p=eE(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(i,s)=>g_(i,s))&&ys(this.baseMutations,e.baseMutations,(i,s)=>g_(i,s))}}class Hd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){qt(e.mutations.length===s.length);let o=function(){return A1}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Hd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Ut;function P1(a){switch(a){case et.OK:return Et();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Et()}}function rE(a){if(a===void 0)return Li("GRPC error has no .code"),et.UNKNOWN;switch(a){case ye.OK:return et.OK;case ye.CANCELLED:return et.CANCELLED;case ye.UNKNOWN:return et.UNKNOWN;case ye.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case ye.INTERNAL:return et.INTERNAL;case ye.UNAVAILABLE:return et.UNAVAILABLE;case ye.UNAUTHENTICATED:return et.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case ye.NOT_FOUND:return et.NOT_FOUND;case ye.ALREADY_EXISTS:return et.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return et.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case ye.ABORTED:return et.ABORTED;case ye.OUT_OF_RANGE:return et.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return et.UNIMPLEMENTED;case ye.DATA_LOSS:return et.DATA_LOSS;default:return Et()}}(Ut=ye||(ye={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new pr([4294967295,4294967295],0);function __(a){const e=Cv().encode(a),i=new Ev;return i.update(e),new Uint8Array(i.digest())}function v_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new pr([i,s],0),new pr([o,h],0)]}class jd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=pr.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(pr.fromNumber(s)));return o.compare(z1)===1&&(o=new pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=__(e),[s,o]=v_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new jd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=__(e),[s,o]=v_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,co.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Rc(At.min(),o,new re(wt),Pi(),Nt())}}class co{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new co(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class aE{constructor(e,i){this.targetId=e,this.ge=i}}class sE{constructor(e,i,s=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class E_{constructor(){this.pe=0,this.ye=T_(),this.we=qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Nt(),i=Nt(),s=Nt();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et()}}),new co(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=T_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class k1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Pi(),this.$e=Hu(),this.Ue=Hu(),this.Ke=new re(wt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:Et()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(hd(h))if(s===0){const d=new gt(h.path);this.ze(i,d,Ke.newNoDocument(d,At.min()))}else qt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),p=g?this.nt(g,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Er(s).toUint8Array()}catch(p){if(p instanceof Nv)return ps("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new jd(d,o,h)}catch(p){return ps(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&hd(g.target)){const p=new gt(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=Nt();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new Rc(e,i,this.Ke,this.Qe,s);return this.Qe=Pi(),this.$e=Hu(),this.Ue=Hu(),this.Ke=new re(wt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new E_,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new Re(wt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Re(wt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new E_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Hu(){return new re(gt.comparator)}function T_(){return new re(gt.comparator)}const B1={asc:"ASCENDING",desc:"DESCENDING"},q1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H1={and:"AND",or:"OR"};class j1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function dd(a,e){return a.useProto3Json||_c(e)?e:{value:e}}function cc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lE(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function G1(a,e){return cc(a,e.toTimestamp())}function ii(a){return qt(!!a),At.fromTimestamp(function(i){const s=vr(i);return new be(s.seconds,s.nanos)}(a))}function Gd(a,e){return md(a,e).canonicalString()}function md(a,e){const i=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function oE(a){const e=ee.fromString(a);return qt(dE(e)),e}function gd(a,e){return Gd(a.databaseId,e.path)}function Kf(a,e){const i=oE(e);if(i.get(1)!==a.databaseId.projectId)throw new dt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new dt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(cE(i))}function uE(a,e){return Gd(a.databaseId,e)}function Q1(a){const e=oE(a);return e.length===4?ee.emptyPath():cE(e)}function pd(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function cE(a){return qt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function A_(a,e,i){return{name:gd(a,e),fields:i.value.mapValue.fields}}function F1(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(y,T){return y.useProto3Json?(qt(T===void 0||typeof T=="string"),qe.fromBase64String(T||"")):(qt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),qe.fromUint8Array(T||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const T=y.code===void 0?et.UNKNOWN:rE(y.code);return new dt(T,y.message||"")}(d);i=new sE(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Kf(a,s.document.name),h=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):At.min(),g=new nn({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,h,d,g),y=s.targetIds||[],T=s.removedTargetIds||[];i=new $u(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Kf(a,s.document),h=s.readTime?ii(s.readTime):At.min(),d=Ke.newNoDocument(o,h),g=s.removedTargetIds||[];i=new $u([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Kf(a,s.document),h=s.removedTargetIds||[];i=new $u([],h,o,null)}else{if(!("filter"in e))return Et();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new L1(o,h),g=s.targetId;i=new aE(g,d)}}return i}function K1(a,e){let i;if(e instanceof uo)i={update:A_(a,e.key,e.value)};else if(e instanceof iE)i={delete:gd(a,e.key)};else if(e instanceof wr)i={update:A_(a,e.key,e.data),updateMask:nR(e.fieldMask)};else{if(!(e instanceof M1))return Et();i={verify:gd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ro)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ao)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw Et()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:G1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Et()}(a,e.precondition)),i}function Y1(a,e){return a&&a.length>0?(qt(e!==void 0),a.map(i=>function(o,h){let d=o.updateTime?ii(o.updateTime):ii(h);return d.isEqual(At.min())&&(d=ii(h)),new I1(d,o.transformResults||[])}(i,e))):[]}function X1(a,e){return{documents:[uE(a,e.path)]}}function $1(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=uE(a,o);const h=function(y){if(y.length!==0)return fE(ai.create(y,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(y){if(y.length!==0)return y.map(T=>function(C){return{field:fs(C.field),direction:W1(C.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=dd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function Z1(a){let e=Q1(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=function(S){const C=hE(S);return C instanceof ai&&qv(C)?C.getFilters():[C]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(C=>function(P){return new lc(ds(P.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(C))}(i.orderBy));let g=null;i.limit&&(g=function(S){let C;return C=typeof S=="object"?S.value:S,_c(C)?null:C}(i.limit));let p=null;i.startAt&&(p=function(S){const C=!!S.before,x=S.values||[];return new sc(x,C)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const C=!S.before,x=S.values||[];return new sc(x,C)}(i.endAt)),p1(e,o,d,h,g,"F",p,y)}function J1(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function hE(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ds(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ds(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ds(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ds(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(a):a.fieldFilter!==void 0?function(i){return Se.create(ds(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return ai.create(i.compositeFilter.filters.map(s=>hE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et()}}(i.compositeFilter.op))}(a):Et()}function W1(a){return B1[a]}function tR(a){return q1[a]}function eR(a){return H1[a]}function fs(a){return{fieldPath:a.canonicalString()}}function ds(a){return Be.fromServerFormat(a.fieldPath)}function fE(a){return a instanceof Se?function(i){if(i.op==="=="){if(u_(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NAN"}};if(o_(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(u_(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NOT_NAN"}};if(o_(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(i.field),op:tR(i.op),value:i.value}}}(a):a instanceof ai?function(i){const s=i.getFilters().map(o=>fE(o));return s.length===1?s[0]:{compositeFilter:{op:eR(i.op),filters:s}}}(a):Et()}function nR(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function dE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,i,s,o,h=At.min(),d=At.min(),g=qe.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.Tt=e}}function rR(a){const e=Z1({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?fd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.Tn=new sR}addToCollectionParentIndex(e,i){return this.Tn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(_r.min())}updateCollectionGroup(e,i,s){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class sR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Re(ee.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Re(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mE=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(mE,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Es(0)}static Kn(){return new Es(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="LruGarbageCollector",lR=1048576;function R_([a,e],[i,s]){const o=wt(a,i);return o===0?wt(e,s):o}class oR{constructor(e){this.Hn=e,this.buffer=new Re(R_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();R_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class uR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ut(b_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Vs(i)?ut(b_,"Ignoring IndexedDB error during garbage collection: ",i):await Ds(i)}await this.er(3e5)})}}class cR{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return J.resolve(yc.ae);const s=new oR(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(S_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,h,d,g,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,g=Date.now(),this.removeTargets(e,s,i))).next(S=>(h=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),cs()<=Lt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S})))}}function hR(a,e){return new cR(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.changes=new pa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&$l(s.mutation,o,dn.empty(),be.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Nt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Nt()){const o=ha();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Gl();return h.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ha();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Nt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=Pi();const d=Xl(),g=function(){return Xl()}();return i.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof wr)?h=h.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),$l(T.mutation,y,T.mutation.getFieldMask(),be.now())):d.set(y.key,dn.empty())}),this.recalculateAndSaveOverlays(e,h).next(p=>(p.forEach((y,T)=>d.set(y,T)),i.forEach((y,T)=>{var S;return g.set(y,new dR(T,(S=d.get(y))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Xl();let o=new re((d,g)=>d-g),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let T=s.get(p)||dn.empty();T=g.applyToLocalView(y,T),s.set(p,T);const S=(o.get(g.batchId)||Nt()).add(p);o=o.insert(g.batchId,S)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,S=Xv();T.forEach(C=>{if(!h.has(C)){const x=eE(i.get(C),s.get(C));x!==null&&S.set(C,x),h=h.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return J.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):y1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):J.resolve(ha());let g=to,p=h;return d.next(y=>J.forEach(y,(T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),h.get(T)?J.resolve():this.remoteDocumentCache.getEntry(e,T).next(C=>{p=p.insert(T,C)}))).next(()=>this.populateOverlays(e,y,h)).next(()=>this.computeViews(e,p,y,Nt())).next(T=>({batchId:g,changes:Yv(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Gl();return this.indexManager.getCollectionParents(e,h).next(g=>J.forEach(g,p=>{const y=function(S,C){return new Ec(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((S,C)=>{d=d.insert(S,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ke.newInvalidDocument(T)))});let g=Gl();return d.forEach((p,y)=>{const T=h.get(p);T!==void 0&&$l(T.mutation,y,dn.empty(),be.now()),Ac(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return J.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}}(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:rR(o.bundledQuery),readTime:ii(o.readTime)}}(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.overlays=new re(gt.comparator),this.Rr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ha();return J.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.Et(e,i,h)}),J.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,i,s){const o=ha(),h=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new re((y,T)=>y-T);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=h.get(y.largestBatchId);T===null&&(T=ha(),h=h.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=ha(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>g.set(y,T)),!(g.size()>=o)););return J.resolve(g)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new U1(i,s));let h=this.Rr.get(i);h===void 0&&(h=Nt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.Vr=new Re(Oe.mr),this.gr=new Re(Oe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Oe(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new gt(new ee([])),s=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new gt(new ee([])),s=new Oe(i,e),o=new Oe(i,e+1);let h=Nt();return this.gr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return gt.comparator(e.key,i.key)||wt(e.Cr,i.Cr)}static pr(e,i){return wt(e.Cr,i.Cr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Oe.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new x1(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),h=o<0?0:o;return J.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Ud:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);h.push(g)}),J.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(wt);return i.forEach(o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{s=s.add(g.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;gt.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new gt(h),0);let g=new Re(wt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Cr)),!0)},d),J.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(i.mutations,o=>{const h=new Oe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Oe(i,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.kr=e,this.docs=function(){return new re(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Pi();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Pi();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Yb(Kb(T),s)<=0||(o.has(T.key)||Ac(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return J.resolve(h)}getAllFromCollectionGroup(e,i,s,o){Et()}qr(e,i){return J.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new ER(this)}getSize(e){return J.resolve(this.size)}}class ER extends fR{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.persistence=e,this.Qr=new pa(i=>zd(i),kd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Qd,this.targetCount=0,this.Kr=Es.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),J.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Es(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.zn(i),J.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),J.waitFor(h).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return J.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),J.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),J.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),J.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return J.resolve(s)}containsKey(e,i){return J.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new yc(0),this.zr=!1,this.zr=!0,this.jr=new yR,this.referenceDelegate=e(this),this.Hr=new TR(this),this.indexManager=new aR,this.remoteDocumentCache=function(o){return new vR(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new iR(i),this.Yr=new gR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new pR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new _R(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const o=new AR(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class AR extends $b{constructor(e){super(),this.currentSequenceNumber=e}}class Fd{constructor(e){this.persistence=e,this.ti=new Qd,this.ni=null}static ri(e){return new Fd(e)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),J.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),J.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=gt.fromPath(s);return this.si(e,o).next(h=>{h||i.removeEntry(o,At.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return J.or([()=>J.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class hc{constructor(e,i){this.persistence=e,this.oi=new pa(s=>Wb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=hR(this,i)}static ri(e,i){return new hc(e,i)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(h=>h?J.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,h.removeEntry(d,At.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),J.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ku(e.data.value)),i}ar(e,i,s){return J.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Nt(),o=Nt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Kd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return yS()?8:Zb(gS())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new SR;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,s,o){return s.documentReadCount<this.es?(cs()<=Lt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",hs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(cs()<=Lt.DEBUG&&ut("QueryEngine","Query:",hs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(cs()<=Lt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",hs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):J.resolve())}rs(e,i){if(d_(i))return J.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=fd(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Nt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,g);return this.ls(i,y,d,p.readTime)?this.rs(e,fd(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return d_(i)||o.isEqual(At.min())?J.resolve(null):this.ns.getDocuments(e,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,o)?J.resolve(null):(cs()<=Lt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),hs(i)),this.hs(e,d,i,Fb(o,to)).next(g=>g))})}cs(e,i){let s=new Re(Fv(e));return i.forEach((o,h)=>{Ac(e,h)&&(s=s.add(h))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,s){return cs()<=Lt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",hs(i)),this.ns.getDocumentsMatchingQuery(e,i,_r.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="LocalStore",RR=3e8;class wR{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new re(wt),this.Is=new pa(h=>zd(h),kd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function CR(a,e,i,s){return new wR(a,e,i,s)}async function pE(a,e){const i=St(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let p=Nt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of h){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function DR(a,e){const i=St(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,T){const S=y.batch,C=S.keys();let x=J.resolve();return C.forEach(P=>{x=x.next(()=>T.getEntry(p,P)).next(K=>{const j=y.docVersions.get(P);qt(j!==null),K.version.compareTo(j)<0&&(S.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),T.addEntry(K)))})}),x.next(()=>g.mutationQueue.removeMutationBatch(p,S))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Nt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function yE(a){const e=St(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function VR(a,e){const i=St(a),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((T,S)=>{const C=o.get(S);if(!C)return;g.push(i.Hr.removeMatchingKeys(h,T.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(h,T.addedDocuments,S)));let x=C.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?x=x.withResumeToken(qe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(T.resumeToken,s)),o=o.insert(S,x),function(K,j,X){return K.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=RR?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(C,x,T)&&g.push(i.Hr.updateTargetData(h,x))});let p=Pi(),y=Nt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))}),g.push(IR(h,d,e.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(At.min())){const T=i.Hr.getLastRemoteSnapshotVersion(h).next(S=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(T)}return J.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,p,y)).next(()=>p)}).then(h=>(i.Ts=o,h))}function IR(a,e,i){let s=Nt(),o=Nt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=Pi();return i.forEach((g,p)=>{const y=h.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ut(Yd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function NR(a,e){const i=St(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ud),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function OR(a,e){const i=St(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(h=>h?(o=h,J.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new dr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function yd(a,e,i){const s=St(a),o=s.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Vs(d))throw d;ut(Yd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function w_(a,e,i){const s=St(a);let o=At.min(),h=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,T){const S=St(p),C=S.Is.get(T);return C!==void 0?J.resolve(S.Ts.get(C)):S.Hr.getTargetData(y,T)}(s,d,ei(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{h=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?h:Nt())).next(g=>(MR(s,v1(e),g),{documents:g,gs:h})))}function MR(a,e,i){let s=a.Es.get(e)||At.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Es.set(e,s)}class C_{constructor(){this.activeTargetIds=R1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xR{constructor(){this.ho=new C_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new C_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="ConnectivityMonitor";class V_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(D_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ut(D_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function _d(){return ju===null?ju=function(){return 268435456+Math.round(2147483648*Math.random())}():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="RestConnection",LR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===rc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,h){const d=_d(),g=this.bo(e,i.toUriEncodedString());ut(Yf,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,h),this.vo(e,g,p,s).then(y=>(ut(Yf,`Received RPC '${e}' ${d}: `,y),y),y=>{throw ps(Yf,`RPC '${e}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Co(e,i,s,o,h,d){return this.So(e,i,s,o,h)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const s=LR[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class kR extends PR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const h=_d();return new Promise((d,g)=>{const p=new Tv;p.setWithCredentials(!0),p.listenOnce(Av.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Fu.NO_ERROR:const T=p.getResponseJson();ut(Qe,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case Fu.TIMEOUT:ut(Qe,`RPC '${e}' ${h} timed out`),g(new dt(et.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const S=p.getStatus();if(ut(Qe,`RPC '${e}' ${h} failed with status:`,S,"response text:",p.getResponseText()),S>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const x=C==null?void 0:C.error;if(x&&x.status&&x.message){const P=function(j){const X=j.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(X)>=0?X:et.UNKNOWN}(x.status);g(new dt(P,x.message))}else g(new dt(et.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new dt(et.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ut(Qe,`RPC '${e}' ${h} completed.`)}});const y=JSON.stringify(o);ut(Qe,`RPC '${e}' ${h} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=_d(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Rv(),g=bv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=h.join("");ut(Qe,`Creating RPC '${e}' stream ${o}: ${T}`,p);const S=d.createWebChannel(T,p);let C=!1,x=!1;const P=new zR({Fo:j=>{x?ut(Qe,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(C||(ut(Qe,`Opening RPC '${e}' stream ${o} transport.`),S.open(),C=!0),ut(Qe,`RPC '${e}' stream ${o} sending:`,j),S.send(j))},Mo:()=>S.close()}),K=(j,X,at)=>{j.listen(X,tt=>{try{at(tt)}catch(it){setTimeout(()=>{throw it},0)}})};return K(S,jl.EventType.OPEN,()=>{x||(ut(Qe,`RPC '${e}' stream ${o} transport opened.`),P.Qo())}),K(S,jl.EventType.CLOSE,()=>{x||(x=!0,ut(Qe,`RPC '${e}' stream ${o} transport closed`),P.Uo())}),K(S,jl.EventType.ERROR,j=>{x||(x=!0,ps(Qe,`RPC '${e}' stream ${o} transport errored:`,j),P.Uo(new dt(et.UNAVAILABLE,"The operation could not be completed")))}),K(S,jl.EventType.MESSAGE,j=>{var X;if(!x){const at=j.data[0];qt(!!at);const tt=at,it=(tt==null?void 0:tt.error)||((X=tt[0])===null||X===void 0?void 0:X.error);if(it){ut(Qe,`RPC '${e}' stream ${o} received error:`,it);const ot=it.status;let _t=function(R){const N=ye[R];if(N!==void 0)return rE(N)}(ot),O=it.message;_t===void 0&&(_t=et.INTERNAL,O="Unknown error status: "+ot+" with message "+it.message),x=!0,P.Uo(new dt(_t,O)),S.close()}else ut(Qe,`RPC '${e}' stream ${o} received:`,at),P.Ko(at)}}),K(g,Sv.STAT_EVENT,j=>{j.stat===sd.PROXY?ut(Qe,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===sd.NOPROXY&&ut(Qe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(a){return new j1(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="PersistentStream";class vE{constructor(e,i,s,o,h,d,g,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new _E(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new dt(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ut(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(ut(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BR extends vE{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=F1(this.serializer,e),s=function(h){if(!("targetChange"in h))return At.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ii(d.readTime):At.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=pd(this.serializer),i.addTarget=function(h,d){let g;const p=d.target;if(g=hd(p)?{documents:X1(h,p)}:{query:$1(h,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=lE(h,d.resumeToken);const y=dd(h,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=cc(h,d.snapshotVersion.toTimestamp());const y=dd(h,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=J1(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=pd(this.serializer),i.removeTarget=e,this.I_(i)}}class qR extends vE{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=Y1(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=pd(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>K1(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{}class jR extends HR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new dt(et.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,md(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new dt(et.UNKNOWN,h.toString())})}Co(e,i,s,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,md(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt(et.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class GR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Li(i),this.N_=!1):ut("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class QR{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{ya(this)&&(ut(ga,"Restarting streams for network reachability change."),await async function(p){const y=St(p);y.W_.add(4),await ho(y),y.j_.set("Unknown"),y.W_.delete(4),await Cc(y)}(this))})}),this.j_=new GR(s,o)}}async function Cc(a){if(ya(a))for(const e of a.G_)await e(!0)}async function ho(a){for(const e of a.G_)await e(!1)}function EE(a,e){const i=St(a);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),Jd(i)?Zd(i):Is(i).c_()&&$d(i,e))}function Xd(a,e){const i=St(a),s=Is(i);i.K_.delete(e),s.c_()&&TE(i,e),i.K_.size===0&&(s.c_()?s.P_():ya(i)&&i.j_.set("Unknown"))}function $d(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Is(a).y_(e)}function TE(a,e){a.H_.Ne(e),Is(a).w_(e)}function Zd(a){a.H_=new k1({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.K_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),Is(a).start(),a.j_.B_()}function Jd(a){return ya(a)&&!Is(a).u_()&&a.K_.size>0}function ya(a){return St(a).W_.size===0}function AE(a){a.H_=void 0}async function FR(a){a.j_.set("Online")}async function KR(a){a.K_.forEach((e,i)=>{$d(a,e)})}async function YR(a,e){AE(a),Jd(a)?(a.j_.q_(e),Zd(a)):a.j_.set("Unknown")}async function XR(a,e,i){if(a.j_.set("Online"),e instanceof sE&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.K_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.K_.delete(g),o.H_.removeTarget(g))}(a,e)}catch(s){ut(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fc(a,s)}else if(e instanceof $u?a.H_.We(e):e instanceof aE?a.H_.Ze(e):a.H_.je(e),!i.isEqual(At.min()))try{const s=await yE(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=h.K_.get(y);T&&h.K_.set(y,T.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const T=h.K_.get(p);if(!T)return;h.K_.set(p,T.withResumeToken(qe.EMPTY_BYTE_STRING,T.snapshotVersion)),TE(h,p);const S=new dr(T.target,p,y,T.sequenceNumber);$d(h,S)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){ut(ga,"Failed to raise snapshot:",s),await fc(a,s)}}async function fc(a,e,i){if(!Vs(e))throw e;a.W_.add(1),await ho(a),a.j_.set("Offline"),i||(i=()=>yE(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ut(ga,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await Cc(a)})}function SE(a,e){return e().catch(i=>fc(a,i,e))}async function Dc(a){const e=St(a),i=Ar(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Ud;for(;$R(e);)try{const o=await NR(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,ZR(e,o)}catch(o){await fc(e,o)}bE(e)&&RE(e)}function $R(a){return ya(a)&&a.U_.length<10}function ZR(a,e){a.U_.push(e);const i=Ar(a);i.c_()&&i.S_&&i.b_(e.mutations)}function bE(a){return ya(a)&&!Ar(a).u_()&&a.U_.length>0}function RE(a){Ar(a).start()}async function JR(a){Ar(a).C_()}async function WR(a){const e=Ar(a);for(const i of a.U_)e.b_(i.mutations)}async function tw(a,e,i){const s=a.U_.shift(),o=Hd.from(s,e,i);await SE(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Dc(a)}async function ew(a,e){e&&Ar(a).S_&&await async function(s,o){if(function(d){return P1(d)&&d!==et.ABORTED}(o.code)){const h=s.U_.shift();Ar(s).h_(),await SE(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Dc(s)}}(a,e),bE(a)&&RE(a)}async function N_(a,e){const i=St(a);i.asyncQueue.verifyOperationInProgress(),ut(ga,"RemoteStore received new credentials");const s=ya(i);i.W_.add(3),await ho(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Cc(i)}async function nw(a,e){const i=St(a);e?(i.W_.delete(2),await Cc(i)):e||(i.W_.add(2),await ho(i),i.j_.set("Unknown"))}function Is(a){return a.J_||(a.J_=function(i,s,o){const h=St(i);return h.M_(),new BR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{xo:FR.bind(null,a),No:KR.bind(null,a),Lo:YR.bind(null,a),p_:XR.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),Jd(a)?Zd(a):a.j_.set("Unknown")):(await a.J_.stop(),AE(a))})),a.J_}function Ar(a){return a.Y_||(a.Y_=function(i,s,o){const h=St(i);return h.M_(),new qR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:JR.bind(null,a),Lo:ew.bind(null,a),D_:WR.bind(null,a),v_:tw.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await Dc(a)):(await a.Y_.stop(),a.U_.length>0&&(ut(ga,`Stopping write stream with ${a.U_.length} pending writes`),a.U_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Wd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tm(a,e){if(Li("AsyncQueue",`${e}: ${a}`),Vs(a))return new dt(et.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{static emptySet(e){return new gs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Gl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new gs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.Z_=new re(gt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):Et():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ts{constructor(e,i,s,o,h,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ts(e,i,gs.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class rw{constructor(){this.queries=M_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=St(i),h=o.queries;o.queries=M_(),h.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new dt(et.ABORTED,"Firestore shutting down"))}}function M_(){return new pa(a=>Qv(a),Tc)}async function aw(a,e){const i=St(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(s=2):(h=new iw,s=e.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=tm(d,`Initialization of query '${hs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&em(i)}async function sw(a,e){const i=St(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function lw(a,e){const i=St(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(o)&&(s=!0);d.ea=o}}s&&em(i)}function ow(a,e,i){const s=St(a),o=s.queries.get(e);if(o)for(const h of o.ta)h.onError(i);s.queries.delete(e)}function em(a){a.ia.forEach(e=>{e.next()})}var vd,x_;(x_=vd||(vd={}))._a="default",x_.Cache="cache";class uw{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ts(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==vd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e){this.key=e}}class CE{constructor(e){this.key=e}}class cw{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=Fv(e),this.wa=new gs(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new O_,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,S)=>{const C=o.get(T),x=Ac(this.query,S)?S:null,P=!!C&&this.mutatedKeys.has(C.key),K=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let j=!1;C&&x?C.data.isEqual(x.data)?P!==K&&(s.track({type:3,doc:x}),j=!0):this.va(C,x)||(s.track({type:2,doc:x}),j=!0,(p&&this.ya(x,p)>0||y&&this.ya(x,y)<0)&&(g=!0)):!C&&x?(s.track({type:0,doc:x}),j=!0):C&&!x&&(s.track({type:1,doc:C}),j=!0,(p||y)&&(g=!0)),j&&(x?(d=d.add(x),h=K?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{wa:d,Da:s,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((T,S)=>function(x,P){const K=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return K(x)-K(P)}(T.type,S.type)||this.ya(T.doc,S.doc)),this.Ca(s),o=o!=null&&o;const g=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new Ts(this.query,e.wa,h,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new O_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new CE(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new wE(s))}),i}Oa(e){this.fa=e.gs,this.pa=Nt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Ts.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const nm="SyncEngine";class hw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class fw{constructor(e){this.key=e,this.Ba=!1}}class dw{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new pa(g=>Qv(g),Tc),this.qa=new Map,this.Qa=new Set,this.$a=new re(gt.comparator),this.Ua=new Map,this.Ka=new Qd,this.Wa={},this.Ga=new Map,this.za=Es.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function mw(a,e,i=!0){const s=ME(a);let o;const h=s.ka.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await DE(s,e,i,!0),o}async function gw(a,e){const i=ME(a);await DE(i,e,!0,!1)}async function DE(a,e,i,s){const o=await OR(a.localStore,ei(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await pw(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&EE(a.remoteStore,o),g}async function pw(a,e,i,s,o){a.Ha=(S,C,x)=>async function(K,j,X,at){let tt=j.view.ba(X);tt.ls&&(tt=await w_(K.localStore,j.query,!1).then(({documents:O})=>j.view.ba(O,tt)));const it=at&&at.targetChanges.get(j.targetId),ot=at&&at.targetMismatches.get(j.targetId)!=null,_t=j.view.applyChanges(tt,K.isPrimaryClient,it,ot);return L_(K,j.targetId,_t.Ma),_t.snapshot}(a,S,C,x);const h=await w_(a.localStore,e,!0),d=new cw(e,h.gs),g=d.ba(h.documents),p=co.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=d.applyChanges(g,a.isPrimaryClient,p);L_(a,i,y.Ma);const T=new hw(e,i,d);return a.ka.set(e,T),a.qa.has(i)?a.qa.get(i).push(e):a.qa.set(i,[e]),y.snapshot}async function yw(a,e,i){const s=St(a),o=s.ka.get(e),h=s.qa.get(o.targetId);if(h.length>1)return s.qa.set(o.targetId,h.filter(d=>!Tc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await yd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Xd(s.remoteStore,o.targetId),Ed(s,o.targetId)}).catch(Ds)):(Ed(s,o.targetId),await yd(s.localStore,o.targetId,!0))}async function _w(a,e){const i=St(a),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Xd(i.remoteStore,s.targetId))}async function vw(a,e,i){const s=ww(a);try{const o=await function(d,g){const p=St(d),y=be.now(),T=g.reduce((x,P)=>x.add(P.key),Nt());let S,C;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let P=Pi(),K=Nt();return p.ds.getEntries(x,T).next(j=>{P=j,P.forEach((X,at)=>{at.isValidDocument()||(K=K.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,P)).next(j=>{S=j;const X=[];for(const at of g){const tt=O1(at,S.get(at.key).overlayedDocument);tt!=null&&X.push(new wr(at.key,tt,zv(tt.value.mapValue),ni.exists(!0)))}return p.mutationQueue.addMutationBatch(x,y,X,g)}).next(j=>{C=j;const X=j.applyToLocalDocumentSet(S,K);return p.documentOverlayCache.saveOverlays(x,j.batchId,X)})}).then(()=>({batchId:C.batchId,changes:Yv(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new re(wt)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await fo(s,o.changes),await Dc(s.remoteStore)}catch(o){const h=tm(o,"Failed to persist write");i.reject(h)}}async function VE(a,e){const i=St(a);try{const s=await VR(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ua.get(h);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?qt(d.Ba):o.removedDocuments.size>0&&(qt(d.Ba),d.Ba=!1))}),await fo(i,s,e)}catch(s){await Ds(s)}}function U_(a,e,i){const s=St(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=St(d);p.onlineState=g;let y=!1;p.queries.forEach((T,S)=>{for(const C of S.ta)C.sa(g)&&(y=!0)}),y&&em(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Ew(a,e,i){const s=St(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),h=o&&o.key;if(h){let d=new re(gt.comparator);d=d.insert(h,Ke.newNoDocument(h,At.min()));const g=Nt().add(h),p=new Rc(At.min(),new Map,new re(wt),d,g);await VE(s,p),s.$a=s.$a.remove(h),s.Ua.delete(e),im(s)}else await yd(s.localStore,e,!1).then(()=>Ed(s,e,i)).catch(Ds)}async function Tw(a,e){const i=St(a),s=e.batch.batchId;try{const o=await DR(i.localStore,e);NE(i,s,null),IE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await fo(i,o)}catch(o){await Ds(o)}}async function Aw(a,e,i){const s=St(a);try{const o=await function(d,g){const p=St(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next(S=>(qt(S!==null),T=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,e);NE(s,e,i),IE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await fo(s,o)}catch(o){await Ds(o)}}function IE(a,e){(a.Ga.get(e)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(e)}function NE(a,e,i){const s=St(a);let o=s.Wa[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Ed(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.qa.get(e))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(e),a.isPrimaryClient&&a.Ka.br(e).forEach(s=>{a.Ka.containsKey(s)||OE(a,s)})}function OE(a,e){a.Qa.delete(e.path.canonicalString());const i=a.$a.get(e);i!==null&&(Xd(a.remoteStore,i),a.$a=a.$a.remove(e),a.Ua.delete(i),im(a))}function L_(a,e,i){for(const s of i)s instanceof wE?(a.Ka.addReference(s.key,e),Sw(a,s)):s instanceof CE?(ut(nm,"Document no longer in limbo: "+s.key),a.Ka.removeReference(s.key,e),a.Ka.containsKey(s.key)||OE(a,s.key)):Et()}function Sw(a,e){const i=e.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(ut(nm,"New document in limbo: "+i),a.Qa.add(s),im(a))}function im(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const i=new gt(ee.fromString(e)),s=a.za.next();a.Ua.set(s,new fw(i)),a.$a=a.$a.insert(i,s),EE(a.remoteStore,new dr(ei(Bd(i.path)),s,"TargetPurposeLimboResolution",yc.ae))}}async function fo(a,e,i){const s=St(a),o=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,e,i).then(y=>{var T;if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Kd.Yi(p.targetId,y);h.push(S)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const T=St(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>J.forEach(y,C=>J.forEach(C.Hi,x=>T.persistence.referenceDelegate.addReference(S,C.targetId,x)).next(()=>J.forEach(C.Ji,x=>T.persistence.referenceDelegate.removeReference(S,C.targetId,x)))))}catch(S){if(!Vs(S))throw S;ut(Yd,"Failed to update sequence numbers: "+S)}for(const S of y){const C=S.targetId;if(!S.fromCache){const x=T.Ts.get(C),P=x.snapshotVersion,K=x.withLastLimboFreeSnapshotVersion(P);T.Ts=T.Ts.insert(C,K)}}}(s.localStore,h))}async function bw(a,e){const i=St(a);if(!i.currentUser.isEqual(e)){ut(nm,"User change. New user:",e.toKey());const s=await pE(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(p=>{p.reject(new dt(et.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fo(i,s.Rs)}}function Rw(a,e){const i=St(a),s=i.Ua.get(e);if(s&&s.Ba)return Nt().add(s.key);{let o=Nt();const h=i.qa.get(e);if(!h)return o;for(const d of h){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function ME(a){const e=St(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=VE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ew.bind(null,e),e.La.p_=lw.bind(null,e.eventManager),e.La.Ja=ow.bind(null,e.eventManager),e}function ww(a){const e=St(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Aw.bind(null,e),e}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return CR(this.persistence,new bR,e.initialUser,this.serializer)}Xa(e){return new gE(Fd.ri,this.serializer)}Za(e){return new xR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class Cw extends dc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){qt(this.persistence.referenceDelegate instanceof hc);const s=this.persistence.referenceDelegate.garbageCollector;return new uR(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new gE(s=>hc.ri(s,i),this.serializer)}}class Td{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>U_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bw.bind(null,this.syncEngine),await nw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rw}()}createDatastore(e){const i=wc(e.databaseInfo.databaseId),s=function(h){return new kR(h)}(e.databaseInfo);return function(h,d,g,p){return new jR(h,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new QR(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>U_(this.syncEngine,i,0),function(){return V_.D()?new V_:new UR}())}createSyncEngine(e,i){return function(o,h,d,g,p,y,T){const S=new dw(o,h,d,g,p,y);return T&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=St(o);ut(ga,"RemoteStore shutting down."),h.W_.add(5),await ho(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Td.provider={build:()=>new Td};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="FirestoreClient";class Vw{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=Dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{ut(Sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ut(Sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=tm(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function $f(a,e){a.asyncQueue.verifyOperationInProgress(),ut(Sr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await pE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function P_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Iw(a);ut(Sr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>N_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>N_(e.remoteStore,o)),a._onlineComponents=e}async function Iw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ut(Sr,"Using user provided OfflineComponentProvider");try{await $f(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ps("Error using user provided cache. Falling back to memory cache: "+i),await $f(a,new dc)}}else ut(Sr,"Using default OfflineComponentProvider"),await $f(a,new Cw(void 0));return a._offlineComponents}async function xE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ut(Sr,"Using user provided OnlineComponentProvider"),await P_(a,a._uninitializedComponentsProvider._online)):(ut(Sr,"Using default OnlineComponentProvider"),await P_(a,new Td))),a._onlineComponents}function Nw(a){return xE(a).then(e=>e.syncEngine)}async function z_(a){const e=await xE(a),i=e.eventManager;return i.onListen=mw.bind(null,e.syncEngine),i.onUnlisten=yw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=gw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=_w.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(a,e,i){if(!i)throw new dt(et.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Ow(a,e,i,s){if(e===!0&&s===!0)throw new dt(et.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function B_(a){if(!gt.isDocumentKey(a))throw new dt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function q_(a){if(gt.isDocumentKey(a))throw new dt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function rm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Et()}function da(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new dt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=rm(a);throw new dt(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="firestore.googleapis.com",H_=!0;class j_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new dt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PE,this.ssl=H_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:H_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lR)throw new dt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ow("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new dt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new dt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new dt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Pb;switch(s.type){case"firstParty":return new qb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=k_.get(i);s&&(ut("ComponentProvider","Removing Datastore"),k_.delete(i),s.terminate())}(this),Promise.resolve()}}function Mw(a,e,i,s={}){var o;const h=(a=da(a,Vc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==PE&&h.host!==g&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:s});if(!tc(p,d)&&(a._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Fe.MOCK_USER;else{y=mS(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new dt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Fe(S)}a._authCredentials=new zb(new wv(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ic(this.firestore,e,this._query)}}class mn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class yr extends Ic{constructor(e,i,s){super(e,i,Bd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new gt(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function xw(a,e,...i){if(a=xi(a),LE("collection","path",e),a instanceof Vc){const s=ee.fromString(e,...i);return q_(s),new yr(a,null,s)}{if(!(a instanceof mn||a instanceof yr))throw new dt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ee.fromString(e,...i));return q_(s),new yr(a.firestore,null,s)}}function am(a,e,...i){if(a=xi(a),arguments.length===1&&(e=Dv.newId()),LE("doc","path",e),a instanceof Vc){const s=ee.fromString(e,...i);return B_(s),new mn(a,null,new gt(s))}{if(!(a instanceof mn||a instanceof yr))throw new dt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ee.fromString(e,...i));return B_(s),new mn(a.firestore,a instanceof yr?a.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="AsyncQueue";class Q_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new _E(this,"async_queue_retry"),this.Su=()=>{const s=Xf();s&&ut(G_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=Xf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Xf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new fa;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Vs(e))throw e;ut(G_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Li("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Wd.createAndSchedule(this,e,i,s,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function F_(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1}(a,["next","error","complete"])}class so extends Vc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new Q_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q_(e),this._firestoreClient=void 0,await e}}}function Uw(a,e){const i=typeof a=="object"?a:bb(),s=typeof a=="string"?a:rc,o=vb(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=fS("firestore");h&&Mw(o,...h)}return o}function zE(a){if(a._terminated)throw new dt(et.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Lw(a),a._firestoreClient}function Lw(a){var e,i,s;const o=a._freezeSettings(),h=function(g,p,y,T){return new n1(g,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,UE(T.experimentalLongPollingOptions),T.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new Vw(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._byteString=e}static fromBase64String(e){try{return new As(qe.fromBase64String(e))}catch(i){throw new dt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new As(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new dt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new dt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new dt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=/^__.*__$/;class zw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new uo(e,this.data,i,this.fieldTransforms)}}class kE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new wr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function BE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class um{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return mc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(BE(this.Lu)&&Pw.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class kw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||wc(e)}ju(e,i,s,o=!1){return new um({Lu:e,methodName:i,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qE(a){const e=a._freezeSettings(),i=wc(a._databaseId);return new kw(a._databaseId,!!e.ignoreUndefinedProperties,i)}function Bw(a,e,i,s,o,h={}){const d=a.ju(h.merge||h.mergeFields?2:0,e,i,o);cm("Data must be an object, but it was:",d,s);const g=HE(s,d);let p,y;if(h.merge)p=new dn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const S of h.mergeFields){const C=Ad(e,S,i);if(!d.contains(C))throw new dt(et.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);GE(T,C)||T.push(C)}p=new dn(T),y=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=d.fieldTransforms;return new zw(new nn(g),p,y)}class Oc extends sm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oc}}function qw(a,e,i,s){const o=a.ju(1,e,i);cm("Data must be an object, but it was:",o,s);const h=[],d=nn.empty();Rr(s,(p,y)=>{const T=hm(e,p,i);y=xi(y);const S=o.Uu(T);if(y instanceof Oc)h.push(T);else{const C=Mc(y,S);C!=null&&(h.push(T),d.set(T,C))}});const g=new dn(h);return new kE(d,g,o.fieldTransforms)}function Hw(a,e,i,s,o,h){const d=a.ju(1,e,i),g=[Ad(e,s,i)],p=[o];if(h.length%2!=0)throw new dt(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<h.length;C+=2)g.push(Ad(e,h[C])),p.push(h[C+1]);const y=[],T=nn.empty();for(let C=g.length-1;C>=0;--C)if(!GE(y,g[C])){const x=g[C];let P=p[C];P=xi(P);const K=d.Uu(x);if(P instanceof Oc)y.push(x);else{const j=Mc(P,K);j!=null&&(y.push(x),T.set(x,j))}}const S=new dn(y);return new kE(T,S,d.fieldTransforms)}function Mc(a,e){if(jE(a=xi(a)))return cm("Unsupported field value:",e,a),HE(a,e);if(a instanceof sm)return function(s,o){if(!BE(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let p=Mc(g,o.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=xi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return w1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=be.fromDate(s);return{timestampValue:cc(o.serializer,h)}}if(s instanceof be){const h=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cc(o.serializer,h)}}if(s instanceof lm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof As)return{bytesValue:lE(o.serializer,s._byteString)};if(s instanceof mn){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Gd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof om)return function(d,g){return{mapValue:{fields:{[Lv]:{stringValue:Pv},[ac]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return qd(g.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${rm(s)}`)}(a,e)}function HE(a,e){const i={};return Iv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rr(a,(s,o)=>{const h=Mc(o,e.qu(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function jE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof be||a instanceof lm||a instanceof As||a instanceof mn||a instanceof sm||a instanceof om)}function cm(a,e,i){if(!jE(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=rm(i);throw s==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+s)}}function Ad(a,e,i){if((e=xi(e))instanceof Nc)return e._internalPath;if(typeof e=="string")return hm(a,e);throw mc("Field path arguments must be of type string or ",a,!1,void 0,i)}const jw=new RegExp("[~\\*/\\[\\]]");function hm(a,e,i){if(e.search(jw)>=0)throw mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Nc(...e.split("."))._internalPath}catch{throw mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function mc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new dt(et.INVALID_ARGUMENT,g+a+p)}function GE(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(FE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Gw extends QE{data(){return super.data()}}function FE(a,e){return typeof e=="string"?hm(a,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new dt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fw{convertValue(e,i="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Rr(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[ac].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new om(h)}convertGeoPoint(e){return new lm(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=vc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(eo(e));default:return null}}convertTimestamp(e){const i=vr(e);return new be(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);qt(dE(s));const o=new no(s.get(1),s.get(3)),h=new gt(s.popFirst(5));return o.isEqual(i)||Li(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KE extends QE{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(FE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Zu extends KE{data(e={}){return super.data(e)}}class Yw{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Zu(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Fl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const p=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Fl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:Xw(g.type),doc:p,oldIndex:y,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Xw(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}class YE extends Fw{constructor(e){super(),this.firestore=e}convertBytes(e){return new As(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,i)}}function $w(a,e,i,...s){a=da(a,mn);const o=da(a.firestore,so),h=qE(o);let d;return d=typeof(e=xi(e))=="string"||e instanceof Nc?Hw(h,"updateDoc",a._key,e,i,s):qw(h,"updateDoc",a._key,e),XE(o,[d.toMutation(a._key,ni.exists(!0))])}function Zw(a,e){const i=da(a.firestore,so),s=am(a),o=Kw(a.converter,e);return XE(i,[Bw(qE(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,ni.exists(!1))]).then(()=>s)}function Jw(a,...e){var i,s,o;a=xi(a);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||F_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(F_(e[d])){const S=e[d];e[d]=(i=S.next)===null||i===void 0?void 0:i.bind(S),e[d+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[d+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,y,T;if(a instanceof mn)y=da(a.firestore,so),T=Bd(a._key.path),p={next:S=>{e[d]&&e[d](Ww(y,a,S))},error:e[d+1],complete:e[d+2]};else{const S=da(a,Ic);y=da(S.firestore,so),T=S._query;const C=new YE(y);p={next:x=>{e[d]&&e[d](new Yw(y,C,S,x))},error:e[d+1],complete:e[d+2]},Qw(a._query)}return function(C,x,P,K){const j=new Dw(K),X=new uw(x,j,P);return C.asyncQueue.enqueueAndForget(async()=>aw(await z_(C),X)),()=>{j.su(),C.asyncQueue.enqueueAndForget(async()=>sw(await z_(C),X))}}(zE(y),T,g,p)}function XE(a,e){return function(s,o){const h=new fa;return s.asyncQueue.enqueueAndForget(async()=>vw(await Nw(s),o,h)),h.promise}(zE(a),e)}function Ww(a,e,i){const s=i.docs.get(e._key),o=new YE(a);return new KE(a,o,e._key,s,new Fl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Cs=o})(Sb),nc(new Jl("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new so(new kb(s.getProvider("auth-internal")),new Hb(d,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new dt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new no(y.options.projectId,T)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ms($y,Zy,e),ms($y,Zy,"esm2017")})();const t2={apiKey:"AIzaSyCEGOC5g8eeQvTOrNpqBz8yKtF3gmhyvCc",authDomain:"household-manager-99f7c.firebaseapp.com",projectId:"household-manager-99f7c",storageBucket:"household-manager-99f7c.firebasestorage.app",messagingSenderId:"430442057672",appId:"1:430442057672:web:b318e9597dbd0c49a5fafd",measurementId:"G-01FV2PL8EK"},e2=yv(t2),fm=Uw(e2);async function K_(){return(await Zw(xw(fm,"shopping-lists"),{items:[],createdAt:new Date})).id}function n2(a,e){const i=am(fm,"shopping-lists",a);return Jw(i,s=>{s.exists()&&e(s.data())})}async function Zf(a,e){const i=am(fm,"shopping-lists",a);await $w(i,{items:e})}function i2(){const[a,e]=Y.useState(""),[i,s]=Y.useState([]),[o,h]=Y.useState(""),[d,g]=Y.useState(""),{id:p}=lA(),y=Cd(),T={en:{title:"Shopping List",placeholder:"Add item...",share:"Share",newList:"New List",footer:"Made with  by Radu",linkAlert:"Link copied to clipboard",qtyPlaceholder:"Qty",unitPlaceholder:"Unit",add:"Add"},ro:{title:"Lista de cumprturi",placeholder:"Adaug produs...",share:"Trimite",newList:"List Nou",footer:"Fcut cu  de Radu",linkAlert:"Link copiat in clipboard",qtyPlaceholder:"Cant.",unitPlaceholder:"Unitate",add:"Adaug"},es:{title:"Lista de compras",placeholder:"Agregar producto...",share:"Compartir",newList:"Lista Nueva",footer:"Hecho con  por Radu",linkAlert:"Enlace copiado al portapapeles",qtyPlaceholder:"Cant.",unitPlaceholder:"Unidad",add:"Agregar"}},[S,C]=Y.useState("en"),x=T[S];Y.useEffect(()=>{if(!p)return;if(p==="new"){K_().then(ot=>{y(`/list/${ot}`)});return}const it=n2(p,ot=>{s(ot.items||[])});return()=>it()},[p,y]);const P=it=>[...it].sort((ot,_t)=>ot.bought-_t.bought),K=()=>{if(o.trim()==="")return;const it=a.trim()===""?1:parseInt(a),ot=d.trim(),_t=P([...i,{text:o.trim(),quantity:it,unit:ot,bought:!1}]);s(_t),Zf(p,_t),h(""),e(""),g("")},j=it=>{const ot=[...i];ot[it].bought=!ot[it].bought;const _t=P(ot);s(_t),Zf(p,_t)},X=it=>{const ot=i.filter((O,b)=>b!==it),_t=P(ot);s(_t),Zf(p,_t)},at=()=>{const it=window.location.href;navigator.clipboard.writeText(it).then(()=>{alert(x.linkAlert)}).catch(()=>{alert("Failed to copy link")})},tt=()=>{K_().then(it=>{y(`/list/${it}`),s([]),h("")})};return Qt.jsxs("div",{className:"app",children:[Qt.jsxs("div",{className:"language-selector",children:[Qt.jsx("button",{onClick:()=>C("en"),className:S==="en"?"active":"",children:""}),Qt.jsx("button",{onClick:()=>C("ro"),className:S==="ro"?"active":"",children:""}),Qt.jsx("button",{onClick:()=>C("es"),className:S==="es"?"active":"",children:""})]}),Qt.jsxs("div",{className:"container",children:[Qt.jsx("h1",{children:x.title}),Qt.jsxs("div",{className:"controls",children:[Qt.jsxs("button",{onClick:tt,children:[" ",x.newList]}),Qt.jsxs("button",{onClick:at,children:[" ",x.share]})]}),Qt.jsxs("div",{className:"input-bar",children:[Qt.jsx("input",{type:"text",placeholder:x.placeholder,value:o,onChange:it=>h(it.target.value),onKeyDown:it=>it.key==="Enter"&&K(),className:"item-name-input"}),Qt.jsxs("div",{className:"input-row",children:[Qt.jsx("input",{type:"number",placeholder:x.qtyPlaceholder,value:a,onChange:it=>e(it.target.value),onKeyDown:it=>it.key==="Enter"&&K(),className:"quantity-input"}),Qt.jsx("input",{type:"text",placeholder:x.unitPlaceholder,value:d,onChange:it=>g(it.target.value),onKeyDown:it=>it.key==="Enter"&&K(),className:"unit-input"})]}),Qt.jsx("button",{className:"add-button",onClick:K,children:x.add})]}),Qt.jsx("ul",{className:"list",children:i.map((it,ot)=>Qt.jsxs("li",{className:it.bought?"bought":"",children:[Qt.jsxs("div",{className:"item-content",onClick:()=>j(ot),children:[Qt.jsx("input",{type:"checkbox",checked:it.bought,readOnly:!0}),Qt.jsxs("span",{children:[it.text,it.quantity>1||it.unit?`  ${it.quantity}${it.unit?" "+it.unit:""}`:""]})]}),Qt.jsx("button",{className:"delete-button",onClick:()=>X(ot),children:""})]},ot))})]})]})}NT.createRoot(document.getElementById("root")).render(Qt.jsx(ST.StrictMode,{children:Qt.jsx(FA,{children:Qt.jsxs(SA,{children:[Qt.jsx(Wf,{path:"/",element:Qt.jsx(TA,{to:"/list/new"})}),Qt.jsx(Wf,{path:"/list/:id",element:Qt.jsx(i2,{})})]})})}));
